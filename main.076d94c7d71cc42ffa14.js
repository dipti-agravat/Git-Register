(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService({instanceIdentifier:i});if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(void 0===e?s:e);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:i,options:r})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o)),o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"8oxB":function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var t=a(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.3.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return Xe}),n.d(e,"b",function(){return Ma}),n.d(e,"c",function(){return Na}),n.d(e,"d",function(){return ja}),n.d(e,"e",function(){return ka}),n.d(e,"f",function(){return ju}),n.d(e,"g",function(){return wu}),n.d(e,"h",function(){return Vs}),n.d(e,"i",function(){return $a}),n.d(e,"j",function(){return us}),n.d(e,"k",function(){return Ua}),n.d(e,"l",function(){return fs}),n.d(e,"m",function(){return fr}),n.d(e,"n",function(){return da}),n.d(e,"o",function(){return Hi}),n.d(e,"p",function(){return bn}),n.d(e,"q",function(){return k}),n.d(e,"r",function(){return Ze}),n.d(e,"s",function(){return oo}),n.d(e,"t",function(){return ks}),n.d(e,"u",function(){return Ds}),n.d(e,"v",function(){return Fa}),n.d(e,"w",function(){return Qs}),n.d(e,"x",function(){return Eu}),n.d(e,"y",function(){return $s}),n.d(e,"z",function(){return gu}),n.d(e,"A",function(){return Ja}),n.d(e,"B",function(){return wn}),n.d(e,"C",function(){return La}),n.d(e,"D",function(){return Pa}),n.d(e,"E",function(){return gs}),n.d(e,"F",function(){return ps}),n.d(e,"G",function(){return mr}),n.d(e,"H",function(){return ys}),n.d(e,"I",function(){return ar}),n.d(e,"J",function(){return _n}),n.d(e,"K",function(){return Tu}),n.d(e,"L",function(){return zs}),n.d(e,"M",function(){return iu}),n.d(e,"N",function(){return tn}),n.d(e,"O",function(){return bs}),n.d(e,"P",function(){return vs}),n.d(e,"Q",function(){return Js}),n.d(e,"R",function(){return M}),n.d(e,"S",function(){return mu}),n.d(e,"T",function(){return du}),n.d(e,"U",function(){return g}),n.d(e,"V",function(){return fu}),n.d(e,"W",function(){return Au}),n.d(e,"X",function(){return au}),n.d(e,"Y",function(){return Va}),n.d(e,"Z",function(){return Gi}),n.d(e,"ab",function(){return $o}),n.d(e,"bb",function(){return v}),n.d(e,"cb",function(){return or}),n.d(e,"db",function(){return Bn}),n.d(e,"eb",function(){return kn}),n.d(e,"fb",function(){return Dn}),n.d(e,"gb",function(){return Mn}),n.d(e,"hb",function(){return Pn}),n.d(e,"ib",function(){return Rn}),n.d(e,"jb",function(){return Ln}),n.d(e,"kb",function(){return zo}),n.d(e,"lb",function(){return Iu}),n.d(e,"mb",function(){return Go}),n.d(e,"nb",function(){return Ko}),n.d(e,"ob",function(){return Nn}),n.d(e,"pb",function(){return B}),n.d(e,"qb",function(){return go}),n.d(e,"rb",function(){return Io}),n.d(e,"sb",function(){return To}),n.d(e,"tb",function(){return Co}),n.d(e,"ub",function(){return Ho}),n.d(e,"vb",function(){return It}),n.d(e,"wb",function(){return f}),n.d(e,"xb",function(){return jn}),n.d(e,"yb",function(){return ao}),n.d(e,"zb",function(){return _t}),n.d(e,"Ab",function(){return os}),n.d(e,"Bb",function(){return Xr}),n.d(e,"Cb",function(){return vo}),n.d(e,"Db",function(){return Do}),n.d(e,"Eb",function(){return Ca}),n.d(e,"Fb",function(){return tt}),n.d(e,"Gb",function(){return at}),n.d(e,"Hb",function(){return E}),n.d(e,"Ib",function(){return O}),n.d(e,"Jb",function(){return it}),n.d(e,"Kb",function(){return ut}),n.d(e,"Lb",function(){return bo}),n.d(e,"Mb",function(){return So}),n.d(e,"Nb",function(){return Oo}),n.d(e,"Ob",function(){return Eo}),n.d(e,"Pb",function(){return We}),n.d(e,"Qb",function(){return Fo}),n.d(e,"Rb",function(){return mn}),n.d(e,"Sb",function(){return Qe}),n.d(e,"Tb",function(){return xa}),n.d(e,"Ub",function(){return Ao}),n.d(e,"Vb",function(){return Ia}),n.d(e,"Wb",function(){return wo}),n.d(e,"Xb",function(){return Ta}),n.d(e,"Yb",function(){return ur}),n.d(e,"Zb",function(){return ot}),n.d(e,"ac",function(){return Vo});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("EQ5u"),u=n("x+ZX");function c(){return new r.a}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function f(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(f).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function d(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function g(t){return t.__forward_ref__=g,t.toString=function(){return f(this())},t}function m(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===g}class v extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function w(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function _(t,e){const n=e?` in ${e}`:"";throw new v("201",`No provider for ${w(t)} found${n}`)}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function O(t){return{providers:t.providers||[],imports:t.imports||[]}}function S(t){return T(t,I)||T(t,x)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function C(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(j))?t[A]:null}const I=l({"\u0275prov":l}),A=l({"\u0275inj":l}),x=l({ngInjectableDef:l}),j=l({ngInjectorDef:l});var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let N;function D(t){const e=N;return N=t,e}function R(t,e,n){const r=S(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&k.Optional?null:void 0!==e?e:void _(f(t),"Injector")}function P(t){return{toString:t}.toString()}var L=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),M=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const V="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,B=V||q||F||U,H={},z=[],G=[],K=l({"\u0275cmp":l}),W=l({"\u0275dir":l}),$=l({"\u0275pipe":l}),Q=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),J=l({"\u0275fac":l}),Z=l({__NG_ELEMENT_ID__:l});let X=0;function tt(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=X++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[W]||null}(t)}function nt(t){return function(t){return t[$]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&P(()=>{rt[t.id]=t.type}),e}function ot(t,e){return P(()=>{const n=lt(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function st(t,e){if(null==t)return H;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[K]||null}function lt(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${f(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(J)?t[J]:null}class wt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function _t(){return Et}function Et(t){return t.type.prototype.ngOnChanges&&(t.setInput=St),Ot}function Ot(){const t=Tt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===H)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function St(t,e,n,r){const i=Tt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:H,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new wt(u&&u.currentValue,e,s===H),t[r]=e}function Tt(t){return t.__ngSimpleChanges__||null}let Ct;function It(t){Ct=t}function At(t){return!!t.listen}_t.ngInherit=!0;const xt={createRenderer:(t,e)=>void 0!==Ct?Ct:"undefined"!=typeof document?document:void 0};function jt(t){for(;Array.isArray(t);)t=t[0];return t}function kt(t,e){return jt(e[t.index])}function Nt(t,e){return t.data[e]}function Dt(t,e){const n=e[t];return dt(n)?n:n[0]}function Rt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Pt(t){return 4==(4&t[2])}function Lt(t){return 128==(128&t[2])}function Mt(t,e){return null==e?null:t[e]}function Vt(t){t[18]=0}function Ft(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ut={lFrame:oe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qt(){return Ut.bindingsEnabled}function Bt(){return Ut.lFrame.lView}function Ht(){return Ut.lFrame.tView}function zt(){let t=Gt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Gt(){return Ut.lFrame.currentTNode}function Kt(t,e){const n=Ut.lFrame;n.currentTNode=t,n.isParent=e}function Wt(){return Ut.lFrame.isParent}function $t(){return Ut.isInCheckNoChangesMode}function Qt(t){Ut.isInCheckNoChangesMode=t}function Yt(){return Ut.lFrame.bindingIndex++}function Jt(t,e){const n=Ut.lFrame;n.bindingIndex=n.bindingRootIndex=t,Zt(e)}function Zt(t){Ut.lFrame.currentDirectiveIndex=t}function Xt(){return Ut.lFrame.currentQueryIndex}function te(t){Ut.lFrame.currentQueryIndex=t}function ee(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ne(t,e,n){if(n&k.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&k.Host||(r=ee(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ut.lFrame=ie();return r.currentTNode=e,r.lView=t,!0}function re(t){const e=ie(),n=t[1];Ut.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ie(){const t=Ut.lFrame,e=null===t?null:t.child;return null===e?oe(t):e}function oe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function se(){const t=Ut.lFrame;return Ut.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ae=se;function ue(){const t=se();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ce(){return Ut.lFrame.selectedIndex}function le(t){Ut.lFrame.selectedIndex=t}function he(){const t=Ut.lFrame;return Nt(t.tView,t.selectedIndex)}function fe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function de(t,e,n){me(t,e,3,n)}function pe(t,e,n,r){(3&t[2])===n&&me(t,e,n,r)}function ge(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function me(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(ye(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function ye(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const ve=-1;class be{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function we(t,e,n){const r=At(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ee(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function _e(t){return 3===t||4===t||6===t}function Ee(t){return 64===t.charCodeAt(0)}function Oe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Se(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Se(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Te(t){return t!==ve}function Ce(t){return 32767&t}function Ie(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ae=!0;function xe(t){const e=Ae;return Ae=t,e}let je=0;function ke(t,e){const n=De(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ne(r.data,t),Ne(e,null),Ne(r.blueprint,null));const i=Re(t,e),o=t.injectorIndex;if(Te(i)){const t=Ce(i),n=Ie(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Ne(t,e){t.push(0,0,0,0,0,0,0,0,e)}function De(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Re(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return ve;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ve}function Pe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(r=n[Z]),null==r&&(r=n[Z]=je++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Le(t,e,n){if(n&k.Optional)return t;_(e,"NodeInjector")}function Me(t,e,n,r){if(n&k.Optional&&void 0===r&&(r=null),0==(n&(k.Self|k.Host))){const i=t[9],o=D(void 0);try{return i?i.get(e,r,n&k.Optional):R(e,r,n&k.Optional)}finally{D(o)}}return Le(r,e,n)}function Ve(t,e,n,r=k.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Z)?t[Z]:void 0;return"number"==typeof e?e>=0?255&e:Ue:e}(n);if("function"==typeof o){if(!ne(e,t,r))return r&k.Host?Le(i,n,r):Me(e,n,r,i);try{const t=o();if(null!=t||r&k.Optional)return t;_(n)}finally{ae()}}else if("number"==typeof o){let i=null,s=De(t,e),a=ve,u=r&k.Host?e[16][6]:null;for((-1===s||r&k.SkipSelf)&&(a=-1===s?Re(t,e):e[s+8],a!==ve&&Ge(r,!1)?(i=e[1],s=Ce(a),e=Ie(a,e)):s=-1);-1!==s;){const t=e[1];if(ze(o,s,t.data)){const t=qe(s,e,n,i,r,u);if(t!==Fe)return t}a=e[s+8],a!==ve&&Ge(r,e[1].data[s+8]===u)&&ze(o,s,e)?(i=t,s=Ce(a),e=Ie(a,e)):s=-1}}}return Me(e,n,r,i)}const Fe={};function Ue(){return new Ke(zt(),Bt())}function qe(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Be(a,s,n,null==r?mt(a)&&Ae:r!=s&&0!=(3&a.type),i&k.Host&&o===a);return null!==u?He(e,s,u,a):Fe}function Be(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&vt(t)&&t.type===n)return u}return null}function He(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof be){const s=i;s.resolving&&function(t,e){throw new v("200",`Circular dependency in DI detected for ${t}`)}(w(o[n]));const a=xe(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?D(s.injectImpl):null;ne(t,r,k.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Et(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&D(u),xe(a),s.resolving=!1,ae()}}return i}function ze(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Ge(t,e){return!(t&k.Self||t&k.Host&&e)}class Ke{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ve(this._tNode,this._lView,t,void 0,e)}}function We(t){return P(()=>{const e=t.prototype.constructor,n=e[J]||$e(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[J]||$e(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function $e(t){return y(t)?()=>{const e=$e(m(t));return e&&e()}:bt(t)}function Qe(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(_e(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(zt(),t)}const Ye="__parameters__";function Je(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Ye)?t[Ye]:Object.defineProperty(t,Ye,{value:[]})[Ye];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Ze{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Xe=new Ze("AnalyzeForEntryComponents"),tn=Function;function en(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),en(r,e)):e!==t&&e.push(r)}return e}function nn(t,e){t.forEach(t=>Array.isArray(t)?nn(t,e):e(t))}function rn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function on(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function sn(t,e,n){let r=un(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function an(t,e){const n=un(t,e);if(n>=0)return t[1|n]}function un(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const cn={},ln=/\n/gm,hn="__source",fn=l({provide:String,useValue:l});let dn;function pn(t){const e=dn;return dn=t,e}function gn(t,e=k.Default){if(void 0===dn)throw new Error("inject() must be called from an injection context");return null===dn?R(t,void 0,e):dn.get(t,e&k.Optional?null:void 0,e)}function mn(t,e=k.Default){return(N||gn)(m(t),e)}function yn(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=k.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(mn(t,n))}else e.push(mn(r))}return e}function vn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const bn=vn(Je("Inject",t=>({token:t})),-1),wn=vn(Je("Optional"),8),_n=vn(Je("SkipSelf"),4);let En;function On(t){var e;return(null===(e=function(){if(void 0===En&&(En=null,B.trustedTypes))try{En=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return En}())||void 0===e?void 0:e.createHTML(t))||t}class Sn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Tn extends Sn{getTypeName(){return"HTML"}}class Cn extends Sn{getTypeName(){return"Style"}}class In extends Sn{getTypeName(){return"Script"}}class An extends Sn{getTypeName(){return"URL"}}class xn extends Sn{getTypeName(){return"ResourceURL"}}function jn(t){return t instanceof Sn?t.changingThisBreaksApplicationSecurity:t}function kn(t,e){const n=Nn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Nn(t){return t instanceof Sn&&t.getTypeName()||null}function Dn(t){return new Tn(t)}function Rn(t){return new Cn(t)}function Pn(t){return new In(t)}function Ln(t){return new An(t)}function Mn(t){return new xn(t)}class Vn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(On(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Fn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=On(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=On(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Un=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,qn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Bn(t){return(t=String(t)).match(Un)||t.match(qn)?t:"unsafe:"+t}function Hn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function zn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Gn=Hn("area,br,col,hr,img,wbr"),Kn=Hn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wn=Hn("rp,rt"),$n=zn(Wn,Kn),Qn=zn(Gn,zn(Kn,Hn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zn(Wn,Hn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$n),Yn=Hn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jn=Hn("srcset"),Zn=zn(Yn,Jn,Hn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xn=Hn("script,style,template");class tr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Qn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Xn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Zn.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Yn[o]&&(s=Bn(s)),Jn[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Bn(t.trim())).join(", ")),this.buf.push(" ",e,'="',rr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Qn.hasOwnProperty(e)&&!Gn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(rr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const er=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nr=/([^\#-~ |!])/g;function rr(t){return t.replace(/&/g,"&amp;").replace(er,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(nr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ir;function or(t,e){let n=null;try{ir=ir||function(t){const e=new Fn(t);return function(){try{return!!(new window.DOMParser).parseFromString(On(""),"text/html")}catch(t){return!1}}()?new Vn(e):e}(t);let r=e?String(e):"";n=ir.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ir.getInertBodyElement(r)}while(r!==o);return On((new tr).sanitizeChildren(sr(n)||n))}finally{if(n){const t=sr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function sr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ar=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function ur(t){const e=function(){const t=Bt();return t&&t[12]}();return e?e.sanitize(ar.URL,t)||"":kn(t,"URL")?jn(t):Bn(b(t))}function cr(t){return t.ngDebugContext}function lr(t){return t.ngOriginalError}function hr(t,...e){t.error(...e)}class fr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||hr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?cr(t)?cr(t):this._findContext(lr(t)):null}_findOriginalError(t){let e=lr(t);for(;e&&lr(e);)e=lr(e);return e}}function dr(t,e){t.__ngContext__=e}const pr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function gr(t){return t instanceof Function?t():t}var mr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function yr(t,e){return(void 0)(t,e)}function vr(t){const e=t[3];return pt(e)?e[3]:e}function br(t){return _r(t[13])}function wr(t){return _r(t[4])}function _r(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Er(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const a=jt(r);0===t&&null!==n?null==i?xr(e,n,a):Ar(e,n,a,i||null,!0):1===t&&null!==n?Ar(e,n,a,i||null,!0):2===t?function(t,e,n){const r=kr(t,e);r&&function(t,e,n,r){At(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==jt(n)&&Er(e,t,r,o,i);for(let s=ft;s<n.length;s++){const i=n[s];Mr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Or(t,e,n){return At(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Sr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ft(i,-1)),n.splice(r,1)}function Tr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Sr(o,r),e>0&&(t[n-1][4]=r[4]);const s=on(t,ft+e);Mr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Cr(t,e){if(!(256&e[2])){const n=e[11];At(n)&&n.destroyNode&&Mr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ir(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Ir(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Ir(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ir(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof be)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):jt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&At(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Sr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Ar(t,e,n,r,i){At(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function xr(t,e,n){At(t)?t.appendChild(e,n):e.appendChild(n)}function jr(t,e,n,r,i){null!==r?Ar(t,e,n,r,i):xr(t,e,n)}function kr(t,e){return At(t)?t.parentNode(e):e.parentNode}function Nr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return kt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?kt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)jr(o,i,n[a],s,!1);else jr(o,i,n,s,!1)}function Dr(t,e){if(null!==e){const n=e.type;if(3&n)return kt(e,t);if(4&n)return Pr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Dr(t,n);{const n=t[e.index];return pt(n)?Pr(-1,n):jt(n)}}if(32&n)return yr(e,t)()||jt(t[e.index]);{const n=Rr(t,e);return null!==n?Array.isArray(n)?n[0]:Dr(vr(t[16]),n):Dr(t,e.next)}}return null}function Rr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Pr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Dr(t,r)}return e[7]}function Lr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&dr(jt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Lr(t,e,n.child,r,i,o,!1),Er(e,t,i,a,o);else if(32&u){const s=yr(n,r);let u;for(;u=s();)Er(e,t,i,u,o);Er(e,t,i,a,o)}else 16&u?Vr(t,e,r,n,i,o):Er(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Mr(t,e,n,r,i,o){Lr(n,r,t.firstChild,e,i,o,!1)}function Vr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Er(e,t,i,a[u],o);else Lr(t,e,a,s[3],i,o,!0)}function Fr(t,e,n){At(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ur(t,e,n){At(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function qr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Br="ng-template";function Hr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==qr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function zr(t){return 4===t.type&&t.value!==Br}function Gr(t,e,n){return e===(4!==t.type||n?t.value:Br)}function Kr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(_e(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Gr(t,u,n)||""===u&&1===e.length){if(Wr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Hr(t.attrs,c,n)){if(Wr(r))return!1;s=!0}continue}const l=$r(8&r?"class":u,i,zr(t),n);if(-1===l){if(Wr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==qr(e,c,0)||2&r&&c!==t){if(Wr(r))return!1;s=!0}}}}else{if(!s&&!Wr(r)&&!Wr(u))return!1;if(s&&Wr(u))continue;s=!1,r=u|1&r}}return Wr(r)||s}function Wr(t){return 0==(1&t)}function $r(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Qr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Kr(t,e[r],n))return!0;return!1}function Yr(t,e){return t?":not("+e.trim()+")":e}function Jr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Wr(s)||(e+=Yr(o,i),i=""),r=s,o=o||!Wr(r);n++}return""!==i&&(e+=Yr(o,i)),e}const Zr={};function Xr(t){ti(Ht(),Bt(),ce()+t,$t())}function ti(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&de(e,r,n)}else{const r=t.preOrderHooks;null!==r&&pe(e,r,0,n)}le(n)}function ei(t,e){return t<<17|e<<2}function ni(t){return t>>17&32767}function ri(t){return 2|t}function ii(t){return(131068&t)>>2}function oi(t,e){return-131069&t|e<<2}function si(t){return 1|t}function ai(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];te(i),n.contentQueries(2,e[o],o)}}}function ui(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Vt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function ci(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Gt(),s=Wt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Ut.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Ut.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Kt(o,!0),o}function li(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function hi(t,e,n){re(e);try{const r=t.viewQuery;null!==r&&Li(1,r,n);const i=t.template;null!==i&&pi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ai(t,e),t.staticViewQueries&&Li(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)ki(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ue()}}function fi(t,e,n,r){const i=e[2];if(256==(256&i))return;re(e);const o=$t();try{Vt(e),Ut.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&pi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&de(e,n,null)}else{const n=t.preOrderHooks;null!==n&&pe(e,n,0,null),ge(e,0)}if(function(t){for(let e=br(t);null!==e;e=wr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ft(r,1),n[2]|=1024}}}(e),function(t){for(let e=br(t);null!==e;e=wr(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];Lt(n)&&fi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&ai(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&de(e,n)}else{const n=t.contentHooks;null!==n&&pe(e,n,1),ge(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)le(~r);else{const i=r,o=n[++t],s=n[++t];Jt(o,i),s(2,e[i])}}}finally{le(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)xi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Li(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&de(e,n)}else{const n=t.viewHooks;null!==n&&pe(e,n,2),ge(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ft(e[3],-1))}finally{ue()}}function di(t,e,n,r){const i=e[10],o=!$t(),s=Pt(e);try{o&&!s&&i.begin&&i.begin(),s&&hi(t,e,r),fi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function pi(t,e,n,r,i){const o=ce(),s=2&r;try{le(-1),s&&e.length>ht&&ti(t,e,ht,$t()),n(r,i)}finally{le(o)}}function gi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=mi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function mi(t,e,n,r,i,o,s,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Zr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function yi(t,e,n,r){const i=Vi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Fi(t).push(r,i.length-1))}function vi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function bi(t,e,n,r,i,o,s,a){const u=kt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(qi(t,n,c,r,i),mt(e)&&function(t,e){const n=Dt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,At(o)?o.setProperty(u,r,i):Ee(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function wi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function _i(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ei(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Oi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function Si(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ti(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=bt(i.type)),s=new be(o,vt(i),null);t.blueprint[r]=s,n[r]=s,wi(t,e,0,r,li(t,n,i.hostVars,Zr),i)}function Ci(t,e,n){const r=kt(e,t),i=gi(n),o=t[10],s=Ni(t,ui(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Ii(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Ai(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function xi(t,e){const n=Dt(e,t);if(Lt(n)){const t=n[1];80&n[2]?fi(t,n,t.template,n[8]):n[5]>0&&ji(n)}}function ji(t){for(let n=br(t);null!==n;n=wr(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];fi(t,e,t.template,e[8])}else e[5]>0&&ji(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Dt(e[n],t);Lt(r)&&r[5]>0&&ji(r)}}function ki(t,e){const n=Dt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),hi(r,n,n[8])}function Ni(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Di(t){for(;t;){t[2]|=64;const e=vr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ri(t,e,n){const r=e[10];r.begin&&r.begin();try{fi(t,e,t.template,n)}catch(i){throw Ui(e,i),i}finally{r.end&&r.end()}}function Pi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Rt(n),i=r[1];di(i,r,i.template,n)}}(t[8])}function Li(t,e,n){te(0),e(t,n)}const Mi=(()=>Promise.resolve(null))();function Vi(t){return t[7]||(t[7]=[])}function Fi(t){return t.cleanup||(t.cleanup=[])}function Ui(t,e){const n=t[9],r=n?n.get(fr,null):null;r&&r.handleError(e)}function qi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Bi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=d(i,t):2==o&&(r=d(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Hi=new Ze("INJECTOR",-1);class zi{get(t,e=cn){if(e===cn){const e=new Error(`NullInjectorError: No provider for ${f(t)}!`);throw e.name="NullInjectorError",e}return e}}const Gi=new Ze("Set Injector scope."),Ki={},Wi={},$i=[];let Qi;function Yi(){return void 0===Qi&&(Qi=new zi),Qi}function Ji(t,e=null,n=null,r){return new Zi(t,n,e||Yi(),r)}class Zi{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&nn(e,n=>this.processProvider(n,t,e)),nn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Hi,eo(void 0,this));const o=this.records.get(Gi);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:f(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=cn,n=k.Default){this.assertNotDestroyed();const r=pn(this);try{if(!(n&k.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Ze)&&S(t);e=n&&this.injectableDefInScope(n)?eo(Xi(t),Ki):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&k.Self?Yi():this.parent).get(t,e=n&k.Optional&&e===cn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(f(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[hn]&&i.unshift(e[hn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=f(e);if(Array.isArray(e))i=e.map(f).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):f(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(ln,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{pn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(f(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=m(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{nn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];nn(r,t=>this.processProvider(t,n,r||$i))}}this.injectorDefTypes.add(o);const a=bt(o)||(()=>new o);this.records.set(o,eo(a,Ki));const u=r.providers;if(null!=u&&!s){const e=t;nn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ro(t=m(t))?t:m(t&&t.provide);const i=function(t,e,n){return no(t)?eo(void 0,t.useValue):eo(to(t),Ki)}(t);if(ro(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=eo(void 0,Ki,!0),e.factory=()=>yn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Ki&&(e.value=Wi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Xi(t){const e=S(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;if(t instanceof Ze)throw new Error(`Token ${f(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${f(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function to(t,e,n){let r;if(ro(t)){const e=m(t);return bt(e)||Xi(e)}if(no(t))r=()=>m(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...yn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>mn(m(t.useExisting));else{const e=m(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||Xi(e);r=()=>new e(...yn(t.deps))}var i;return r}function eo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function no(t){return null!==t&&"object"==typeof t&&fn in t}function ro(t){return"function"==typeof t}const io=function(t,e,n){return function(t,e=null,n=null,r){const i=Ji(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let oo=(()=>{class t{static create(t,e){return Array.isArray(t)?io(t,e,""):io(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=cn,t.NULL=new zi,t.\u0275prov=E({token:t,providedIn:"any",factory:()=>mn(Hi)}),t.__NG_ELEMENT_ID__=-1,t})();function so(t,e){fe(Rt(t)[1],zt())}function ao(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=uo(t.inputs),e.declaredInputs=uo(t.declaredInputs),e.outputs=uo(t.outputs);const n=i.hostBindings;n&&ho(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&co(t,o),s&&lo(t,s),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===ao&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Oe(i.hostAttrs,n=Oe(n,i.hostAttrs))}}(r)}function uo(t){return t===H?{}:t===G?[]:t}function co(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function lo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ho(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let fo=null;function po(){if(!fo){const t=B.Symbol;if(t&&t.iterator)fo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(fo=n)}}}return fo}function go(t){return!!mo(t)&&(Array.isArray(t)||!(t instanceof Map)&&po()in t)}function mo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function yo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function vo(t,e,n,r){const i=Bt();return yo(i,Yt(),e)&&(Ht(),function(t,e,n,r,i,o){const s=kt(t,e);!function(t,e,n,r,i,o,s){if(null==o)At(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?b(o):s(o,r||"",i);At(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(he(),i,t,e,n,r)),vo}function bo(t,e=k.Default){const n=Bt();return null===n?mn(t,e):Ve(zt(),n,m(t),e)}function wo(t,e,n){const r=Bt();return yo(r,Yt(),e)&&bi(Ht(),he(),r,t,e,r[11],n,!1),wo}function _o(t,e,n,r,i){const o=i?"class":"style";qi(t,n,e.inputs[o],o,r)}function Eo(t,e,n,r){const i=Bt(),o=Ht(),s=ht+t,a=i[11],u=i[s]=Or(a,e,Ut.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=ci(e,t,2,i,Mt(a,o));return function(t,e,n,r){let i=!1;if(qt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Qr(n,s.selectors,!1)&&(i||(i=[]),Pe(ke(n,e),t,s.type),vt(s)?(Ei(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Si(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=li(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Oe(n.mergedAttrs,c.hostAttrs),Ti(t,n,e,u,c),Oi(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||zr(e)?null:Ai(n,i);o.push(c),s=vi(n,u,s),a=vi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new v("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}n.mergedAttrs=Oe(n.mergedAttrs,n.attrs)}(e,n,u,Mt(a,s)),null!==u.attrs&&Bi(u,u.attrs,!1),null!==u.mergedAttrs&&Bi(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Kt(c,!0);const l=c.mergedAttrs;null!==l&&we(a,u,l);const h=c.classes;null!==h&&Ur(a,u,h);const f=c.styles;null!==f&&Fr(a,u,f),64!=(64&c.flags)&&Nr(o,i,u,c),0===Ut.lFrame.elementDepthCount&&dr(u,i),Ut.lFrame.elementDepthCount++,yt(c)&&(function(t,e,n){qt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||ke(n,e),dr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=vt(r);o&&Ci(e,n,r);const u=He(e,t,a,n);dr(u,e),null!==s&&Ii(0,a-i,u,r,0,s),o&&(Dt(n.index,e)[8]=u)}}(t,e,n,kt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ut.lFrame.currentDirectiveIndex;try{le(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Zt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||_i(r,i)}}finally{le(-1),Zt(s)}}(t,e,n))}(o,i,c),function(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&function(t,e,n=kt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}(i,c)}function Oo(){let t=zt();Wt()?Ut.lFrame.isParent=!1:(t=t.parent,Kt(t,!1));const e=t;Ut.lFrame.elementDepthCount--;const n=Ht();n.firstCreatePass&&(fe(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&_o(n,e,Bt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&_o(n,e,Bt(),e.stylesWithoutHost,!1)}function So(t,e,n,r){Eo(t,e,n,r),Oo()}function To(t){return!!t&&"function"==typeof t.then}function Co(t){return!!t&&"function"==typeof t.subscribe}const Io=Co;function Ao(t,e,n=!1,r){const i=Bt(),o=Ht(),s=zt();return function(t,e,n,r,i,o,s=!1,a){const u=yt(r),c=t.firstCreatePass&&Fi(t),l=Vi(e);let h=!0;if(3&r.type){const f=kt(r,e),d=a?a(f):H,p=d.target||f,g=l.length,m=a?t=>a(jt(t[r.index])).target:r.index;if(At(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=jo(r,e,0,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=jo(r,e,0,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}else o=jo(r,e,0,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Ao}function xo(t,e,n,r){try{return!1!==n(r)}catch(i){return Ui(t,i),!1}}function jo(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Dt(t.index,e):e;0==(32&e[2])&&Di(s);let a=xo(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=xo(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function ko(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ni(o):ii(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];No(t[a],e)&&(u=!0,t[a+1]=r?si(n):ri(n)),a=r?ni(n):ii(n)}u&&(t[n+1]=r?ri(o):si(o))}function No(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&un(t,e)>=0}function Do(t,e){return function(t,e,n,r){const i=Bt(),o=Ht(),s=function(t){const e=Ut.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ce()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Ut.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Po(n=Ro(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Ro(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==ii(r))return t[ni(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Ro(null,t,e,n[1],r),n=Po(n,e.attrs,r),function(t,e,n,r){t[ni(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Po(r,t[o].hostAttrs,true);return Po(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=ni(s),u=ii(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||un(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ni(t[a+1]);t[r+1]=ei(e,a),0!==e&&(t[e+1]=oi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ei(a,0),0!==a&&(t[a+1]=oi(t[a+1],r)),a=r;else t[r+1]=ei(u,0),0===a?a=r:t[u+1]=oi(t[u+1],r),u=r;l&&(t[r+1]=ri(t[r+1])),ko(t,c,r,!0),ko(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&un(o,e)>=0&&(n[r+1]=si(n[r+1]))}(e,c,t,r),s=ei(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==Zr&&yo(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Mo(1==(1&c)?Lo(u,e,n,i,ii(c),s):void 0)||(Mo(o)||function(t){return 2==(2&t)}(c)&&(o=Lo(u,null,n,i,a,s)),function(t,e,n,r,i){const o=At(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,function(t,e){return jt(e[t])}(ce(),n),i,o))}(o,o.data[ce()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=f(jn(t))),t}(e),true,s)}(t,e),Do}function Ro(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Po(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Po(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),sn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Lo(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===Zr&&(l=c?z:void 0);let h=c?an(l,r):u===r?l:void 0;if(o&&!Mo(h)&&(h=an(e,r)),Mo(h)&&(a=h,s))return a;const f=t[i+1];i=s?ni(f):ii(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=an(t,r))}return a}function Mo(t){return void 0!==t}function Vo(t,e=""){const n=Bt(),r=Ht(),i=t+ht,o=r.firstCreatePass?ci(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return At(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Nr(r,n,s,o),Kt(o,!1)}function Fo(t,e,n){const r=Bt();return yo(r,Yt(),e)&&bi(Ht(),he(),r,t,e,r[11],n,!0),Fo}const Uo=void 0;var qo=["en",[["a","p"],["AM","PM"],Uo],[["AM","PM"],Uo,Uo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Uo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Uo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Uo,"{1} 'at' {0}",Uo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Bo={};function Ho(t,e,n){"string"!=typeof e&&(n=e,e=t[$o.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Bo[e]=t,n&&(Bo[e][$o.ExtraData]=n)}function zo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Wo(e);if(n)return n;const r=e.split("-")[0];if(n=Wo(r),n)return n;if("en"===r)return qo;throw new Error(`Missing locale data for the locale "${t}".`)}function Go(t){return zo(t)[$o.CurrencyCode]||null}function Ko(t){return zo(t)[$o.PluralCase]}function Wo(t){return t in Bo||(Bo[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),Bo[t]}var $o=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Qo="en-US";let Yo=Qo;function Jo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Yo=t.toLowerCase().replace(/_/g,"-"))}function Zo(t,e,n,r,i){if(t=m(t),Array.isArray(t))for(let o=0;o<t.length;o++)Zo(t[o],e,n,r,i);else{const o=Ht(),s=Bt();let a=ro(t)?t:m(t.provide),u=to(t);const c=zt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(ro(t)||!t.multi){const r=new be(u,i,bo),d=es(a,e,i?l:l+f,h);-1===d?(Pe(ke(c,s),o,a),Xo(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=es(a,e,l+f,h),p=es(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){Pe(ke(c,s),o,a);const l=function(t,e,n,r,i){const o=new be(t,n,bo);return o.multi=[],o.index=e,o.componentProviders=0,ts(o,i,r&&!n),o}(i?rs:ns,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Xo(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Xo(o,t,d>-1?d:p,ts(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Xo(t,e,n,r){const i=ro(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ts(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function es(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ns(t,e,n,r){return is(this.multi,[])}function rs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=He(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),is(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],is(i,o);return o}function is(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function os(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ht();if(r.firstCreatePass){const i=vt(t);Zo(n,r.data,r.blueprint,i,!0),Zo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ss{}class as{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${f(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let us=(()=>{class t{}return t.NULL=new as,t})();function cs(...t){}function ls(t,e){return new fs(kt(t,e))}const hs=function(){return ls(zt(),Bt())};let fs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=hs,t})();function ds(t){return t instanceof fs?t.nativeElement:t}class ps{}let gs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ms(),t})();const ms=function(){const t=Bt(),e=Dt(zt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let ys=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class vs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const bs=new vs("11.2.14");class ws{constructor(){}supports(t){return go(t)}create(t){return new Es(t)}}const _s=(t,e)=>e;class Es{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||_s}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Cs(n,r,i)?e:n,s=Cs(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!go(t))throw new Error(`Error trying to diff '${f(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[po()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Os(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ts),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ts),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Os{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ss{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ts{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ss,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Is{constructor(){}supports(t){return t instanceof Map||mo(t)}create(){return new As}}class As{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||mo(t)))throw new Error(`Error trying to diff '${f(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new xs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class xs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function js(){return new ks([new ws])}let ks=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||js()),deps:[[t,new _n,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=E({token:t,providedIn:"root",factory:js}),t})();function Ns(){return new Ds([new Is])}let Ds=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ns()),deps:[[t,new _n,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:Ns}),t})();function Rs(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(jt(o)),pt(o))for(let t=ft;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Rs(e[1],e,n,r)}const s=n.type;if(8&s)Rs(t,e,n.child,r);else if(32&s){const t=yr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Rr(e,n);if(Array.isArray(t))r.push(...t);else{const n=vr(e[16]);Rs(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ps{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Rs(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Tr(t,n),on(e,n))}this._attachedToViewContainer=!1}Cr(this._lView[1],this._lView)}onDestroy(t){yi(this._lView[1],this._lView,null,t)}markForCheck(){Di(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ri(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Qt(!0);try{Ri(t,e,n)}finally{Qt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Mr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ls extends Ps{constructor(t){super(t),this._view=t}detectChanges(){Pi(this._view)}checkNoChanges(){!function(t){Qt(!0);try{Pi(t)}finally{Qt(!1)}}(this._view)}get context(){return null}}const Ms=Fs;let Vs=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ms,t.__ChangeDetectorRef__=!0,t})();function Fs(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Dt(t.index,e);return new Ps(n,n)}return 47&t.type?new Ps(e[16],e):null}(zt(),Bt(),t)}const Us=[new Is],qs=new ks([new ws]),Bs=new Ds(Us),Hs=function(){return Ws(zt(),Bt())};let zs=(()=>{class t{}return t.__NG_ELEMENT_ID__=Hs,t})();const Gs=zs,Ks=class extends Gs{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ui(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),hi(e,n,t),new Ps(n)}};function Ws(t,e){return 4&t.type?new Ks(e,t,ls(t,e)):null}class $s{}class Qs{}const Ys=function(){return na(zt(),Bt())};let Js=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ys,t})();const Zs=Js,Xs=class extends Zs{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return ls(this._hostTNode,this._hostLView)}get injector(){return new Ke(this._hostTNode,this._hostLView)}get parentInjector(){const t=Re(this._hostTNode,this._hostLView);if(Te(t)){const e=Ie(t,this._hostLView),n=Ce(t);return new Ke(e[1].data[n+8],e)}return new Ke(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ta(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get($s,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Xs(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ft?(e[4]=n[i],rn(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Pr(i,o),a=n[11],u=kr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Mr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),rn(ea(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ta(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Tr(this._lContainer,e);n&&(on(ea(this._lContainer),e),Cr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Tr(this._lContainer,e);return n&&null!=on(ea(this._lContainer),e)?new Ps(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ta(t){return t[8]}function ea(t){return t[8]||(t[8]=[])}function na(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=jt(r);else{const n=e[11];i=n.createComment("");const r=kt(t,e);Ar(n,kr(n,r),i,function(t,e){return At(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=new Array(r,!0,!1,e,null,0,t,i,null,null),Ni(e,n)}return new Xs(n,t,e)}const ra={};class ia extends us{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new aa(e,this.ngModule)}}function oa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const sa=new Ze("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>pr});class aa extends ss{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Jr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return oa(this.componentDef.inputs)}get outputs(){return oa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ra,i);return o!==ra||r===ra?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(ps,xt),s=i.get(ys,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(At(t))return t.selectRootElement(e,n===M.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Or(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:pr,clean:Mi,playerHandler:null,flags:0},f=mi(0,null,null,1,0,null,null,null,null,null),d=ui(null,f,h,l,null,null,o,a,s,i);let p,g;re(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=ci(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Bi(a,u,!0),null!==t&&(we(i,t,u),null!==a.classes&&Ur(i,t,a.classes),null!==a.styles&&Fr(i,t,a.styles)));const c=r.createRenderer(t,e),l=ui(n,gi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Pe(ke(a,n),s,e.type),Ei(s,a),Si(a,n.length,1)),Ni(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)we(a,c,["ng-version",bs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Wr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&we(a,c,t),e&&e.length>0&&Ur(a,c,e.join(" "))}if(g=Nt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=zt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ti(t,r,e,li(t,e,1,null),n));const i=He(e,t,r.directiveStart,r);dr(i,e);const o=kt(r,e);return o&&dr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=zt();e.contentQueries(1,s,t.directiveStart)}const a=zt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(le(a.index),wi(n[1],a,0,a.directiveStart,a.directiveEnd,e),_i(e,s)),s}(t,this.componentDef,d,h,[so]),hi(f,d,null)}finally{ue()}return new ua(this.componentType,p,ls(g,d),d,g)}}class ua extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Ls(r),this.componentType=t}get injector(){return new Ke(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const ca=new Map;class la extends $s{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ia(this);const n=lt(t),r=t[Y]||null;r&&Jo(r),this._bootstrapComponents=gr(n.bootstrap),this._r3Injector=Ji(t,e,[{provide:$s,useValue:this},{provide:us,useValue:this.componentFactoryResolver}],f(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=oo.THROW_IF_NOT_FOUND,n=k.Default){return t===oo||t===$s||t===Hi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ha extends Qs{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${f(e)} vs ${f(e.name)}`)}(i,ca.get(i),n),ca.set(i,n));const o=gr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new la(this.moduleType,t)}}function fa(t){return e=>{setTimeout(t,void 0,e)}}const da=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=fa(u),a&&(a=fa(a)),c&&(c=fa(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.a&&t.add(l),l}};function pa(){return this._results[po()]()}class ga{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=po(),n=ga.prototype;n[e]||(n[e]=pa)}get changes(){return this._changes||(this._changes=new da)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=en(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ma{constructor(t){this.queryList=t,this.matches=null}clone(){return new ma(this.queryList)}setDirty(){this.queryList.setDirty()}}class ya{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ya(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Aa(t,e).matches&&this.queries[e].setDirty()}}class va{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class ba{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new ba(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class wa{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new wa(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,_a(e,i)),this.matchTNodeWithReadOption(t,e,Be(e,t,i,!1,!1))}else n===zs?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Be(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===fs||r===Js||r===zs&&4&e.type)this.addMatch(e.index,-2);else{const n=Be(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function _a(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ea(t,e,n,r){return-1===n?function(t,e){return 11&t.type?ls(t,e):4&t.type?Ws(t,e):null}(e,t):-2===n?function(t,e,n){return n===fs?ls(e,t):n===zs?Ws(e,t):n===Js?na(e,t):void 0}(t,e,r):He(t,t[1],n,e)}function Oa(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Ea(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Sa(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Oa(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ft;t<s.length;t++){const e=s[t];e[17]===e[3]&&Sa(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Sa(n[1],n,i,r)}}}}}return r}function Ta(t){const e=Bt(),n=Ht(),r=Xt();te(r+1);const i=Aa(n,r);if(t.dirty&&Pt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Sa(n,e,r,[]):Oa(n,e,i,r);t.reset(o,ds),t.notifyOnChanges()}return!0}return!1}function Ca(t,e,n,r){const i=Ht();if(i.firstCreatePass){const o=zt();(function(t,e,n){null===t.queries&&(t.queries=new ba),t.queries.track(new wa(e,n))})(i,new va(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new ga(4==(4&n));yi(t,e,r,r.destroy),null===e[19]&&(e[19]=new ya),e[19].queries.push(new ma(r))}(i,Bt(),n)}function Ia(){return t=Bt(),e=Xt(),t[19].queries[e].queryList;var t,e}function Aa(t,e){return t.queries.getByIndex(e)}function xa(t=k.Default){const e=Fs(!0);if(null!=e||t&k.Optional)return e;_("ChangeDetectorRef")}const ja=new Ze("Application Initializer");let ka=(()=>{class t{constructor(t){this.appInits=t,this.resolve=cs,this.reject=cs,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();To(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(mn(ja,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Na=new Ze("AppId"),Da={provide:Na,useFactory:function(){return`${Ra()}${Ra()}${Ra()}`},deps:[]};function Ra(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Pa=new Ze("Platform Initializer"),La=new Ze("Platform ID"),Ma=new Ze("appBootstrapListener");let Va=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Fa=new Ze("LocaleId"),Ua=new Ze("DefaultCurrencyCode");class qa{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Ba=function(t){return new ha(t)},Ha=Ba,za=function(t){return Promise.resolve(Ba(t))},Ga=function(t){const e=Ba(t),n=gr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new aa(n)),t},[]);return new qa(e,n)},Ka=Ga,Wa=function(t){return Promise.resolve(Ga(t))};let $a=(()=>{class t{constructor(){this.compileModuleSync=Ha,this.compileModuleAsync=za,this.compileModuleAndAllComponentsSync=Ka,this.compileModuleAndAllComponentsAsync=Wa}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Qa=(()=>Promise.resolve(0))();function Ya(t){"undefined"==typeof Zone?Qa.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ja{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new da(!1),this.onMicrotaskEmpty=new da(!1),this.onStable=new da(!1),this.onError=new da(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,tu(t),Xa(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),tu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return eu(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),nu(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return eu(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),nu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,tu(t),Xa(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ja.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ja.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Za,cs,cs);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Za={};function Xa(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function tu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function eu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function nu(t){t._nesting--,Xa(t)}class ru{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new da,this.onMicrotaskEmpty=new da,this.onStable=new da,this.onError=new da}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let iu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ja.assertNotInAngularZone(),Ya(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ya(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(mn(Ja))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),ou=(()=>{class t{constructor(){this._applications=new Map,cu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return cu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class su{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function au(t){cu=t}let uu,cu=new su,lu=!0,hu=!1;function fu(){return hu=!0,lu}function du(){if(hu)throw new Error("Cannot enable prod mode after platform setup.");lu=!1}const pu=new Ze("AllowMultipleToken");class gu{constructor(t,e){this.name=t,this.token=e}}function mu(t,e,n=[]){const r=`Platform: ${e}`,i=new Ze(r);return(e=[])=>{let o=yu();if(!o||o.injector.get(pu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Gi,useValue:"platform"});!function(t){if(uu&&!uu.destroyed&&!uu.injector.get(pu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");uu=t.get(vu);const e=t.get(Pa,null);e&&e.forEach(t=>t())}(oo.create({providers:t,name:r}))}return function(t){const e=yu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function yu(){return uu&&!uu.destroyed?uu:null}let vu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new ru:("zone.js"===t?void 0:t)||new Ja({enableLongStackTrace:fu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Ja,useValue:n}];return n.run(()=>{const e=oo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(fr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{_u(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return To(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(ka);return t.runInitializers(),t.donePromise.then(()=>(Jo(i.injector.get(Fa,Qo)||Qo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=bu({},e);return function(t,e,n){const r=new ha(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(wu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${f(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(mn(oo))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function bu(t,e){return Array.isArray(e)?e.reduce(bu,t):Object.assign(Object.assign({},t),e)}let wu=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ja.assertNotInAngularZone(),Ya(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ja.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(l,h.pipe(t=>{return Object(u.a)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ss?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get($s),i=n.create(oo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(iu,null),a=s&&i.injector.get(ou);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),_u(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;_u(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ma,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(mn(Ja),mn(oo),mn(fr),mn(us),mn(ka))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function _u(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Eu{}class Ou{}const Su={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Tu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Su}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Cu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Cu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(mn($a),mn(Ou,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Cu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Iu=function(t){return null},Au=mu(null,"core",[{provide:La,useValue:"unknown"},{provide:vu,deps:[oo]},{provide:ou,deps:[]},{provide:Va,deps:[]}]),xu=[{provide:wu,useClass:wu,deps:[Ja,oo,fr,us,ka]},{provide:sa,deps:[Ja],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ka,useClass:ka,deps:[[new wn,ja]]},{provide:$a,useClass:$a,deps:[]},Da,{provide:ks,useFactory:function(){return qs},deps:[]},{provide:Ds,useFactory:function(){return Bs},deps:[]},{provide:Fa,useFactory:function(t){return Jo(t=t||"undefined"!=typeof $localize&&$localize.locale||Qo),t},deps:[[new bn(Fa),new wn,new _n]]},{provide:Ua,useValue:"USD"}];let ju=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(mn(wu))},t.\u0275mod=it({type:t}),t.\u0275inj=O({providers:xu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,y.prototype.create),o}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new m(i,a,r);return u},t}();function v(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function O(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return C}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return S}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.r("angularfire2.app.options"),b=new u.r("angularfire2.app.nameOrConfig"),w=new u.P("6.1.0");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));if(JSON.stringify(e)!==JSON.stringify(o.options)){const e=!!t.hot;O("error",`${o.toString()} already initialized with different options${e?", you may need to reload as Firebase is not HMR aware.":"."}`)}return o}const E=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s&&o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n}))return O("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`),s;{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:_,deps:[v,u.A,[new u.B,b]]};let C=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Rb(u.C))},t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.f)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.17",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Rb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(s))},t.\u0275prov=Object(r.Hb)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Rb)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Rb)(s).location;return new b(Object(r.Rb)(a),e&&e.origin||"")}const v=new r.r("appBaseHref");let b=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a),r.Rb(v,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a),r.Rb(v,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(m),r.Rb(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Hb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new _(Object(r.Rb)(m),Object(r.Rb)(a))}function O(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const T=r.nb;class C{}let I=(()=>{class t extends C{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.v))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[{provide:C,useClass:I}]}),t})();function x(t){return"server"===t}let j=(()=>{class t{}return t.\u0275prov=Object(r.Hb)({token:t,providedIn:"root",factory:()=>new k(Object(r.Rb)(s),window)}),t})();class k{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=N(this.window.history)||N(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function N(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class D extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new D,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=P||(P=document.querySelector("base"),P)?P.getAttribute("href"):null;return null==e?null:(n=e,R||(R=document.createElement("a")),R.setAttribute("href",n),"/"===R.pathname.charAt(0)?R.pathname:"/"+R.pathname);var n}resetBaseElement(){P=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let R,P=null;const L=new r.r("TRANSITION_ID"),M=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[L,s,r.s],multi:!0}];class V{static init(){Object(r.X)(new V)}addToWindow(t){r.pb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.pb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.pb.getAllAngularRootElements=()=>t.getAllRootElements(),r.pb.frameworkStabilizers||(r.pb.frameworkStabilizers=[]),r.pb.frameworkStabilizers.push(t=>{const e=r.pb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const F=new r.r("EventManagerPlugins");let U=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(F),r.Rb(r.A))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class q{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let B=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),H=(()=>{class t extends B{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(z),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(z))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function z(t){o().remove(t)}const G={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},K=/%COMP%/g;function W(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?W(t,i,n):(i=i.replace(K,t),n.push(i))}return n}function $(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Q=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Y(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new J(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new Z(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=W(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(U),r.Rb(H),r.Rb(r.c))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class Y{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(G[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=G[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=G[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,$(n)):this.eventManager.addEventListener(t,e,$(n))}}class J extends Y{constructor(t,e,n,r){super(t),this.component=n;const i=W(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(K,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(K,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Z extends Y{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=W(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let X=(()=>{class t extends q{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const tt=["alt","control","meta","shift"],et={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},rt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let it=(()=>{class t extends q{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(tt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&nt.hasOwnProperty(e)&&(e=nt[e]))}return et[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),tt.forEach(r=>{r!=n&&(0,rt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const ot=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){D.makeCurrent(),V.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.vb)(document),document},deps:[]}],st=Object(r.S)(r.W,"browser",ot),at=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:F,useClass:X,multi:!0,deps:[s,r.A,r.C]},{provide:F,useClass:it,multi:!0,deps:[s]},[],{provide:Q,useClass:Q,deps:[U,H,r.c]},{provide:r.F,useExisting:Q},{provide:B,useExisting:H},{provide:H,useClass:H,deps:[s]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:U,useClass:U,deps:[F,r.A]},[]];let ut=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:L,useExisting:r.c},M]}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(t,12))},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:at,imports:[A,r.f]}),t})();"undefined"!=typeof window&&window;var ct=n("Cfvw"),lt=n("HDdC"),ht=n("DH7j"),ft=n("lJxs"),dt=n("XoHu");function pt(t,e){return new lt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(ct.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const gt=new r.r("NgValueAccessor"),mt={provide:gt,useExisting:Object(r.U)(()=>vt),multi:!0},yt=new r.r("CompositionEventMode");let vt=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l),r.Lb(yt,8))},t.\u0275dir=r.Gb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Ub("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Ab([mt])]}),t})();function bt(t){return null==t||0===t.length}function wt(t){return null!=t&&"number"==typeof t.length}const _t=new r.r("NgValidators"),Et=new r.r("NgAsyncValidators"),Ot=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class St{static min(t){return function(t){return e=>{if(bt(e.value)||bt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(bt(e.value)||bt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return function(t){return bt(t.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return bt(t.value)||Ot.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>bt(e.value)||!wt(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>wt(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return Tt;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(bt(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return kt(t)}static composeAsync(t){return Dt(t)}}function Tt(t){return null}function Ct(t){return null!=t}function It(t){const e=Object(r.sb)(t)?Object(ct.a)(t):t;return Object(r.rb)(e),e}function At(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function xt(t,e){return e.map(e=>e(t))}function jt(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function kt(t){if(!t)return null;const e=t.filter(Ct);return 0==e.length?null:function(t){return At(xt(t,e))}}function Nt(t){return null!=t?kt(jt(t)):null}function Dt(t){if(!t)return null;const e=t.filter(Ct);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(ht.a)(e))return pt(e,null);if(Object(dt.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return pt(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return pt(t=1===t.length&&Object(ht.a)(t[0])?t[0]:t,null).pipe(Object(ft.a)(t=>e(...t)))}return pt(t,null)}(xt(t,e).map(It)).pipe(Object(ft.a)(At))}}function Rt(t){return null!=t?Dt(jt(t)):null}function Pt(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Lt(t){return t._rawValidators}function Mt(t){return t._rawAsyncValidators}let Vt=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Nt(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Rt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t}),t})(),Ft=(()=>{class t extends Vt{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Ut(e||t)},t.\u0275dir=r.Gb({type:t,features:[r.yb]}),t})();const Ut=r.Pb(Ft);class qt extends Vt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Bt{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let Ht=(()=>{class t extends Bt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(qt,2))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.yb]}),t})(),zt=(()=>{class t extends Bt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Ft,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.yb]}),t})();function Gt(t,e){$t(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Yt(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Yt(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Kt(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Qt(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Wt(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function $t(t,e,n){const r=Lt(t);null!==e.validator?t.setValidators(Pt(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Mt(t);if(null!==e.asyncValidator?t.setAsyncValidators(Pt(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();Wt(e._rawValidators,n),Wt(e._rawAsyncValidators,n)}}function Qt(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=Lt(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=Mt(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};Wt(e._rawValidators,t),Wt(e._rawAsyncValidators,t)}return r}function Yt(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Jt(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Zt="VALID",Xt="INVALID",te="PENDING",ee="DISABLED";function ne(t){return(se(t)?t.validators:t)||null}function re(t){return Array.isArray(t)?Nt(t):t||null}function ie(t,e){return(se(e)?e.asyncValidators:t)||null}function oe(t){return Array.isArray(t)?Rt(t):t||null}function se(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class ae{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=re(this._rawValidators),this._composedAsyncValidatorFn=oe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Zt}get invalid(){return this.status===Xt}get pending(){return this.status==te}get disabled(){return this.status===ee}get enabled(){return this.status!==ee}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=re(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=oe(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=te,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ee,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Zt,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Zt&&this.status!==te||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ee:Zt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=te,this._hasOwnPendingAsyncValidator=!0;const e=It(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof ce?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof le&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?ee:this.errors?Xt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(te)?te:this._anyControlsHaveStatus(Xt)?Xt:Zt}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){se(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ue extends ae{constructor(t=null,e,n){super(ne(e),ie(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Jt(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Jt(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ce extends ae{constructor(t,e,n){super(ne(e),ie(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ue?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class le extends ae{constructor(t,e,n){super(ne(e),ie(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ue?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let he=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),fe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({}),t})();const de=new r.r("NgModelWithFormControlWarning"),pe={provide:Ft,useExisting:Object(r.U)(()=>ge)};let ge=(()=>{class t extends Ft{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qt(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Gt(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Kt(t.control||null,t,!1),Jt(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(Kt(e||null,t),n instanceof ue&&(Gt(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);(function(t,e){$t(t,e,!1)})(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return Qt(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$t(this.form,this,!1),this._oldForm&&Qt(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(_t,10),r.Lb(Et,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Ub("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Ab([pe]),r.yb,r.zb]}),t})();const me={provide:qt,useExisting:Object(r.U)(()=>ye)};let ye=(()=>{class t extends qt{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===vt?n=t:Object.getPrototypeOf(t.constructor)===class{}?r=t:i=t}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t=null==this.name?this.name:this.name.toString(),[...this._parent.path,t];var t}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Ft,13),r.Lb(_t,10),r.Lb(Et,10),r.Lb(gt,10),r.Lb(de,8))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Ab([me]),r.yb,r.zb]}),t._ngModelWarningSentOnce=!1,t})(),ve=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[[fe]]}),t})(),be=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[ve]}),t})(),we=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:de,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[ve]}),t})(),_e=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,o=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new ce(n,{asyncValidators:o,updateOn:r,validators:i})}control(t,e,n){return new ue(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new le(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof ue||t instanceof ce||t instanceof le?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return new t},token:t,providedIn:we}),t})();var Ee=n("spgP"),Oe=n("mrSG"),Se=n("D0XW"),Te=n("LRne"),Ce=n("7o/Q");function Ie(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ae(t,e,n))}}class Ae{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new xe(t,this.accumulator,this.seed,this.hasSeed))}}class xe extends Ce.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function je(t,e){return function(n){return n.lift(new ke(t,e))}}class ke{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ne(t,this.predicate,this.thisArg))}}class Ne extends Ce.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var De=n("pxpQ"),Re=n("zIRd"),Pe=n("q/0M"),Le=n("qOnz"),Me=function(t,e){return(Me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ve(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Fe,Ue="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},qe=qe||{},Be=Ue||self;function He(){}function ze(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ge(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ke="closure_uid_"+(1e9*Math.random()>>>0),We=0;function $e(t,e,n){return t.call.apply(t.bind,arguments)}function Qe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ye(t,e,n){return(Ye=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$e:Qe).apply(null,arguments)}function Je(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ze(){return Date.now()}function Xe(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function tn(){this.j=this.j,this.i=this.i}tn.prototype.j=!1,tn.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Ke)&&t[Ke]||(t[Ke]=++We)}(this)},tn.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var en=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},nn=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function rn(t){return Array.prototype.concat.apply([],arguments)}function on(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function sn(t){return/^[\s\xa0]*$/.test(t)}var an,un=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function cn(t,e){return-1!=t.indexOf(e)}function ln(t,e){return t<e?-1:t>e?1:0}t:{var hn=Be.navigator;if(hn){var fn=hn.userAgent;if(fn){an=fn;break t}}an=""}function dn(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function pn(t){var e={};for(var n in t)e[n]=t[n];return e}var gn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mn(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gn.length;o++)n=gn[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yn(t){return yn[" "](t),t}yn[" "]=He;var vn,bn,wn=cn(an,"Opera"),_n=cn(an,"Trident")||cn(an,"MSIE"),En=cn(an,"Edge"),On=En||_n,Sn=cn(an,"Gecko")&&!(cn(an.toLowerCase(),"webkit")&&!cn(an,"Edge"))&&!(cn(an,"Trident")||cn(an,"MSIE"))&&!cn(an,"Edge"),Tn=cn(an.toLowerCase(),"webkit")&&!cn(an,"Edge");function Cn(){var t=Be.document;return t?t.documentMode:void 0}t:{var In="",An=(bn=an,Sn?/rv:([^\);]+)(\)|;)/.exec(bn):En?/Edge\/([\d\.]+)/.exec(bn):_n?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(bn):Tn?/WebKit\/(\S+)/.exec(bn):wn?/(?:Version)[ \/]?(\S+)/.exec(bn):void 0);if(An&&(In=An?An[1]:""),_n){var xn=Cn();if(null!=xn&&xn>parseFloat(In)){vn=String(xn);break t}}vn=In}var jn={};function kn(t){return function(t,e){var n=jn;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=un(String(vn)).split("."),r=un(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ln(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ln(0==s[2].length,0==a[2].length)||ln(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Nn=Be.document&&_n&&(Cn()||parseInt(vn,10))||void 0,Dn=!_n||9<=Number(Nn),Rn=_n&&!kn("9"),Pn=function(){if(!Be.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Be.addEventListener("test",He,e),Be.removeEventListener("test",He,e)}catch(n){}return t}();function Ln(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Mn(t,e){if(Ln.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Sn){t:{try{yn(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Vn[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Ln.prototype.b=function(){this.defaultPrevented=!0},Xe(Mn,Ln);var Vn={2:"touch",3:"pen",4:"mouse"};Mn.prototype.b=function(){Mn.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Rn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Fn="closure_listenable_"+(1e6*Math.random()|0),Un=0;function qn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Un,this.Y=this.Z=!1}function Bn(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Hn(t){this.src=t,this.a={},this.b=0}function zn(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=en(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Bn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Gn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Hn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Gn(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new qn(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Kn="closure_lm_"+(1e6*Math.random()|0),Wn={};function $n(t,e,n,r,i){if(r&&r.once)return Yn(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)$n(t,e[o],n,r,i);return null}return n=ir(n),t&&t[Fn]?t.va(e,n,Ge(r)?!!r.capture:!!r,i):Qn(t,e,n,!1,r,i)}function Qn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ge(i)?!!i.capture:!!i;if(s&&!Dn)return null;var a=nr(t);if(a||(t[Kn]=a=new Hn(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=er,e=Dn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Pn||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Xn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Yn(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Yn(t,e[o],n,r,i);return null}return n=ir(n),t&&t[Fn]?t.wa(e,n,Ge(r)?!!r.capture:!!r,i):Qn(t,e,n,!0,r,i)}function Jn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Jn(t,e[o],n,r,i);else r=Ge(r)?!!r.capture:!!r,n=ir(n),t&&t[Fn]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Gn(o=t.a[e],n,r,i))&&(Bn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=nr(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Gn(e,n,r,i)),(n=-1<t?e[t]:null)&&Zn(n))}function Zn(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Fn])zn(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Xn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=nr(e))?(zn(n,t),0==n.b&&(n.src=null,e[Kn]=null)):Bn(t)}}}function Xn(t){return t in Wn?Wn[t]:Wn[t]="on"+t}function tr(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Zn(t),n.call(r,e)}function er(t,e){if(t.Y)return!0;if(!Dn){if(!e)t:{e=["window","event"];for(var n=Be,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return tr(t,e=new Mn(e,this))}return tr(t,new Mn(e,this))}function nr(t){return(t=t[Kn])instanceof Hn?t:null}var rr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ir(t){return"function"==typeof t?t:(t[rr]||(t[rr]=function(e){return t.handleEvent(e)}),t[rr])}function or(){tn.call(this),this.c=new Hn(this),this.J=this,this.C=null}function sr(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Ln(e,t);else if(e instanceof Ln)e.target=e.target||t;else{var i=e;mn(e=new Ln(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=ar(s,r,!0,e)&&i}if(i=ar(s=e.a=t,r,!0,e)&&i,i=ar(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=ar(s=e.a=n[o],r,!1,e)&&i}function ar(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&zn(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Xe(or,tn),or.prototype[Fn]=!0,(Fe=or.prototype).addEventListener=function(t,e,n,r){$n(this,t,e,n,r)},Fe.removeEventListener=function(t,e,n,r){Jn(this,t,e,n,r)},Fe.G=function(){if(or.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Bn(n[r]);delete e.a[t],e.b--}}this.C=null},Fe.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Fe.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var ur=Be.JSON.stringify;function cr(){this.b=this.a=null}var lr,hr=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new dr},function(t){t.reset()});function fr(){var t=yr,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function dr(){this.next=this.b=this.a=null}function pr(t){Be.setTimeout(function(){throw t},0)}function gr(t,e){lr||function(){var t=Be.Promise.resolve(void 0);lr=function(){t.then(vr)}}(),mr||(lr(),mr=!0),yr.add(t,e)}cr.prototype.add=function(t,e){var n=hr.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},dr.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},dr.prototype.reset=function(){this.next=this.b=this.a=null};var mr=!1,yr=new cr;function vr(){for(var t;t=fr();){try{t.a.call(t.b)}catch(n){pr(n)}var e=hr;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}mr=!1}function br(t,e){or.call(this),this.b=t||1,this.a=e||Be,this.f=Ye(this.Za,this),this.g=Ze()}function wr(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function _r(t,e,n){if("function"==typeof t)n&&(t=Ye(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ye(t.handleEvent,t)}return 2147483647<Number(e)?-1:Be.setTimeout(t,e||0)}function Er(t){t.a=_r(function(){t.a=null,t.c&&(t.c=!1,Er(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Xe(br,or),(Fe=br.prototype).aa=!1,Fe.M=null,Fe.Za=function(){if(this.aa){var t=Ze()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),sr(this,"tick"),this.aa&&(wr(this),this.start()))}},Fe.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ze())},Fe.G=function(){br.X.G.call(this),wr(this),delete this.a};var Or=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Me(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Er(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Be.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(tn);function Sr(t){tn.call(this),this.b=t,this.a={}}Xe(Sr,tn);var Tr=[];function Cr(t,e,n,r){Array.isArray(n)||(n&&(Tr[0]=n.toString()),n=Tr);for(var i=0;i<n.length;i++){var o=$n(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ir(t){dn(t.a,function(t,e){this.a.hasOwnProperty(e)&&Zn(t)},t),t.a={}}function Ar(){this.a=!0}function xr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ur(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Sr.prototype.G=function(){Sr.X.G.call(this),Ir(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ar.prototype.info=function(){};var jr={},kr=null;function Nr(){return kr=kr||new or}function Dr(t){Ln.call(this,jr.Fa,t)}function Rr(t){var e=Nr();sr(e,new Dr(e,t))}function Pr(t,e){Ln.call(this,jr.STAT_EVENT,t),this.stat=e}function Lr(t){var e=Nr();sr(e,new Pr(e,t))}function Mr(t){Ln.call(this,jr.Ga,t)}function Vr(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Be.setTimeout(function(){t()},e)}jr.Fa="serverreachability",Xe(Dr,Ln),jr.STAT_EVENT="statevent",Xe(Pr,Ln),jr.Ga="timingevent",Xe(Mr,Ln);var Fr={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ur={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function qr(){}function Br(){}qr.prototype.a=null;var Hr,zr={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Gr(){Ln.call(this,"d")}function Kr(){Ln.call(this,"c")}function Wr(){}function $r(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Sr(this),this.P=Qr,this.R=new br(t=On?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Xe(Gr,Ln),Xe(Kr,Ln),Xe(Wr,qr),Hr=new Wr;var Qr=45e3,Yr={},Jr={};function Zr(t,e,n){t.H=1,t.i=wi(pi(e)),t.j=n,t.I=!0,Xr(t,null)}function Xr(t,e){t.u=Ze(),ni(t),t.l=pi(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Di(n.b,"t",r),t.D=0,t.a=Ao(t.g,t.g.C?e:null),0<t.O&&(t.F=new Or(Ye(t.Ca,t,t.a),t.O)),Cr(t.J,t.a,"readystatechange",t.Xa),e=t.B?pn(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Rr(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function ti(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ei(t,n);if(i==Jr){4==e&&(t.h=4,Lr(14),r=!1),xr(t.c,t.f,null,"[Incomplete Response]");break}if(i==Yr){t.h=4,Lr(15),xr(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}xr(t.c,t.f,i,null),ai(t,i)}4==e&&0==n.length&&(t.h=1,Lr(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),wo(e),e.F=!0,Lr(11))):(xr(t.c,t.f,n,"[Invalid Chunked Response]"),si(t),oi(t))}function ei(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Jr:(n=Number(e.substring(n,r)),isNaN(n)?Yr:(r+=1)+n>e.length?Jr:(e=e.substr(r,n),t.D=r+n,e))}function ni(t){t.T=Ze()+t.P,ri(t,t.P)}function ri(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Vr(Ye(t.Va,t),e)}function ii(t){t.o&&(Be.clearTimeout(t.o),t.o=null)}function oi(t){0==t.g.v||t.A||Oo(t.g,t)}function si(t){ii(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,wr(t.R),Ir(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ai(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ui(n.b,t)))if(n.I=t.N,!t.C&&Ui(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(hg){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Eo(n),lo(n)}bo(n),Lr(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Vr(Ye(n.Sa,n),6e3));if(1>=Fi(n.b)&&n.ea){try{n.ea()}catch(hg){}n.ea=void 0}}else To(n,11)}else if((t.C||n.a==t)&&Eo(n),!sn(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(cn(l,"spdy")||cn(l,"quic")||cn(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(qi(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,bi(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ze()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Io(u,u.C?u.ga:null,u.fa),d.C){Bi(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(ii(p),ni(p)),u.a=d}else vo(u);0<n.g.length&&po(n)}else"stop"!=i[0]&&"close"!=i[0]||To(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?To(n,7):co(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Rr(4)}catch(hg){}}function ui(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ze(t)||"string"==typeof t)nn(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ze(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ze(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ci(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ci)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function li(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];hi(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)hi(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function hi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Fe=$r.prototype).setTimeout=function(t){this.P=t},Fe.Xa=function(t){t=t.target;var e=this.F;e&&3==oo(t)?e.f():this.Ca(t)},Fe.Ca=function(t){try{if(t==this.a)t:{var e=oo(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!On&&!this.a.$())){this.A||4!=e||7==n||Rr(8==n||0>=r?3:2),ii(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sn(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Lr(12),si(this),oi(this);break t}xr(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ai(this,u)}this.I?(ti(this,e,o),On&&this.b&&3==e&&(Cr(this.J,this.R,"tick",this.Wa),this.R.start())):(xr(this.c,this.f,o,null),ai(this,o)),4==e&&si(this),this.b&&!this.A&&(4==e?Oo(this.g,this):(this.b=!1,ni(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Lr(12)):(this.h=0,Lr(13)),si(this),oi(this)}}}catch(c){}},Fe.Wa=function(){if(this.a){var t=oo(this.a),e=this.a.$();this.D<e.length&&(ii(this),ti(this,t,e),this.b&&4!=t&&ni(this))}},Fe.cancel=function(){this.A=!0,si(this)},Fe.Va=function(){this.o=null;var t=Ze();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Rr(3),Lr(17)),si(this),this.h=2,oi(this)):ri(this,this.T-t)},(Fe=ci.prototype).K=function(){li(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Fe.L=function(){return li(this),this.a.concat()},Fe.get=function(t,e){return hi(this.b,t)?this.b[t]:e},Fe.set=function(t,e){hi(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Fe.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var fi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function di(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof di){this.a=void 0!==e?e:t.a,gi(this,t.f),this.j=t.j,mi(this,t.c),yi(this,t.h),this.g=t.g,e=t.b;var n=new xi;n.c=e.c,e.a&&(n.a=new ci(e.a),n.b=e.b),vi(this,n),this.i=t.i}else t&&(n=String(t).match(fi))?(this.a=!!e,gi(this,n[1]||"",!0),this.j=_i(n[2]||""),mi(this,n[3]||"",!0),yi(this,n[4]),this.g=_i(n[5]||"",!0),vi(this,n[6]||"",!0),this.i=_i(n[7]||"")):(this.a=!!e,this.b=new xi(null,this.a))}function pi(t){return new di(t)}function gi(t,e,n){t.f=n?_i(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function mi(t,e,n){t.c=n?_i(e,!0):e}function yi(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function vi(t,e,n){e instanceof xi?(t.b=e,function(t,e){e&&!t.f&&(ji(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(ki(this,e),Di(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Ei(e,Ii)),t.b=new xi(e,t.a))}function bi(t,e,n){t.b.set(e,n)}function wi(t){return bi(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ze()).toString(36)),t}function _i(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ei(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Oi),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Oi(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}di.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ei(e,Si,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ei(e,Si,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ei(n,"/"==n.charAt(0)?Ci:Ti,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ei(n,Ai)),t.join("")};var Si=/[#\/\?@]/g,Ti=/[#\?:]/g,Ci=/[#\?]/g,Ii=/[#\?@]/g,Ai=/#/g;function xi(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ji(t){t.a||(t.a=new ci,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ki(t,e){ji(t),e=Ri(t,e),hi(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,hi((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&li(t)))}function Ni(t,e){return ji(t),e=Ri(t,e),hi(t.a.b,e)}function Di(t,e,n){ki(t,e),0<n.length&&(t.c=null,t.a.set(Ri(t,e),on(n)),t.b+=n.length)}function Ri(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Fe=xi.prototype).add=function(t,e){ji(this),this.c=null,t=Ri(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Fe.forEach=function(t,e){ji(this),this.a.forEach(function(n,r){nn(n,function(n){t.call(e,n,r,this)},this)},this)},Fe.L=function(){ji(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Fe.K=function(t){ji(this);var e=[];if("string"==typeof t)Ni(this,t)&&(e=rn(e,this.a.get(Ri(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=rn(e,t[n])}return e},Fe.set=function(t,e){return ji(this),this.c=null,Ni(this,t=Ri(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Fe.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Fe.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Pi=function(){return function(t,e){this.b=t,this.a=e}}();function Li(t){this.g=t||Mi,t=Be.PerformanceNavigationTiming?0<(t=Be.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Be.ia&&Be.ia.ya&&Be.ia.ya()&&Be.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Mi=10;function Vi(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Fi(t){return t.b?1:t.a?t.a.size:0}function Ui(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function qi(t,e){t.a?t.a.add(e):t.b=e}function Bi(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Hi(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ve(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return on(t.c)}function zi(){}function Gi(){this.a=new zi}function Ki(t,e,n){var r=n||"";try{ui(t,function(t,n){var i=t;Ge(t)&&(i=ur(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Zg){throw e.push(r+"type="+encodeURIComponent("_badmap")),Zg}}function Wi(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Li.prototype.cancel=function(){var t,e;if(this.c=Hi(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ve(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},zi.prototype.stringify=function(t){return Be.JSON.stringify(t,void 0)},zi.prototype.parse=function(t){return Be.JSON.parse(t,void 0)};var $i=Be.JSON.parse;function Qi(t){or.call(this),this.headers=new ci,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Yi,this.D=this.F=!1}Xe(Qi,or);var Yi="",Ji=/^https?$/i,Zi=["POST","PUT"];function Xi(t){return"content-type"==t.toLowerCase()}function to(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,eo(t),ro(t)}function eo(t){t.u||(t.u=!0,sr(t,"complete"),sr(t,"error"))}function no(t){if(t.b&&void 0!==qe&&(!t.s[1]||4!=oo(t)||2!=t.W()))if(t.l&&4==oo(t))_r(t.za,0,t);else if(sr(t,"readystatechange"),4==oo(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(fi)[1]||null;if(!o&&Be.self&&Be.self.location){var s=Be.self.location.protocol;o=s.substr(0,s.length-1)}i=!Ji.test(o?o.toLowerCase():"")}e=i}if(e)sr(t,"complete"),sr(t,"success");else{t.h=6;try{var a=2<oo(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",eo(t)}}finally{ro(t)}}}function ro(t,e){if(t.a){io(t);var n=t.a,r=t.s[0]?He:null;t.a=null,t.s=null,e||sr(t,"ready");try{n.onreadystatechange=r}catch(Zg){}}}function io(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Be.clearTimeout(t.m),t.m=null)}function oo(t){return t.a?t.a.readyState:0}function so(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return dn(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):bi(t,e,n))}function ao(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function uo(t){this.pa=0,this.g=[],this.c=new Ar,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=ao("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=ao("baseRetryDelayMs",5e3,t),this.Ra=ao("retryDelaySeedMs",1e4,t),this.Ma=ao("forwardChannelMaxRetries",2,t),this.ma=ao("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Li(t&&t.concurrentRequestLimit),this.ka=new Gi,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function co(t){if(ho(t),3==t.v){var e=t.R++,n=pi(t.B);bi(n,"SID",t.J),bi(n,"RID",e),bi(n,"TYPE","terminate"),mo(t,n),(e=new $r(t,t.c,e,void 0)).H=2,e.i=wi(pi(n)),n=!1,Be.navigator&&Be.navigator.sendBeacon&&(n=Be.navigator.sendBeacon(e.i.toString(),"")),!n&&Be.Image&&((new Image).src=e.i,n=!0),n||(e.a=Ao(e.g,null),e.a.ba(e.i)),e.u=Ze(),ni(e)}Co(t)}function lo(t){t.a&&(wo(t),t.a.cancel(),t.a=null)}function ho(t){lo(t),t.j&&(Be.clearTimeout(t.j),t.j=null),Eo(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Be.clearTimeout(t.h),t.h=null)}function fo(t,e){t.g.push(new Pi(t.Oa++,e)),3==t.v&&po(t)}function po(t){Vi(t.b)||t.h||(t.h=!0,gr(t.Ba,t),t.u=0)}function go(t,e){var n;n=e?e.f:t.R++;var r=pi(t.B);bi(r,"SID",t.J),bi(r,"RID",n),bi(r,"AID",t.P),mo(t,r),t.i&&t.l&&so(r,t.i,t.l),n=new $r(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=yo(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),qi(t.b,n),Zr(n,r,e)}function mo(t,e){t.f&&ui({},function(t,n){bi(e,n,t)})}function yo(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ye(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Ki(l,s,"req"+c+"_")}catch(ss){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function vo(t){t.a||t.j||(t.T=1,gr(t.Aa,t),t.o=0)}function bo(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Vr(Ye(t.Aa,t),So(t,t.o)),t.o++,0))}function wo(t){null!=t.s&&(Be.clearTimeout(t.s),t.s=null)}function _o(t){t.a=new $r(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=pi(t.la);bi(e,"RID","rpc"),bi(e,"SID",t.J),bi(e,"CI",t.H?"0":"1"),bi(e,"AID",t.P),mo(t,e),bi(e,"TYPE","xmlhttp"),t.i&&t.l&&so(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=wi(pi(e)),n.j=null,n.I=!0,Xr(n,t)}function Eo(t){null!=t.m&&(Be.clearTimeout(t.m),t.m=null)}function Oo(t,e){var n=null;if(t.a==e){Eo(t),wo(t),t.a=null;var r=2}else{if(!Ui(t.b,e))return;n=e.s,Bi(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Ze()-e.u;var i=t.u;sr(r=Nr(),new Mr(r,n,e,i)),po(t)}else vo(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Fi(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Vr(Ye(t.Ba,t,e),So(t,t.u)),t.u++,0)))}(t,e)||2==r&&bo(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:To(t,5);break;case 4:To(t,10);break;case 3:To(t,6);break;default:To(t,2)}}function So(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function To(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ye(t.Ya,t);n||(n=new di("//www.google.com/images/cleardot.gif"),Be.location&&"http"==Be.location.protocol||gi(n,"https"),wi(n)),function(t,e){var n=new Ar;if(Be.Image){var r=new Image;r.onload=Je(Wi,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Je(Wi,n,r,"TestLoadImage: error",!1,e),r.onabort=Je(Wi,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Je(Wi,n,r,"TestLoadImage: timeout",!1,e),Be.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Lr(2);t.v=0,t.f&&t.f.ra(e),Co(t),ho(t)}function Co(t){t.v=0,t.I=-1,t.f&&(0==Hi(t.b).length&&0==t.g.length||(t.b.c.length=0,on(t.g),t.g.length=0),t.f.qa())}function Io(t,e,n){var r=function(t){return t instanceof di?pi(t):new di(t,void 0)}(n);if(""!=r.c)e&&mi(r,e+"."+r.c),yi(r,r.h);else{var i=Be.location;r=function(t,e,n,r){var i=new di(null,void 0);return t&&gi(i,t),e&&mi(i,e),n&&yi(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&dn(t.V,function(t,e){bi(r,e,t)}),n=t.na,(e=t.A)&&n&&bi(r,e,n),bi(r,"VER",t.ha),mo(t,r),r}function Ao(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qi(t.Na)).F=t.C,e}function xo(){}function jo(){if(_n&&!(10<=Number(Nn)))throw Error("Environmental error: no available transport.")}function ko(t,e){or.call(this),this.a=new uo(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!sn(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sn(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Ro(this)}function No(t){Gr.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Do(){Kr.call(this),this.status=1}function Ro(t){this.a=t}(Fe=Qi.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Hr),this.a.onreadystatechange=Ye(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void to(this,o)}t=n||"";var i=new ci(this.headers);r&&ui(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Xi,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Be.FormData&&t instanceof Be.FormData,!(0<=en(Zi,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{io(this),0<this.o&&((this.D=function(t){return _n&&kn(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ye(this.xa,this)):this.m=_r(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){to(this,o)}},Fe.xa=function(){void 0!==qe&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,sr(this,"timeout"),this.abort(8))},Fe.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,sr(this,"complete"),sr(this,"abort"),ro(this))},Fe.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ro(this,!0)),Qi.X.G.call(this)},Fe.za=function(){this.j||(this.A||this.l||this.g?no(this):this.Ua())},Fe.Ua=function(){no(this)},Fe.W=function(){try{return 2<oo(this)?this.a.status:-1}catch(bn){return-1}},Fe.$=function(){try{return this.a?this.a.responseText:""}catch(bn){return""}},Fe.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),$i(e)}},Fe.ua=function(){return this.h},Fe.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Fe=uo.prototype).ha=8,Fe.v=1,Fe.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new $r(this,this.c,t,void 0),r=this.l;if(this.O&&(r?mn(r=pn(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=yo(this,n,e),bi(i=pi(this.B),"RID",t),bi(i,"CVER",22),this.A&&bi(i,"X-HTTP-Session-Id",this.A),mo(this,i),this.i&&r&&so(i,this.i,r),qi(this.b,n),this.Ia&&bi(i,"TYPE","init"),this.da?(bi(i,"$req",e),bi(i,"SID","null"),n.U=!0,Zr(n,i,null)):Zr(n,i,e),this.v=2}}else 3==this.v&&(t?go(this,t):0==this.g.length||Vi(this.b)||go(this))},Fe.Aa=function(){if(this.j=null,_o(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Vr(Ye(this.Ta,this),t)}},Fe.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Lr(10),lo(this),_o(this))},Fe.Sa=function(){null!=this.m&&(this.m=null,lo(this),bo(this),Lr(19))},Fe.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Lr(2)):(this.c.info("Failed to ping google.com"),Lr(1))},(Fe=xo.prototype).ta=function(){},Fe.sa=function(){},Fe.ra=function(){},Fe.qa=function(){},Fe.Ja=function(){},jo.prototype.a=function(t,e){return new ko(t,e)},Xe(ko,or),ko.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Lr(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Io(t,null,t.fa),po(t)},ko.prototype.close=function(){co(this.a)},ko.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,fo(this.a,e)}else this.l?((e={}).__data__=ur(t),fo(this.a,e)):fo(this.a,t)},ko.prototype.G=function(){this.a.f=null,delete this.f,co(this.a),delete this.a,ko.X.G.call(this)},Xe(No,Gr),Xe(Do,Kr),Xe(Ro,xo),Ro.prototype.ta=function(){sr(this.a,"a")},Ro.prototype.sa=function(t){sr(this.a,new No(t))},Ro.prototype.ra=function(t){sr(this.a,new Do(t))},Ro.prototype.qa=function(){sr(this.a,"b")},jo.prototype.createWebChannel=jo.prototype.a,ko.prototype.send=ko.prototype.h,ko.prototype.open=ko.prototype.g,ko.prototype.close=ko.prototype.close,Fr.NO_ERROR=0,Fr.TIMEOUT=8,Fr.HTTP_ERROR=6,Ur.COMPLETE="complete",Br.EventType=zr,zr.OPEN="a",zr.CLOSE="b",zr.ERROR="c",zr.MESSAGE="d",or.prototype.listen=or.prototype.va,Qi.prototype.listenOnce=Qi.prototype.wa,Qi.prototype.getLastError=Qi.prototype.Qa,Qi.prototype.getLastErrorCode=Qi.prototype.ua,Qi.prototype.getStatus=Qi.prototype.W,Qi.prototype.getResponseJson=Qi.prototype.Pa,Qi.prototype.getResponseText=Qi.prototype.$,Qi.prototype.send=Qi.prototype.ba;var Po=Fr,Lo=Ur,Mo=jr,Vo=Br,Fo=Qi,Uo=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Uo.o=-1;var qo=new Pe.b("@firebase/firestore");function Bo(){return qo.logLevel}function Ho(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(qo.logLevel<=Pe.a.DEBUG){var r=e.map(Ko);qo.debug.apply(qo,Object(Oe.f)(["Firestore (8.3.1): "+t],r))}}function zo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(qo.logLevel<=Pe.a.ERROR){var r=e.map(Ko);qo.error.apply(qo,Object(Oe.f)(["Firestore (8.3.1): "+t],r))}}function Go(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(qo.logLevel<=Pe.a.WARN){var r=e.map(Ko);qo.warn.apply(qo,Object(Oe.f)(["Firestore (8.3.1): "+t],r))}}function Ko(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Zg){return t}}function Wo(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+t;throw zo(e),new Error(e)}function $o(t,e){t||Wo()}function Qo(t,e){return t}function Yo(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Jo=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Yo(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Zo(t,e){return t<e?-1:t>e?1:0}function Xo(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function ts(t){return t+"\0"}function es(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ns(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rs(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function is(t){return null==t}function os(t){return 0===t&&1/t==-1/0}function ss(t){return"number"==typeof t&&Number.isInteger(t)&&!os(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var as={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},us=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Oe.c)(e,t),e}(Error),cs=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Wo(),void 0===n?n=t.length-e:n>t.length-e&&Wo(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ls=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Oe.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new us(as.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(cs),hs=/^[_a-zA-Z][_a-zA-Z0-9]*$/,fs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Oe.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return hs.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new us(as.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new us(as.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new us(as.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new us(as.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(cs),ds=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(ls.fromString(e))},t.fromName=function(e){return new t(ls.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ls.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ls.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ls(e.slice()))},t}(),ps=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Zo(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();ps.EMPTY_BYTE_STRING=new ps("");var gs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(t){if($o(!!t),"string"==typeof t){var e=0,n=gs.exec(t);if($o(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ys(t.seconds),nanos:ys(t.nanos)}}function ys(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function vs(t){return"string"==typeof t?ps.fromBase64String(t):ps.fromUint8Array(t)}var bs=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new us(as.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new us(as.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new us(as.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new us(as.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Zo(this.nanoseconds,t.nanoseconds):Zo(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}();function ws(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _s(t){var e=t.mapValue.fields.__previous_value__;return ws(e)?_s(e):e}function Es(t){var e=ms(t.mapValue.fields.__local_write_time__.timestampValue);return new bs(e.seconds,e.nanos)}function Os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ws(t)?4:10:Wo()}function Ss(t,e){var n=Os(t);if(n!==Os(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Es(t).isEqual(Es(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ms(t.timestampValue),r=ms(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return vs(t.bytesValue).isEqual(vs(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ys(t.geoPointValue.latitude)===ys(e.geoPointValue.latitude)&&ys(t.geoPointValue.longitude)===ys(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ys(t.integerValue)===ys(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ys(t.doubleValue),r=ys(e.doubleValue);return n===r?os(n)===os(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Xo(t.arrayValue.values||[],e.arrayValue.values||[],Ss);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(es(n)!==es(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ss(n[i],r[i])))return!1;return!0}(t,e);default:return Wo()}}function Ts(t,e){return void 0!==(t.values||[]).find(function(t){return Ss(t,e)})}function Cs(t,e){var n=Os(t),r=Os(e);if(n!==r)return Zo(n,r);switch(n){case 0:return 0;case 1:return Zo(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ys(t.integerValue||t.doubleValue),r=ys(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Is(t.timestampValue,e.timestampValue);case 4:return Is(Es(t),Es(e));case 5:return Zo(t.stringValue,e.stringValue);case 6:return function(t,e){var n=vs(t),r=vs(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Zo(n[i],r[i]);if(0!==o)return o}return Zo(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Zo(ys(t.latitude),ys(e.latitude));return 0!==n?n:Zo(ys(t.longitude),ys(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Cs(n[i],r[i]);if(o)return o}return Zo(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Zo(r[s],o[s]);if(0!==a)return a;var u=Cs(n[r[s]],i[o[s]]);if(0!==u)return u}return Zo(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Wo()}}function Is(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Zo(t,e);var n=ms(t),r=ms(e),i=Zo(n.seconds,r.seconds);return 0!==i?i:Zo(n.nanos,r.nanos)}function As(t){return xs(t)}function xs(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=ms(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?vs(t.bytesValue).toBase64():"referenceValue"in t?ds.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=xs(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+xs(t.fields[o])}return e+"}"}(t.mapValue):Wo();var e}function js(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function ks(t){return!!t&&"integerValue"in t}function Ns(t){return!!t&&"arrayValue"in t}function Ds(t){return!!t&&"nullValue"in t}function Rs(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ps(t){return!!t&&"mapValue"in t}var Ls=function(t,e){this.key=t,this.version=e},Ms=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).objectValue=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Oe.c)(e,t),e.prototype.field=function(t){return this.objectValue.field(t)},e.prototype.data=function(){return this.objectValue},e.prototype.toProto=function(){return this.objectValue.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.objectValue.isEqual(t.objectValue)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Ls),Vs=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Oe.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ls),Fs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Oe.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ls),Us=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function qs(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Us(t,e,n,r,i,o,s)}function Bs(t){var e=Qo(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+As(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),is(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ea(e.startAt)),e.endAt&&(n+="|ub:",n+=ea(e.endAt)),e.h=n}return e.h}function Hs(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!ra(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Ss(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!oa(t.startAt,e.startAt)&&oa(t.endAt,e.endAt)}function zs(t){return ds.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Gs=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Oe.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ks(t,n,r):"array-contains"===n?new Ys(t,r):"in"===n?new Js(t,r):"not-in"===n?new Zs(t,r):"array-contains-any"===n?new Xs(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Ws(t,n):new $s(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.m(Cs(e,this.value)):null!==e&&Os(this.value)===Os(e)&&this.m(Cs(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Wo()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Ks=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ds.fromName(r.referenceValue),i}return Object(Oe.c)(e,t),e.prototype.matches=function(t){var e=ds.comparator(t.key,this.key);return this.m(e)},e}(Gs),Ws=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Qs(0,n),r}return Object(Oe.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Gs),$s=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Qs(0,n),r}return Object(Oe.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Gs);function Qs(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return ds.fromName(t.referenceValue)})}var Ys=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Oe.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Ns(e)&&Ts(e.arrayValue,this.value)},e}(Gs),Js=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Oe.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Ts(this.value.arrayValue,e)},e}(Gs),Zs=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Oe.c)(e,t),e.prototype.matches=function(t){if(Ts(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Ts(this.value.arrayValue,e)},e}(Gs),Xs=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Oe.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Ns(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Ts(e.value.arrayValue,t)})},e}(Gs),ta=function(t,e){this.position=t,this.before=e};function ea(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return As(t)}).join(",")}var na=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ra(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ia(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?ds.comparator(ds.fromName(s.referenceValue),n.key):Cs(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function oa(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ss(t.position[n],e.position[n]))return!1;return!0}var sa=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function aa(t,e,n,r,i,o,s,a){return new sa(t,e,n,r,i,o,s,a)}function ua(t){return new sa(t)}function ca(t){return!is(t.limit)&&"F"===t.limitType}function la(t){return!is(t.limit)&&"L"===t.limitType}function ha(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function fa(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function da(t){return null!==t.collectionGroup}function pa(t){var e=Qo(t);if(null===e.p){e.p=[];var n=fa(e),r=ha(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new na(n)),e.p.push(new na(fs.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new na(fs.keyField(),u))}}}return e.p}function ga(t){var e=Qo(t);if(!e.T)if("F"===e.limitType)e.T=qs(e.path,e.collectionGroup,pa(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=pa(e);r<i.length;r++){var o=i[r];n.push(new na(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new ta(e.endAt.position,!e.endAt.before):null,a=e.startAt?new ta(e.startAt.position,!e.startAt.before):null;e.T=qs(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function ma(t,e,n){return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ya(t,e){return Hs(ga(t),ga(e))&&t.limitType===e.limitType}function va(t){return Bs(ga(t))+"|lt:"+t.limitType}function ba(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+As(e.value);var e}).join(", ")+"]"),is(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ea(t.startAt)),t.endAt&&(e+=", endAt: "+ea(t.endAt)),"Target("+e+")"}(ga(t))+"; limitType="+t.limitType+")"}function wa(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ds.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ia(t.startAt,pa(t),e)||t.endAt&&ia(t.endAt,pa(t),e))}(t,e)}function _a(t){return function(e,n){for(var r=!1,i=0,o=pa(t);i<o.length;i++){var s=o[i],a=Ea(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Ea(t,e,n){var r=t.field.isKeyField()?ds.comparator(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Cs(r,i):Wo()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Wo()}}var Oa=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new bs(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}(),Sa=function(){function t(t){this.fields=t,t.sort(fs.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Xo(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Ta=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Ps(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.isEqual=function(t){return Ss(this.proto,t.proto)},t}(),Ca=function(){function t(t){void 0===t&&(t=Ta.empty()),this.I=t,this.A=new Map}return t.prototype.set=function(t,e){return this.R(t,e),this},t.prototype.delete=function(t){return this.R(t,null),this},t.prototype.R=function(t,e){for(var n=this.A,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Os(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.v=function(){var t=this.P(fs.emptyPath(),this.A);return null!=t?new Ta(t):this.I},t.prototype.P=function(t,e){var n=this,r=!1,i=this.I.field(t),o=Ps(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.P(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Ia(t){var e=[];return ns(t.fields||{},function(t,n){var r=new fs([t]);if(Ps(n)){var i=Ia(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Sa(e)}function Aa(t,e){if(t.V){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:os(e)?"-0":e}}function xa(t){return{integerValue:""+t}}function ja(t,e){return ss(e)?xa(e):Aa(t,e)}var ka=function(){this._=void 0};function Na(t,e,n){return t instanceof Pa?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof La?Ma(t,e):t instanceof Va?Fa(t,e):function(t,e){var n=Ra(t,e),r=qa(n)+qa(t.S);return ks(n)&&ks(t.S)?xa(r):Aa(t.D,r)}(t,e)}function Da(t,e,n){return t instanceof La?Ma(t,e):t instanceof Va?Fa(t,e):n}function Ra(t,e){return t instanceof Ua?ks(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Pa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Oe.c)(e,t),e}(ka),La=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Oe.c)(e,t),e}(ka);function Ma(t,e){for(var n=Ba(e),r=function(t){n.some(function(e){return Ss(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Va=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Oe.c)(e,t),e}(ka);function Fa(t,e){for(var n=Ba(e),r=function(t){n=n.filter(function(e){return!Ss(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ua=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).D=e,r.S=n,r}return Object(Oe.c)(e,t),e}(ka);function qa(t){return ys(t.integerValue||t.doubleValue)}function Ba(t){return Ns(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ha=function(t,e){this.field=t,this.transform=e},za=function(t,e){this.version=t,this.transformResults=e},Ga=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Ka(t,e){return void 0!==t.updateTime?e instanceof Ms&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Ms}var Wa=function(){};function $a(t,e,n){return t instanceof Xa?function(t,e,n){var r=t.value,i=nu(t.fieldTransforms,e,n.transformResults);return r=iu(t.fieldTransforms,r,i),new Ms(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof tu?function(t,e,n){if(!Ka(t.precondition,e))return new Fs(t.key,n.version);var r=eu(t,e,nu(t.fieldTransforms,e,n.transformResults));return new Ms(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Vs(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Qa(t,e,n){return t instanceof Xa?function(t,e,n){if(!Ka(t.precondition,e))return e;var r=t.value,i=ru(t.fieldTransforms,n,e);r=iu(t.fieldTransforms,r,i);var o=Za(e);return new Ms(t.key,o,r,{hasLocalMutations:!0})}(t,e,n):t instanceof tu?function(t,e,n){if(!Ka(t.precondition,e))return e;var r=Za(e),i=eu(t,e,ru(t.fieldTransforms,n,e));return new Ms(t.key,r,i,{hasLocalMutations:!0})}(t,e,n):function(t,e){return Ka(t.precondition,e)?new Vs(t.key,Oa.min()):e}(t,e)}function Ya(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Ms?e.field(o.field):void 0,a=Ra(o.transform,s||null);null!=a&&(n=null==n?(new Ca).set(o.field,a):n.set(o.field,a))}return n?n.v():null}(t.fieldTransforms,e)}function Ja(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Xo(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof La&&e instanceof La||t instanceof Va&&e instanceof Va?Xo(t.elements,e.elements,Ss):t instanceof Ua&&e instanceof Ua?Ss(t.S,e.S):t instanceof Pa&&e instanceof Pa}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Za(t){return t instanceof Ms?t.version:Oa.min()}var Xa=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(Oe.c)(e,t),e}(Wa),tu=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(Oe.c)(e,t),e}(Wa);function eu(t,e,n){var r;return r=function(t,e){var n=new Ca(e);return t.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.v()}(t,r=e instanceof Ms?e.data():Ta.empty()),iu(t.fieldTransforms,r,n)}function nu(t,e,n){var r=[];$o(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Ms&&(a=e.field(o.field)),r.push(Da(s,a,n[i]))}return r}function ru(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=null;n instanceof Ms&&(u=n.field(s.field)),r.push(Na(a,u,e))}return r}function iu(t,e,n){for(var r=new Ca(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.v()}var ou,su,au=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Oe.c)(e,t),e}(Wa),uu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Oe.c)(e,t),e}(Wa),cu=function(t){this.count=t};function lu(t){switch(t){case as.OK:return Wo();case as.CANCELLED:case as.UNKNOWN:case as.DEADLINE_EXCEEDED:case as.RESOURCE_EXHAUSTED:case as.INTERNAL:case as.UNAVAILABLE:case as.UNAUTHENTICATED:return!1;case as.INVALID_ARGUMENT:case as.NOT_FOUND:case as.ALREADY_EXISTS:case as.PERMISSION_DENIED:case as.FAILED_PRECONDITION:case as.ABORTED:case as.OUT_OF_RANGE:case as.UNIMPLEMENTED:case as.DATA_LOSS:return!0;default:return Wo()}}function hu(t){if(void 0===t)return zo("GRPC error has no .code"),as.UNKNOWN;switch(t){case ou.OK:return as.OK;case ou.CANCELLED:return as.CANCELLED;case ou.UNKNOWN:return as.UNKNOWN;case ou.DEADLINE_EXCEEDED:return as.DEADLINE_EXCEEDED;case ou.RESOURCE_EXHAUSTED:return as.RESOURCE_EXHAUSTED;case ou.INTERNAL:return as.INTERNAL;case ou.UNAVAILABLE:return as.UNAVAILABLE;case ou.UNAUTHENTICATED:return as.UNAUTHENTICATED;case ou.INVALID_ARGUMENT:return as.INVALID_ARGUMENT;case ou.NOT_FOUND:return as.NOT_FOUND;case ou.ALREADY_EXISTS:return as.ALREADY_EXISTS;case ou.PERMISSION_DENIED:return as.PERMISSION_DENIED;case ou.FAILED_PRECONDITION:return as.FAILED_PRECONDITION;case ou.ABORTED:return as.ABORTED;case ou.OUT_OF_RANGE:return as.OUT_OF_RANGE;case ou.UNIMPLEMENTED:return as.UNIMPLEMENTED;case ou.DATA_LOSS:return as.DATA_LOSS;default:return Wo()}}(su=ou||(ou={}))[su.OK=0]="OK",su[su.CANCELLED=1]="CANCELLED",su[su.UNKNOWN=2]="UNKNOWN",su[su.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",su[su.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",su[su.NOT_FOUND=5]="NOT_FOUND",su[su.ALREADY_EXISTS=6]="ALREADY_EXISTS",su[su.PERMISSION_DENIED=7]="PERMISSION_DENIED",su[su.UNAUTHENTICATED=16]="UNAUTHENTICATED",su[su.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",su[su.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",su[su.ABORTED=10]="ABORTED",su[su.OUT_OF_RANGE=11]="OUT_OF_RANGE",su[su.UNIMPLEMENTED=12]="UNIMPLEMENTED",su[su.INTERNAL=13]="INTERNAL",su[su.UNAVAILABLE=14]="UNAVAILABLE",su[su.DATA_LOSS=15]="DATA_LOSS";var fu=function(){function t(t,e){this.comparator=t,this.root=e||pu.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pu.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pu.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new du(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new du(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new du(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new du(this.root,t,this.comparator,!0)},t}(),du=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),pu=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Wo();if(this.right.isRed())throw Wo();var t=this.left.check();if(t!==this.right.check())throw Wo();return t+(this.isRed()?0:1)},t}();pu.EMPTY=null,pu.RED=!0,pu.BLACK=!1,pu.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Wo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Wo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Wo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Wo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Wo()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new pu(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var gu=function(){function t(t){this.comparator=t,this.data=new fu(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new mu(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new mu(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),mu=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),yu=new fu(ds.comparator);function vu(){return yu}function bu(){return vu()}var wu=new fu(ds.comparator);function _u(){return wu}var Eu=new fu(ds.comparator);function Ou(){return Eu}var Su=new gu(ds.comparator);function Tu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Su,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Cu=new gu(Zo);function Iu(){return Cu}var Au=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Oa.min(),r,Iu(),vu(),Tu())},t}(),xu=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(ps.EMPTY_BYTE_STRING,n,Tu(),Tu(),Tu())},t}(),ju=function(t,e,n,r){this.C=t,this.removedTargetIds=e,this.key=n,this.N=r},ku=function(t,e){this.targetId=t,this.$=e},Nu=function(t,e,n,r){void 0===n&&(n=ps.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Du=function(){function t(){this.F=0,this.O=Lu(),this.k=ps.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),t.prototype.U=function(t){t.approximateByteSize()>0&&(this.L=!0,this.k=t)},t.prototype.K=function(){var t=Tu(),e=Tu(),n=Tu();return this.O.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Wo()}}),new xu(this.k,this.M,t,e,n)},t.prototype.W=function(){this.L=!1,this.O=Lu()},t.prototype.j=function(t,e){this.L=!0,this.O=this.O.insert(t,e)},t.prototype.G=function(t){this.L=!0,this.O=this.O.remove(t)},t.prototype.H=function(){this.F+=1},t.prototype.J=function(){this.F-=1},t.prototype.Y=function(){this.L=!0,this.M=!0},t}(),Ru=function(){function t(t){this.X=t,this.Z=new Map,this.tt=vu(),this.et=Pu(),this.nt=new gu(Zo)}return t.prototype.st=function(t){for(var e=0,n=t.C;e<n.length;e++){var r=n[e];t.N instanceof Ms?this.it(r,t.N):t.N instanceof Vs&&this.rt(r,t.key,t.N)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.rt(r=o[i],t.key,t.N)},t.prototype.ot=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ct(n);switch(t.state){case 0:e.at(n)&&r.U(t.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(t.resumeToken);break;case 2:r.J(),r.B||e.removeTarget(n);break;case 3:e.at(n)&&(r.Y(),r.U(t.resumeToken));break;case 4:e.at(n)&&(e.ut(n),r.U(t.resumeToken));break;default:Wo()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Z.forEach(function(t,r){n.at(r)&&e(r)})},t.prototype.ht=function(t){var e=t.targetId,n=t.$.count,r=this.lt(e);if(r){var i=r.target;if(zs(i))if(0===n){var o=new ds(i.path);this.rt(e,o,new Vs(o,Oa.min()))}else $o(1===n);else this.ft(e)!==n&&(this.ut(e),this.nt=this.nt.add(e))}},t.prototype.dt=function(t){var e=this,n=new Map;this.Z.forEach(function(r,i){var o=e.lt(i);if(o){if(r.current&&zs(o.target)){var s=new ds(o.target.path);null!==e.tt.get(s)||e.wt(i,s)||e.rt(i,s,new Vs(s,t))}r.q&&(n.set(i,r.K()),r.W())}});var r=Tu();this.et.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.lt(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Au(t,n,this.nt,this.tt,r);return this.tt=vu(),this.et=Pu(),this.nt=new gu(Zo),i},t.prototype.it=function(t,e){if(this.at(t)){var n=this.wt(t,e.key)?2:0;this.ct(t).j(e.key,n),this.tt=this.tt.insert(e.key,e),this.et=this.et.insert(e.key,this._t(e.key).add(t))}},t.prototype.rt=function(t,e,n){if(this.at(t)){var r=this.ct(t);this.wt(t,e)?r.j(e,1):r.G(e),this.et=this.et.insert(e,this._t(e).delete(t)),n&&(this.tt=this.tt.insert(e,n))}},t.prototype.removeTarget=function(t){this.Z.delete(t)},t.prototype.ft=function(t){var e=this.ct(t).K();return this.X.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.H=function(t){this.ct(t).H()},t.prototype.ct=function(t){var e=this.Z.get(t);return e||(e=new Du,this.Z.set(t,e)),e},t.prototype._t=function(t){var e=this.et.get(t);return e||(e=new gu(Zo),this.et=this.et.insert(t,e)),e},t.prototype.at=function(t){var e=null!==this.lt(t);return e||Ho("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.lt=function(t){var e=this.Z.get(t);return e&&e.B?null:this.X.yt(t)},t.prototype.ut=function(t){var e=this;this.Z.set(t,new Du),this.X.getRemoteKeysForTarget(t).forEach(function(n){e.rt(t,n,null)})},t.prototype.wt=function(t,e){return this.X.getRemoteKeysForTarget(t).has(e)},t}();function Pu(){return new fu(ds.comparator)}function Lu(){return new fu(ds.comparator)}var Mu={asc:"ASCENDING",desc:"DESCENDING"},Vu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fu=function(t,e){this.databaseId=t,this.V=e};function Uu(t,e){return t.V?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function qu(t,e){return t.V?e.toBase64():e.toUint8Array()}function Bu(t,e){return Uu(t,e.toTimestamp())}function Hu(t){return $o(!!t),Oa.fromTimestamp(function(t){var e=ms(t);return new bs(e.seconds,e.nanos)}(t))}function zu(t,e){return function(t){return new ls(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Gu(t){var e=ls.fromString(t);return $o(gc(e)),e}function Ku(t,e){return zu(t.databaseId,e.path)}function Wu(t,e){var n=Gu(e);if(n.get(1)!==t.databaseId.projectId)throw new us(as.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new us(as.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ds(Ju(n))}function $u(t,e){return zu(t.databaseId,e)}function Qu(t){var e=Gu(t);return 4===e.length?ls.emptyPath():Ju(e)}function Yu(t){return new ls(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ju(t){return $o(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Zu(t,e,n){return{name:Ku(t,e),fields:n.proto.mapValue.fields}}function Xu(t,e,n){var r=Wu(t,e.name),i=Hu(e.updateTime),o=new Ta({mapValue:{fields:e.fields}});return new Ms(r,i,o,{hasCommittedMutations:!!n})}function tc(t,e){var n;if(e instanceof Xa)n={update:Zu(t,e.key,e.value)};else if(e instanceof au)n={delete:Ku(t,e.key)};else if(e instanceof tu)n={update:Zu(t,e.key,e.data),updateMask:pc(e.fieldMask)};else{if(!(e instanceof uu))return Wo();n={verify:Ku(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Pa)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof La)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Va)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ua)return{fieldPath:e.field.canonicalString(),increment:n.S};throw Wo()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Bu(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Wo()}(t,e.precondition)),n}function ec(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ga.updateTime(Hu(t.updateTime)):void 0!==t.exists?Ga.exists(t.exists):Ga.none()}(e.currentDocument):Ga.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?($o("REQUEST_TIME"===e.setToServerValue),n=new Pa):"appendMissingElements"in e?n=new La(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Va(e.removeAllFromArray.values||[]):"increment"in e?n=new Ua(t,e.increment):Wo();var r=fs.fromServerFormat(e.fieldPath);return new Ha(r,n)}(t,e)}):[];if(e.update){var i=Wu(t,e.update.name),o=new Ta({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Sa((t.fieldPaths||[]).map(function(t){return fs.fromServerFormat(t)}))}(e.updateMask);return new tu(i,o,s,n,r)}return new Xa(i,o,n,r)}if(e.delete){var a=Wu(t,e.delete);return new au(a,n)}if(e.verify){var u=Wu(t,e.verify);return new uu(u,n)}return Wo()}function nc(t,e){return{documents:[$u(t,e.path)]}}function rc(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=$u(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=$u(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Rs(t.value))return{unaryFilter:{field:lc(t.field),op:"IS_NAN"}};if(Ds(t.value))return{unaryFilter:{field:lc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Rs(t.value))return{unaryFilter:{field:lc(t.field),op:"IS_NOT_NAN"}};if(Ds(t.value))return{unaryFilter:{field:lc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lc(t.field),op:cc(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:lc(t.field),direction:uc(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.V||is(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=sc(e.startAt)),e.endAt&&(n.structuredQuery.endAt=sc(e.endAt)),n}function ic(t){var e=Qu(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){$o(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=oc(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new na(hc(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return is(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=ac(n.startAt));var l=null;return n.endAt&&(l=ac(n.endAt)),aa(e,i,a,s,u,"F",c,l)}function oc(t){return t?void 0!==t.unaryFilter?[dc(t)]:void 0!==t.fieldFilter?[fc(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return oc(t)}).reduce(function(t,e){return t.concat(e)}):Wo():[]}function sc(t){return{before:t.before,values:t.position}}function ac(t){return new ta(t.values||[],!!t.before)}function uc(t){return Mu[t]}function cc(t){return Vu[t]}function lc(t){return{fieldPath:t.canonicalString()}}function hc(t){return fs.fromServerFormat(t.fieldPath)}function fc(t){return Gs.create(hc(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Wo()}}(t.fieldFilter.op),t.fieldFilter.value)}function dc(t){switch(t.unaryFilter.op){case"IS_NAN":var e=hc(t.unaryFilter.field);return Gs.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=hc(t.unaryFilter.field);return Gs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=hc(t.unaryFilter.field);return Gs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=hc(t.unaryFilter.field);return Gs.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Wo()}}function pc(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function gc(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function mc(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=vc(e)),e=yc(t.get(n),e);return vc(e)}function yc(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function vc(t){return t+"\x01\x01"}function bc(t){var e=t.length;if($o(e>=2),2===e)return $o("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ls.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Wo(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Wo()}o=s+2}return new ls(r)}var wc=function(t,e){this.seconds=t,this.nanoseconds=e},_c=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};_c.store="owner",_c.key="owner";var Ec=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ec.store="mutationQueues",Ec.keyPath="userId";var Oc=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Oc.store="mutations",Oc.keyPath="batchId",Oc.userMutationsIndex="userMutationsIndex",Oc.userMutationsKeyPath=["userId","batchId"];var Sc=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,mc(e)]},t.key=function(t,e,n){return[t,mc(e),n]},t}();Sc.store="documentMutations",Sc.PLACEHOLDER=new Sc;var Tc=function(t,e){this.path=t,this.readTime=e},Cc=function(t,e){this.path=t,this.version=e},Ic=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ic.store="remoteDocuments",Ic.readTimeIndex="readTimeIndex",Ic.readTimeIndexPath="readTime",Ic.collectionReadTimeIndex="collectionReadTimeIndex",Ic.collectionReadTimeIndexPath=["parentPath","readTime"];var Ac=function(t){this.byteSize=t};Ac.store="remoteDocumentGlobal",Ac.key="remoteDocumentGlobalKey";var xc=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};xc.store="targets",xc.keyPath="targetId",xc.queryTargetsIndexName="queryTargetsIndex",xc.queryTargetsKeyPath=["canonicalId","targetId"];var jc=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};jc.store="targetDocuments",jc.keyPath=["targetId","path"],jc.documentTargetsIndex="documentTargetsIndex",jc.documentTargetsKeyPath=["path","targetId"];var kc=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};kc.key="targetGlobalKey",kc.store="targetGlobal";var Nc=function(t,e){this.collectionId=t,this.parent=e};Nc.store="collectionParents",Nc.keyPath=["collectionId","parent"];var Dc=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Dc.store="clientMetadata",Dc.keyPath="clientId";var Rc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Rc.store="bundles",Rc.keyPath="bundleId";var Pc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Pc.store="namedQueries",Pc.keyPath="name";var Lc=Object(Oe.f)(Object(Oe.f)([],Object(Oe.f)(Object(Oe.f)([],Object(Oe.f)(Object(Oe.f)([],Object(Oe.f)(Object(Oe.f)([],[Ec.store,Oc.store,Sc.store,Ic.store,xc.store,_c.store,kc.store,jc.store]),[Dc.store])),[Ac.store])),[Nc.store])),[Rc.store,Pc.store]),Mc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Vc=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Fc=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Uc=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Wo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),qc=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.gt=new Fc,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){e.error?n.gt.reject(new zc(t,e.error)):n.gt.resolve()},this.transaction.onerror=function(e){var r=Qc(e.target.error);n.gt.reject(new zc(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new zc(n,e)}},Object.defineProperty(t.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.gt.reject(t),this.aborted||(Ho("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Kc(e)},t}(),Bc=function(){function t(e,n,r){this.name=e,this.version=n,this.Tt=r,12.2===t.It(Object(Le.g)())&&zo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ho("SimpleDb","Removing database:",t),Wc(window.indexedDB.deleteDatabase(t)).toPromise()},t.At=function(){if("undefined"==typeof indexedDB)return!1;if(t.Rt())return!0;var e=Object(Le.g)(),n=t.It(e),r=0<n&&n<10,i=t.bt(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Rt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.vt)},t.Pt=function(t,e){return t.store(e)},t.It=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.bt=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Vt=function(t){return Object(Oe.b)(this,void 0,void 0,function(){var e,n=this;return Object(Oe.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Ho("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new zc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new us(as.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new zc(t,n))},i.onupgradeneeded=function(t){Ho("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Tt.St(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Ho("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(t){return n.Dt(t)}),this.db)]}})})},t.prototype.Ct=function(t){this.Dt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Oe.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(Oe.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Oe.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Vt(t)];case 2:return a.db=h.sent(),e=qc.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Uc.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.Et];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Ho("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Hc=function(){function t(t){this.xt=t,this.Nt=!1,this.$t=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.xt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Nt=!0},t.prototype.Ot=function(t){this.$t=t},t.prototype.delete=function(){return Wc(this.xt.delete())},t}(),zc=function(t){function e(e,n){var r=this;return(r=t.call(this,as.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Oe.c)(e,t),e}(us);function Gc(t){return"IndexedDbTransactionError"===t.name}var Kc=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ho("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ho("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Wc(n)},t.prototype.add=function(t){return Ho("SimpleDb","ADD",this.store.name,t,t),Wc(this.store.add(t))},t.prototype.get=function(t){var e=this;return Wc(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Ho("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Ho("SimpleDb","DELETE",this.store.name,t),Wc(this.store.delete(t))},t.prototype.count=function(){return Ho("SimpleDb","COUNT",this.store.name),Wc(this.store.count())},t.prototype.kt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Mt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Lt=function(t,e){Ho("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,function(t,e,n){return n.delete()})},t.prototype.qt=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Mt(r,e)},t.prototype.Ut=function(t){var e=this.cursor({});return new Uc(function(n,r){e.onerror=function(t){var e=Qc(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.Mt=function(t,e){var n=[];return new Uc(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Hc(i),s=e(i.primaryKey,i.value,o);if(s instanceof Uc){var a=s.catch(function(t){return o.done(),Uc.reject(t)});n.push(a)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}else r()}}).next(function(){return Uc.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Bt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Wc(t){return new Uc(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Qc(t.target.error);n(e)}})}var $c=!1;function Qc(t){var e=Bc.It(Object(Le.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new us("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return $c||($c=!0,setTimeout(function(){throw r},0)),r}}return t}var Yc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.currentSequenceNumber=n,r}return Object(Oe.c)(e,t),e}(Vc);function Jc(t,e){var n=Qo(t);return Bc.Pt(n.Qt,e)}var Zc=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=$a(o,e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=Qa(s,e,this.localWriteTime));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=Qa(s,e,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Tu())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Xo(this.mutations,t.mutations,function(t,e){return Ja(t,e)})&&Xo(this.baseMutations,t.baseMutations,function(t,e){return Ja(t,e)})},t}(),Xc=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){$o(e.mutations.length===r.length);for(var i=Ou(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),tl=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Oa.min()),void 0===o&&(o=Oa.min()),void 0===s&&(s=ps.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),el=function(t){this.Kt=t};function nl(t,e){if(e.document)return Xu(t.Kt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ds.fromSegments(e.noDocument.path),r=al(e.noDocument.readTime);return new Vs(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=ds.fromSegments(e.unknownDocument.path);return r=al(e.unknownDocument.version),new Fs(i,r)}return Wo()}function rl(t,e,n){var r=il(n),i=e.key.path.popLast().toArray();if(e instanceof Ms){var o=function(t,e){return{name:Ku(t,e.key),fields:e.toProto().mapValue.fields,updateTime:Uu(t,e.version.toTimestamp())}}(t.Kt,e),s=e.hasCommittedMutations;return new Ic(null,null,o,s,r,i)}if(e instanceof Vs){var a=e.key.path.toArray(),u=sl(e.version);return s=e.hasCommittedMutations,new Ic(null,new Tc(a,u),null,s,r,i)}if(e instanceof Fs){var c=e.key.path.toArray(),l=sl(e.version);return new Ic(new Cc(c,l),null,null,!0,r,i)}return Wo()}function il(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ol(t){var e=new bs(t[0],t[1]);return Oa.fromTimestamp(e)}function sl(t){var e=t.toTimestamp();return new wc(e.seconds,e.nanoseconds)}function al(t){var e=new bs(t.seconds,t.nanoseconds);return Oa.fromTimestamp(e)}function ul(t,e){for(var n=(e.baseMutations||[]).map(function(e){return ec(t.Kt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return ec(t.Kt,e)}),o=bs.fromMillis(e.localWriteTimeMs);return new Zc(e.batchId,o,n,i)}function cl(t){var e,n,r=al(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?al(t.lastLimboFreeSnapshotVersion):Oa.min();return void 0!==t.query.documents?($o(1===(n=t.query).documents.length),e=ga(ua(Qu(n.documents[0])))):e=function(t){return ga(ic(t))}(t.query),new tl(e,t.targetId,0,t.lastListenSequenceNumber,r,i,ps.fromBase64String(t.resumeToken))}function ll(t,e){var n,r=sl(e.snapshotVersion),i=sl(e.lastLimboFreeSnapshotVersion);n=zs(e.target)?nc(t.Kt,e.target):rc(t.Kt,e.target);var o=e.resumeToken.toBase64();return new xc(e.targetId,Bs(e.target),r,o,e.sequenceNumber,i,n)}function hl(t){var e=ic({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ma(e,e.limit,"L"):e}var fl=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return dl(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:al(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return dl(t).put({bundleId:(n=e).id,createTime:sl(Hu(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return pl(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:hl(e.bundledQuery),readTime:al(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return pl(t).put(function(t){return{name:t.name,readTime:sl(Hu(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function dl(t){return Jc(t,Rc.store)}function pl(t){return Jc(t,Pc.store)}var gl=function(){function t(){this.Wt=new ml}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Wt.add(e),Uc.resolve()},t.prototype.getCollectionParents=function(t,e){return Uc.resolve(this.Wt.getEntries(e))},t}(),ml=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new gu(ls.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new gu(ls.comparator)).toArray()},t}(),yl=function(){function t(){this.jt=new ml}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.jt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.jt.add(e)});var o={collectionId:r,parent:mc(i)};return vl(t).put(o)}return Uc.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ts(e),""],!1,!0);return vl(t).kt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(bc(o.parent))}return n})},t}();function vl(t){return Jc(t,Nc.store)}var bl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wl=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function _l(t,e,n){var r=t.store(Oc.store),i=t.store(Sc.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.qt({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){$o(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Sc.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Uc.waitFor(o).next(function(){return c})}function El(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Wo();e=t.noDocument}return JSON.stringify(e).length}wl.DEFAULT_COLLECTION_PERCENTILE=10,wl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wl.DEFAULT=new wl(41943040,wl.DEFAULT_COLLECTION_PERCENTILE,wl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wl.DISABLED=new wl(-1,0,0);var Ol=function(){function t(t,e,n,r){this.userId=t,this.D=e,this.Gt=n,this.referenceDelegate=r,this.zt={}}return t.Ht=function(e,n,r,i){return $o(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tl(t).qt({index:Oc.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Cl(t),s=Tl(t);return s.add({}).next(function(a){$o("number"==typeof a);for(var u=new Zc(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return tc(t.Kt,e)}),i=n.mutations.map(function(e){return tc(t.Kt,e)});return new Oc(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,u),l=[],h=new gu(function(t,e){return Zo(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Sc.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,Sc.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Gt.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.zt[a]=u.keys()}),Uc.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Tl(t).get(e).next(function(t){return t?($o(t.userId===n.userId),ul(n.D,t)):null})},t.prototype.Jt=function(t,e){var n=this;return this.zt[e]?Uc.resolve(this.zt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.zt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Tl(t).qt({index:Oc.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&($o(e.batchId>=r),o=ul(n.D,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Tl(t).qt({index:Oc.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Tl(t).kt(Oc.userMutationsIndex,n).next(function(t){return t.map(function(t){return ul(e.D,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Sc.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Cl(t).qt({range:i},function(r,i,s){var a=r[0],u=r[2],c=bc(r[1]);if(a===n.userId&&e.path.isEqual(c))return Tl(t).get(u).next(function(t){if(!t)throw Wo();$o(t.userId===n.userId),o.push(ul(n.D,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new gu(Zo),i=[];return e.forEach(function(e){var o=Sc.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Cl(t).qt({range:s},function(t,i,o){var s=t[0],a=t[2],u=bc(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Uc.waitFor(i).next(function(){return n.Yt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Sc.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new gu(Zo);return Cl(t).qt({range:s},function(t,e,o){var s=t[0],u=t[2],c=bc(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Yt(t,a)})},t.prototype.Yt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Tl(t).get(e).next(function(t){if(null===t)throw Wo();$o(t.userId===n.userId),r.push(ul(n.D,t))}))}),Uc.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return _l(t.Qt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Xt(e.batchId)}),Uc.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Xt=function(t){delete this.zt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Uc.resolve();var r=IDBKeyRange.lowerBound(Sc.prefixForUser(e.userId)),i=[];return Cl(t).qt({range:r},function(t,n,r){if(t[0]===e.userId){var o=bc(t[1]);i.push(o)}else r.done()}).next(function(){$o(0===i.length)})})},t.prototype.containsKey=function(t,e){return Sl(t,this.userId,e)},t.prototype.Zt=function(t){var e=this;return Il(t).get(this.userId).next(function(t){return t||new Ec(e.userId,-1,"")})},t}();function Sl(t,e,n){var r=Sc.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Cl(t).qt({range:o,Bt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Tl(t){return Jc(t,Oc.store)}function Cl(t){return Jc(t,Sc.store)}function Il(t){return Jc(t,Ec.store)}var Al=function(){function t(t){this.te=t}return t.prototype.next=function(){return this.te+=2,this.te},t.ee=function(){return new t(0)},t.ne=function(){return new t(-1)},t}(),xl=function(){function t(t,e){this.referenceDelegate=t,this.D=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.se(t).next(function(n){var r=new Al(n.highestTargetId);return n.highestTargetId=r.next(),e.ie(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.se(t).next(function(t){return Oa.fromTimestamp(new bs(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.se(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.se(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.ie(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.re(t,e).next(function(){return n.se(t).next(function(r){return r.targetCount+=1,n.oe(e,r),n.ie(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.re(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return jl(t).delete(e.targetId)}).next(function(){return n.se(t)}).next(function(e){return $o(e.targetCount>0),e.targetCount-=1,n.ie(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return jl(t).qt(function(s,a){var u=cl(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Uc.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return jl(t).qt(function(t,n){var r=cl(n);e(r)})},t.prototype.se=function(t){return kl(t).get(kc.key).next(function(t){return $o(null!==t),t})},t.prototype.ie=function(t,e){return kl(t).put(kc.key,e)},t.prototype.re=function(t,e){return jl(t).put(ll(this.D,e))},t.prototype.oe=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.se(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Bs(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return jl(t).qt({range:r,index:xc.queryTargetsIndexName},function(t,n,r){var o=cl(n);Hs(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Nl(t);return e.forEach(function(e){var s=mc(e.path);i.push(o.put(new jc(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),Uc.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Nl(t);return Uc.forEach(e,function(e){var o=mc(e.path);return Uc.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Nl(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Nl(t),i=Tu();return r.qt({range:n,Bt:!0},function(t,e,n){var r=bc(t[1]),o=new ds(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=mc(e.path),r=IDBKeyRange.bound([n],[ts(n)],!1,!0),i=0;return Nl(t).qt({index:jc.documentTargetsIndex,Bt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.yt=function(t,e){return jl(t).get(e).next(function(t){return t?cl(t):null})},t}();function jl(t){return Jc(t,xc.store)}function kl(t){return Jc(t,kc.store)}function Nl(t){return Jc(t,jc.store)}function Dl(t){return Object(Oe.b)(this,void 0,void 0,function(){return Object(Oe.d)(this,function(e){if(t.code!==as.FAILED_PRECONDITION||t.message!==Mc)throw t;return Ho("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Rl(t,e){var n=t[1],r=e[1],i=Zo(t[0],e[0]);return 0===i?Zo(n,r):i}var Pl=function(){function t(t){this.ce=t,this.buffer=new gu(Rl),this.ae=0}return t.prototype.ue=function(){return++this.ae},t.prototype.he=function(t){var e=[t,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Rl(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Ll=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.le=!1,this.fe=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(t)},t.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),t.prototype.de=function(t){var e=this,n=this.le?3e5:6e4;Ho("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Oe.b)(e,void 0,void 0,function(){var e;return Object(Oe.d)(this,function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Gc(e=n.sent())?(Ho("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Dl(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(t)];case 8:return n.sent(),[2]}})})})},t}(),Ml=function(){function t(t,e){this.we=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.we._e(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Uc.resolve(Uo.o);var r=new Pl(e);return this.we.forEachTarget(t,function(t){return r.he(t.sequenceNumber)}).next(function(){return n.we.me(t,function(t){return r.he(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.we.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.we.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ho("LruGarbageCollector","Garbage collection skipped; disabled"),Uc.resolve(bl)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Ho("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),bl):n.ye(t,e)})},t.prototype.getCacheSize=function(t){return this.we.getCacheSize(t)},t.prototype.ye=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Ho("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Bo()<=Pe.a.DEBUG&&Ho("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Uc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Vl=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Ml(t,e)}(this,e)}return t.prototype._e=function(t){var e=this.ge(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.ge=function(t){var e=0;return this.me(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.me=function(t,e){return this.pe(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Fl(t,n)},t.prototype.removeReference=function(t,e,n){return Fl(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Fl(t,e)},t.prototype.Ee=function(t,e){return function(t,e){var n=!1;return Il(t).Ut(function(r){return Sl(t,r,e).next(function(t){return t&&(n=!0),Uc.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.pe(t,function(s,a){if(a<=e){var u=n.Ee(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),Nl(t).delete([0,mc(s.path)])})});i.push(u)}}).next(function(){return Uc.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Fl(t,e)},t.prototype.pe=function(t,e){var n,r=Nl(t),i=Uo.o;return r.qt({index:jc.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Uo.o&&e(new ds(bc(n)),i),i=s,n=o):i=Uo.o}).next(function(){i!==Uo.o&&e(new ds(bc(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Fl(t,e){return Nl(t).put(function(t,e){return new jc(0,mc(t.path),e)}(e,t.currentSequenceNumber))}var Ul=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){ns(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return rs(this.inner)},t}(),ql=function(){function t(){this.changes=new Ul(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Oa.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{maybeDocument:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{maybeDocument:null,readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Uc.resolve(n.maybeDocument):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Bl=function(){function t(t,e){this.D=t,this.Gt=e}return t.prototype.addEntry=function(t,e,n){return Gl(t).put(Kl(e),n)},t.prototype.removeEntry=function(t,e){var n=Gl(t),r=Kl(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Te(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Gl(t).get(Kl(e)).next(function(t){return n.Ie(t)})},t.prototype.Ae=function(t,e){var n=this;return Gl(t).get(Kl(e)).next(function(t){var e=n.Ie(t);return e?{maybeDocument:e,size:El(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=bu();return this.Re(t,e,function(t,e){var i=n.Ie(e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.be=function(t,e){var n=this,r=bu(),i=new fu(ds.comparator);return this.Re(t,e,function(t,e){var o=n.Ie(e);o?(r=r.insert(t,o),i=i.insert(t,El(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{ve:r,Pe:i}})},t.prototype.Re=function(t,e,n){if(e.isEmpty())return Uc.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Gl(t).qt({range:r},function(t,e,r){for(var s=ds.fromSegments(t);o&&ds.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ot(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=_u(),o=e.path.length+1,s={};if(n.isEqual(Oa.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=il(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Ic.collectionReadTimeIndex}return Gl(t).qt(s,function(t,n,s){if(t.length===o){var a=nl(r.D,n);e.path.isPrefixOf(a.key.path)?a instanceof Ms&&wa(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Hl(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return zl(t).get(Ac.key).next(function(t){return $o(!!t),t})},t.prototype.Te=function(t,e){return zl(t).put(Ac.key,e)},t.prototype.Ie=function(t){if(t){var e=nl(this.D,t);return e instanceof Vs&&e.version.isEqual(Oa.min())?null:e}return null},t}(),Hl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ve=e,r.trackRemovals=n,r.Se=new Ul(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Oe.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new gu(function(t,e){return Zo(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Se.get(o);if(s.maybeDocument){var u=rl(e.Ve.D,s.maybeDocument,e.getReadTime(o));i=i.add(o.path.popLast());var c=El(u);r+=c-a,n.push(e.Ve.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=rl(e.Ve.D,new Vs(o,Oa.min()),e.getReadTime(o));n.push(e.Ve.addEntry(t,o,l))}else n.push(e.Ve.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ve.Gt.addToCollectionParentIndex(t,r))}),n.push(this.Ve.updateMetadata(t,r)),Uc.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ve.Ae(t,e).next(function(t){return null===t?(n.Se.set(e,0),null):(n.Se.set(e,t.size),t.maybeDocument)})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ve.be(t,e).next(function(t){var e=t.ve;return t.Pe.forEach(function(t,e){n.Se.set(t,e)}),e})},e}(ql);function zl(t){return Jc(t,Ac.store)}function Gl(t){return Jc(t,Ic.store)}function Kl(t){return t.path.toArray()}var Wl=function(){function t(t){this.D=t}return t.prototype.St=function(t,e,n,r){var i=this;$o(n<r&&n>=0&&r<=11);var o=new qc("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(_c.store)}(t),function(t){t.createObjectStore(Ec.store,{keyPath:Ec.keyPath}),t.createObjectStore(Oc.store,{keyPath:Oc.keyPath,autoIncrement:!0}).createIndex(Oc.userMutationsIndex,Oc.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Sc.store)}(t),$l(t),function(t){t.createObjectStore(Ic.store)}(t));var s=Uc.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(jc.store),t.deleteObjectStore(xc.store),t.deleteObjectStore(kc.store)}(t),$l(t)),s=s.next(function(){return function(t){var e=t.store(kc.store),n=new kc(0,0,Oa.min().toTimestamp(),0);return e.put(kc.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Oc.store).kt().next(function(n){t.deleteObjectStore(Oc.store),t.createObjectStore(Oc.store,{keyPath:Oc.keyPath,autoIncrement:!0}).createIndex(Oc.userMutationsIndex,Oc.userMutationsKeyPath,{unique:!0});var r=e.store(Oc.store),i=n.map(function(t){return r.put(t)});return Uc.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Dc.store,{keyPath:Dc.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.De(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Ac.store)}(t),i.Ce(o)})),n<7&&r>=7&&(s=s.next(function(){return i.xe(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Ne(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ic.store);e.createIndex(Ic.readTimeIndex,Ic.readTimeIndexPath,{unique:!1}),e.createIndex(Ic.collectionReadTimeIndex,Ic.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.$e(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Rc.store,{keyPath:Rc.keyPath})}(t),function(t){t.createObjectStore(Pc.store,{keyPath:Pc.keyPath})}(t)})),s},t.prototype.Ce=function(t){var e=0;return t.store(Ic.store).qt(function(t,n){e+=El(n)}).next(function(){var n=new Ac(e);return t.store(Ac.store).put(Ac.key,n)})},t.prototype.De=function(t){var e=this,n=t.store(Ec.store),r=t.store(Oc.store);return n.kt().next(function(n){return Uc.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(Oc.userMutationsIndex,i).next(function(r){return Uc.forEach(r,function(r){$o(r.userId===n.userId);var i=ul(e.D,r);return _l(t,n.userId,i).next(function(){})})})})})},t.prototype.xe=function(t){var e=t.store(jc.store),n=t.store(Ic.store);return t.store(kc.store).get(kc.key).next(function(t){var r=[];return n.qt(function(n,i){var o=new ls(n),s=function(t){return[0,mc(t)]}(o);r.push(e.get(s).next(function(n){return n?Uc.resolve():function(n){return e.put(new jc(0,mc(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Uc.waitFor(r)})})},t.prototype.Ne=function(t,e){t.createObjectStore(Nc.store,{keyPath:Nc.keyPath});var n=e.store(Nc.store),r=new ml,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:mc(i)})}};return e.store(Ic.store).qt({Bt:!0},function(t,e){var n=new ls(t);return i(n.popLast())}).next(function(){return e.store(Sc.store).qt({Bt:!0},function(t,e){var n=bc(t[1]);return i(n.popLast())})})},t.prototype.$e=function(t){var e=this,n=t.store(xc.store);return n.qt(function(t,r){var i=cl(r),o=ll(e.D,i);return n.put(o)})},t}();function $l(t){t.createObjectStore(jc.store,{keyPath:jc.keyPath}).createIndex(jc.documentTargetsIndex,jc.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(xc.store,{keyPath:xc.keyPath}).createIndex(xc.queryTargetsIndexName,xc.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(kc.store)}var Ql="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Yl=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fe=o,this.window=s,this.document=a,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(t){return Promise.resolve()},!t.At())throw new us(as.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Vl(this,i),this.We=n+"main",this.D=new el(u),this.je=new Bc(this.We,11,new Wl(this.D)),this.Ge=new xl(this.referenceDelegate,this.D),this.Gt=new yl,this.ze=function(t,e){return new Bl(t,e)}(this.D,this.Gt),this.He=new fl,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&zo("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Ye().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new us(as.FAILED_PRECONDITION,Ql);return t.Xe(),t.Ze(),t.tn(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Ge.getHighestSequenceNumber(e)})}).then(function(e){t.Me=new Uo(e,t.Oe)}).then(function(){t.Le=!0}).catch(function(e){return t.je&&t.je.close(),Promise.reject(e)})},t.prototype.en=function(t){var e=this;return this.Ke=function(n){return Object(Oe.b)(e,void 0,void 0,function(){return Object(Oe.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.je.Ct(function(n){return Object(Oe.b)(e,void 0,void 0,function(){return Object(Oe.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Fe.enqueueAndForget(function(){return Object(Oe.b)(e,void 0,void 0,function(){return Object(Oe.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Ye=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Zl(e).put(new Dc(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.nn(e).next(function(e){e||(t.isPrimary=!1,t.Fe.enqueueRetryable(function(){return t.Ke(!1)}))})}).next(function(){return t.sn(e)}).next(function(n){return t.isPrimary&&!n?t.rn(e).next(function(){return!1}):!!n&&t.on(e).next(function(){return!0})})}).catch(function(e){if(Gc(e))return Ho("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ho("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Fe.enqueueRetryable(function(){return t.Ke(e)}),t.isPrimary=e})},t.prototype.nn=function(t){var e=this;return Jl(t).get(_c.key).next(function(t){return Uc.resolve(e.cn(t))})},t.prototype.an=function(t){return Zl(t).delete(this.clientId)},t.prototype.un=function(){return Object(Oe.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Oe.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Jc(t,Dc.store);return e.kt().next(function(t){var n=r.ln(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Uc.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Je)for(e=0,n=t;e<n.length;e++)this.Je.removeItem(this.fn(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.tn=function(){var t=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.Ye().then(function(){return t.un()}).then(function(){return t.tn()})})},t.prototype.cn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sn=function(t){var e=this;return this.ke?Uc.resolve(!0):Jl(t).get(_c.key).next(function(n){if(null!==n&&e.hn(n.leaseTimestampMs,5e3)&&!e.dn(n.ownerId)){if(e.cn(n)&&e.networkEnabled)return!0;if(!e.cn(n)){if(!n.allowTabSynchronization)throw new us(as.FAILED_PRECONDITION,Ql);return!1}}return!(!e.networkEnabled||!e.inForeground)||Zl(t).kt().next(function(t){return void 0===e.ln(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Ho("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Oe.b)(this,void 0,void 0,function(){var t=this;return Object(Oe.d)(this,function(e){switch(e.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[_c.store,Dc.store],function(e){var n=new Yc(e,Uo.o);return t.rn(n).next(function(){return t.an(n)})})];case 1:return e.sent(),this.je.close(),this.yn(),[2]}})})},t.prototype.ln=function(t,e){var n=this;return t.filter(function(t){return n.hn(t.updateTimeMs,e)&&!n.dn(t.clientId)})},t.prototype.gn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Zl(e).kt().next(function(e){return t.ln(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Ol.Ht(t,this.D,this.Gt,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Ho("IndexedDbPersistence","Starting transaction:",t),this.je.runTransaction(t,"readonly"===e?"readonly":"readwrite",Lc,function(o){return r=new Yc(o,i.Me?i.Me.next():Uo.o),"readwrite-primary"===e?i.nn(r).next(function(t){return!!t||i.sn(r)}).next(function(e){if(!e)throw zo("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Fe.enqueueRetryable(function(){return i.Ke(!1)}),new us(as.FAILED_PRECONDITION,Mc);return n(r)}).next(function(t){return i.on(r).next(function(){return t})}):i.pn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.pn=function(t){var e=this;return Jl(t).get(_c.key).next(function(t){if(null!==t&&e.hn(t.leaseTimestampMs,5e3)&&!e.dn(t.ownerId)&&!e.cn(t)&&!(e.ke||e.allowTabSynchronization&&t.allowTabSynchronization))throw new us(as.FAILED_PRECONDITION,Ql)})},t.prototype.on=function(t){var e=new _c(this.clientId,this.allowTabSynchronization,Date.now());return Jl(t).put(_c.key,e)},t.At=function(){return Bc.At()},t.prototype.rn=function(t){var e=this,n=Jl(t);return n.get(_c.key).next(function(t){return e.cn(t)?(Ho("IndexedDbPersistence","Releasing primary lease."),n.delete(_c.key)):Uc.resolve()})},t.prototype.hn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(zo("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xe=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){t.Fe.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.Ye()})},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},t.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},t.prototype.Ze=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Be=function(){e.wn(),e.Fe.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Be))},t.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},t.prototype.dn=function(t){var e;try{var n=null!==(null===(e=this.Je)||void 0===e?void 0:e.getItem(this.fn(t)));return Ho("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return zo("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(t){zo("Failed to set zombie client id.",t)}},t.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(t){}},t.prototype.fn=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Jl(t){return Jc(t,_c.store)}function Zl(t){return Jc(t,Dc.store)}function Xl(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var th=function(t,e){this.progress=t,this.En=e},eh=function(){function t(t,e,n){this.ze=t,this.Tn=e,this.Gt=n}return t.prototype.In=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.An(t,e,r)})},t.prototype.An=function(t,e,n){return this.ze.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t})},t.prototype.Rn=function(t,e,n){var r=bu();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.bn=function(t,e){var n=this;return this.ze.getEntries(t,e).next(function(e){return n.vn(t,e)})},t.prototype.vn=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.Rn(t,e,r),o=vu();return i.forEach(function(t,e){e||(e=new Vs(t,Oa.min())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return ds.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Pn(t,e.path):da(e)?this.Vn(t,e,n):this.Sn(t,e,n)},t.prototype.Pn=function(t,e){return this.In(t,new ds(e)).next(function(t){var e=_u();return t instanceof Ms&&(e=e.insert(t.key,t)),e})},t.prototype.Vn=function(t,e,n){var r=this,i=e.collectionGroup,o=_u();return this.Gt.getCollectionParents(t,i).next(function(s){return Uc.forEach(s,function(s){var a=function(t,e){return new sa(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.Sn(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.Sn=function(t,e,n){var r,i,o=this;return this.ze.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o.Tn.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Dn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=Qa(u,r.get(c),o.localWriteTime);r=l instanceof Ms?r.insert(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){wa(e,n)||(r=r.remove(t))}),r})},t.prototype.Dn=function(t,e,n){for(var r=Tu(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof tu&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ze.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Ms&&(c=c.insert(t,e))}),c})},t}(),nh=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Cn=n,this.xn=r}return t.Nn=function(e,n){for(var r=Tu(),i=Tu(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),rh=function(){function t(){}return t.prototype.$n=function(t){this.Fn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Oa.min())?this.On(t,e):this.Fn.bn(t,r).next(function(o){var s=i.kn(e,o);return(ca(e)||la(e))&&i.Mn(e.limitType,s,r,n)?i.On(t,e):(Bo()<=Pe.a.DEBUG&&Ho("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ba(e)),i.Fn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.kn=function(t,e){var n=new gu(_a(t));return e.forEach(function(e,r){r instanceof Ms&&wa(t,r)&&(n=n.add(r))}),n},t.prototype.Mn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.On=function(t,e){return Bo()<=Pe.a.DEBUG&&Ho("QueryEngine","Using full collection scan to execute query:",ba(e)),this.Fn.getDocumentsMatchingQuery(t,e,Oa.min())},t}(),ih=function(){function t(t,e,n,r){this.persistence=t,this.Ln=e,this.D=r,this.Bn=new fu(Zo),this.qn=new Ul(function(t){return Bs(t)},Hs),this.Un=Oa.min(),this.Tn=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.Ge=t.getTargetCache(),this.Kn=new eh(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=t.getBundleCache(),this.Ln.$n(this.Kn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Bn)})},t}();function oh(t,e,n,r){return new ih(t,e,n,r)}function sh(t,e){return Object(Oe.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Oe.d)(this,function(s){switch(s.label){case 0:return n=Qo(t),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Tn.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new eh(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=Tu(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.bn(t,s).next(function(t){return{Wn:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),o)]}})})}function ah(t,e){var n=Qo(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Uc.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=e,s=n.docVersions.get(t);$o(null!==s),(!o||o.version.compareTo(s)<0)&&(o=i.applyToRemoteDocument(t,o,n))&&r.addEntry(o,n.commitVersion)})}),s.next(function(){return t.Tn.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}function uh(t){var e=Qo(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Ge.getLastRemoteSnapshotVersion(t)})}function ch(t,e){var n=Qo(t),r=e.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.Ge.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.Ge.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return $o(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.Ge.updateTargetData(t,c))}}});var a=vu();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(lh(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Oa.min())){var u=n.Ge.getLastRemoteSnapshotVersion(t).next(function(e){return n.Ge.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return Uc.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Kn.vn(t,a)})}).then(function(t){return n.Bn=i,t})}function lh(t,e,n,r,i){var o=Tu();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=vu();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof Vs&&s.version.isEqual(Oa.min())?(e.removeEntry(n,u),o=o.insert(n,s)):null==a||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Ho("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function hh(t,e){var n=Qo(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Tn.getNextMutationBatchAfterBatchId(t,e)})}function fh(t,e){var n=Qo(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Ge.getTargetData(t,e).next(function(i){return i?Uc.resolve(r=i):n.Ge.allocateTargetId(t).next(function(i){return r=new tl(e,i,0,t.currentSequenceNumber),n.Ge.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Bn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(t.targetId,t),n.qn.set(e,t.targetId)),t})}function dh(t,e,n){return Object(Oe.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Oe.d)(this,function(a){switch(a.label){case 0:r=Qo(t),i=r.Bn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Gc(s=a.sent()))throw s;return Ho("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Bn=r.Bn.remove(e),r.qn.delete(i.target),[2]}})})}function ph(t,e,n){var r=Qo(t),i=Oa.min(),o=Tu();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Qo(t),i=r.qn.get(n);return void 0!==i?Uc.resolve(r.Bn.get(i)):r.Ge.getTargetData(e,n)}(r,t,ga(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.Ln.getDocumentsMatchingQuery(t,e,n?i:Oa.min(),n?o:Tu())}).next(function(t){return{documents:t,jn:o}})})}function gh(t,e){var n=Qo(t),r=Qo(n.Ge),i=n.Bn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.yt(t,e).next(function(t){return t?t.target:null})})}function mh(t){var e=Qo(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Qo(t),i=vu(),o=il(n),s=Gl(e),a=IDBKeyRange.lowerBound(o,!0);return s.qt({index:Ic.readTimeIndex,range:a},function(t,e){var n=nl(r.D,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{En:i,readTime:ol(o)}})}(e.Qn,t,e.Un)}).then(function(t){var n=t.En;return e.Un=t.readTime,n})}function yh(t){return Object(Oe.b)(this,void 0,void 0,function(){var e;return Object(Oe.d)(this,function(n){return[2,(e=Qo(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Gl(t),n=Oa.min();return e.qt({index:Ic.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=ol(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Un=t})]})})}function vh(t,e,n,r){return Object(Oe.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(Oe.d)(this,function(p){switch(p.label){case 0:for(i=Qo(t),o=Tu(),s=vu(),a=Ou(),u=0,c=n;u<c.length;u++)h=e.Gn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.zn(l)),a=a.insert(h,e.Hn(l.metadata.readTime));return f=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,fh(i,function(t){return ga(ua(ls.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return lh(t,f,s,Oa.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.Ge.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.Ge.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Kn.vn(t,e)})})})]}})})}function bh(t,e,n){return void 0===n&&(n=Tu()),Object(Oe.b)(this,void 0,void 0,function(){var r,i;return Object(Oe.d)(this,function(o){switch(o.label){case 0:return[4,fh(t,ga(hl(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Qo(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Hu(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.He.saveNamedQuery(t,e);var s=r.withResumeToken(ps.EMPTY_BYTE_STRING,o);return i.Bn=i.Bn.insert(s.targetId,s),i.Ge.updateTargetData(t,s).next(function(){return i.Ge.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.Ge.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.He.saveNamedQuery(t,e)})})]}})})}var wh=function(){function t(t){this.D=t,this.Jn=new Map,this.Yn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Uc.resolve(this.Jn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:Hu(n.createTime)}),Uc.resolve()},t.prototype.getNamedQuery=function(t,e){return Uc.resolve(this.Yn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:hl(t.bundledQuery),readTime:Hu(t.readTime)}}(e)),Uc.resolve()},t}(),_h=function(){function t(){this.Xn=new gu(Eh.Zn),this.ts=new gu(Eh.es)}return t.prototype.isEmpty=function(){return this.Xn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Eh(t,e);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},t.prototype.ns=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.ss(new Eh(t,e))},t.prototype.rs=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.os=function(t){var e=this,n=new ds(new ls([])),r=new Eh(n,t),i=new Eh(n,t+1),o=[];return this.ts.forEachInRange([r,i],function(t){e.ss(t),o.push(t.key)}),o},t.prototype.cs=function(){var t=this;this.Xn.forEach(function(e){return t.ss(e)})},t.prototype.ss=function(t){this.Xn=this.Xn.delete(t),this.ts=this.ts.delete(t)},t.prototype.us=function(t){var e=new ds(new ls([])),n=new Eh(e,t),r=new Eh(e,t+1),i=Tu();return this.ts.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Eh(t,0),n=this.Xn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Eh=function(){function t(t,e){this.key=t,this.hs=e}return t.Zn=function(t,e){return ds.comparator(t.key,e.key)||Zo(t.hs,e.hs)},t.es=function(t,e){return Zo(t.hs,e.hs)||ds.comparator(t.key,e.key)},t}(),Oh=function(){function t(t,e){this.Gt=t,this.referenceDelegate=e,this.Tn=[],this.ls=1,this.fs=new gu(Eh.Zn)}return t.prototype.checkEmpty=function(t){return Uc.resolve(0===this.Tn.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ls;this.ls++;var o=new Zc(i,e,n,r);this.Tn.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.fs=this.fs.add(new Eh(u.key,i)),this.Gt.addToCollectionParentIndex(t,u.key.path.popLast())}return Uc.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Uc.resolve(this.ds(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.ws(e+1),r=n<0?0:n;return Uc.resolve(this.Tn.length>r?this.Tn[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Uc.resolve(0===this.Tn.length?-1:this.ls-1)},t.prototype.getAllMutationBatches=function(t){return Uc.resolve(this.Tn.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Eh(e,0),i=new Eh(e,Number.POSITIVE_INFINITY),o=[];return this.fs.forEachInRange([r,i],function(t){var e=n.ds(t.hs);o.push(e)}),Uc.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new gu(Zo);return e.forEach(function(t){var e=new Eh(t,0),i=new Eh(t,Number.POSITIVE_INFINITY);n.fs.forEachInRange([e,i],function(t){r=r.add(t.hs)})}),Uc.resolve(this._s(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ds.isDocumentKey(i)||(i=i.child(""));var o=new Eh(new ds(i),0),s=new gu(Zo);return this.fs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.hs)),!0)},o),Uc.resolve(this._s(s))},t.prototype._s=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.ds(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;$o(0===this.ys(e.batchId,"removed")),this.Tn.shift();var r=this.fs;return Uc.forEach(e.mutations,function(i){var o=new Eh(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.fs=r})},t.prototype.Xt=function(t){},t.prototype.containsKey=function(t,e){var n=new Eh(e,0),r=this.fs.firstAfterOrEqual(n);return Uc.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Uc.resolve()},t.prototype.ys=function(t,e){return this.ws(t)},t.prototype.ws=function(t){return 0===this.Tn.length?0:t-this.Tn[0].batchId},t.prototype.ds=function(t){var e=this.ws(t);return e<0||e>=this.Tn.length?null:this.Tn[e]},t}(),Sh=function(){function t(t,e){this.Gt=t,this.gs=e,this.docs=new fu(ds.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.gs(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:s,readTime:n}),this.size+=s-o,this.Gt.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Uc.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=bu();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),Uc.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=_u(),i=new ds(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.maybeDocument,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||u instanceof Ms&&wa(e,u)&&(r=r.insert(u.key,u))}return Uc.resolve(r)},t.prototype.ps=function(t,e){return Uc.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Th(this)},t.prototype.getSize=function(t){return Uc.resolve(this.size)},t}(),Th=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ve=e,n}return Object(Oe.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i&&i.maybeDocument?n.push(e.Ve.addEntry(t,i.maybeDocument,e.getReadTime(r))):e.Ve.removeEntry(r)}),Uc.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ve.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ve.getEntries(t,e)},e}(ql),Ch=function(){function t(t){this.persistence=t,this.Es=new Ul(function(t){return Bs(t)},Hs),this.lastRemoteSnapshotVersion=Oa.min(),this.highestTargetId=0,this.Ts=0,this.Is=new _h,this.targetCount=0,this.As=Al.ee()}return t.prototype.forEachTarget=function(t,e){return this.Es.forEach(function(t,n){return e(n)}),Uc.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Uc.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Uc.resolve(this.Ts)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.As.next(),Uc.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ts&&(this.Ts=e),Uc.resolve()},t.prototype.re=function(t){this.Es.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.As=new Al(e),this.highestTargetId=e),t.sequenceNumber>this.Ts&&(this.Ts=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.re(e),this.targetCount+=1,Uc.resolve()},t.prototype.updateTargetData=function(t,e){return this.re(e),Uc.resolve()},t.prototype.removeTargetData=function(t,e){return this.Es.delete(e.target),this.Is.os(e.targetId),this.targetCount-=1,Uc.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.Es.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Es.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Uc.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Uc.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.Es.get(e)||null;return Uc.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.Is.ns(e,n),Uc.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this.Is.rs(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Uc.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.Is.os(e),Uc.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.Is.us(e);return Uc.resolve(n)},t.prototype.containsKey=function(t,e){return Uc.resolve(this.Is.containsKey(e))},t}(),Ih=function(){function t(t,e){var n=this;this.Rs={},this.Me=new Uo(0),this.Le=!1,this.Le=!0,this.referenceDelegate=t(this),this.Ge=new Ch(this),this.Gt=new gl,this.ze=function(t,e){return new Sh(t,function(t){return n.referenceDelegate.bs(t)})}(this.Gt),this.D=new el(e),this.He=new wh(this.D)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getMutationQueue=function(t){var e=this.Rs[t.toKey()];return e||(e=new Oh(this.Gt,this.referenceDelegate),this.Rs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r=this;Ho("MemoryPersistence","Starting transaction:",t);var i=new Ah(this.Me.next());return this.referenceDelegate.vs(),n(i).next(function(t){return r.referenceDelegate.Ps(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Vs=function(t,e){return Uc.or(Object.values(this.Rs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Ah=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Oe.c)(e,t),e}(Vc),xh=function(){function t(t){this.persistence=t,this.Ss=new _h,this.Ds=null}return t.Cs=function(e){return new t(e)},Object.defineProperty(t.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw Wo()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.Ss.addReference(n,e),this.xs.delete(n.toString()),Uc.resolve()},t.prototype.removeReference=function(t,e,n){return this.Ss.removeReference(n,e),this.xs.add(n.toString()),Uc.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.xs.add(e.toString()),Uc.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Ss.os(e.targetId).forEach(function(t){return n.xs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.xs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.vs=function(){this.Ds=new Set},t.prototype.Ps=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Uc.forEach(this.xs,function(r){var i=ds.fromPath(r);return e.Ns(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Ds=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ns(t,e).next(function(t){t?n.xs.delete(e.toString()):n.xs.add(e.toString())})},t.prototype.bs=function(t){return 0},t.prototype.Ns=function(t,e){var n=this;return Uc.or([function(){return Uc.resolve(n.Ss.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Vs(t,e)}])},t}(),jh=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function kh(t,e){return"firestore_clients_"+t+"_"+e}function Nh(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Dh(t,e){return"firestore_targets_"+t+"_"+e}jh.UNAUTHENTICATED=new jh(null),jh.GOOGLE_CREDENTIALS=new jh("google-credentials-uid"),jh.FIRST_PARTY=new jh("first-party-uid");var Rh=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.$s=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new us(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(zo("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ph=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.$s=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new us(i.error.code,i.error.message)),o?new t(e,i.state,r):(zo("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Lh=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.$s=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Iu(),s=0;i&&s<r.activeTargetIds.length;++s)i=ss(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(zo("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Mh=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.$s=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(zo("SharedClientState","Failed to parse online state: "+e),null)},t}(),Vh=function(){function t(){this.activeTargetIds=Iu()}return t.prototype.Os=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ks=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fs=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Fh=function(){function t(t,e,n,r,i){this.window=t,this.Fe=e,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new fu(Zo),this.started=!1,this.Us=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=kh(this.persistenceKey,this.Ms),this.Ks=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new Vh),this.Ws=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.zs=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Hs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return t.At=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Oe.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(Oe.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.gn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ms&&(i=this.getItem(kh(this.persistenceKey,r)))&&(o=Lh.$s(r,i))&&(this.qs=this.qs.insert(o.clientId,o));for(this.Js(),(s=this.storage.getItem(this.zs))&&(a=this.Ys(s))&&this.Xs(a),u=0,c=this.Us;u<c.length;u++)this.Bs(c[u]);return this.Us=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ks,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.qs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.ti(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.ti(t,e,n),this.ei(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Dh(this.persistenceKey,t));if(n){var r=Ph.$s(t,n);r&&(e=r.state)}}return this.ni.Os(t),this.Js(),e},t.prototype.removeLocalQueryTarget=function(t){this.ni.ks(t),this.Js()},t.prototype.isLocalQueryTarget=function(t){return this.ni.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Dh(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.si(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.ei(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.ii(t)},t.prototype.notifyBundleLoaded=function(){this.ri()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ho("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ho("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ho("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Bs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ho("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void zo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable(function(){return Object(Oe.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Oe.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return t=this.oi(n.key),[2,this.ci(t,null)];if(e=this.ai(n.key,n.newValue))return[2,this.ci(e.clientId,e)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(o=this.Ys(n.newValue)))return[2,this.Xs(o)]}else if(n.key===this.Ks)(s=function(t){var e=Uo.o;if(null!=t)try{var n=JSON.parse(t);$o("number"==typeof n),e=n}catch(t){zo("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Uo.o&&this.sequenceNumberHandler(s);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),t.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},t.prototype.ti=function(t,e,n){var r=new Rh(this.currentUser,t,e,n),i=Nh(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Fs())},t.prototype.ei=function(t){var e=Nh(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ii=function(t){this.storage.setItem(this.zs,JSON.stringify({clientId:this.Ms,onlineState:t}))},t.prototype.si=function(t,e,n){var r=Dh(this.persistenceKey,t),i=new Ph(t,e,n);this.setItem(r,i.Fs())},t.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},t.prototype.oi=function(t){var e=this.Ws.exec(t);return e?e[1]:null},t.prototype.ai=function(t,e){var n=this.oi(t);return Lh.$s(n,e)},t.prototype.ui=function(t,e){var n=this.js.exec(t),r=Number(n[1]);return Rh.$s(new jh(void 0!==n[2]?n[2]:null),r,e)},t.prototype.li=function(t,e){var n=this.Gs.exec(t),r=Number(n[1]);return Ph.$s(r,e)},t.prototype.Ys=function(t){return Mh.$s(t)},t.prototype.hi=function(t){return Object(Oe.b)(this,void 0,void 0,function(){return Object(Oe.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(t.batchId,t.state,t.error)]:(Ho("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.fi=function(t){return this.syncEngine._i(t.targetId,t.state,t.error)},t.prototype.ci=function(t,e){var n=this,r=e?this.qs.insert(t,e):this.qs.remove(t),i=this.Zs(this.qs),o=this.Zs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.mi(s,a).then(function(){n.qs=r})},t.prototype.Xs=function(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Zs=function(t){var e=Iu();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Uh=function(){function t(){this.yi=new Vh,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.yi.Os(t),this.gi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.gi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.yi.ks(t)},t.prototype.isLocalQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.gi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.start=function(){return this.yi=new Vh,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),qh=function(){function t(){}return t.prototype.pi=function(t){},t.prototype.shutdown=function(){},t}(),Bh=function(){function t(){var t=this;this.Ei=function(){return t.Ti()},this.Ii=function(){return t.Ai()},this.Ri=[],this.bi()}return t.prototype.pi=function(t){this.Ri.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},t.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},t.prototype.Ti=function(){Ho("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(0)},t.prototype.Ai=function(){Ho("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(1)},t.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Hh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},zh=function(){function t(t){this.vi=t.vi,this.Pi=t.Pi}return t.prototype.Vi=function(t){this.Si=t},t.prototype.Di=function(t){this.Ci=t},t.prototype.onMessage=function(t){this.xi=t},t.prototype.close=function(){this.Pi()},t.prototype.send=function(t){this.vi(t)},t.prototype.Ni=function(){this.Si()},t.prototype.$i=function(t){this.Ci(t)},t.prototype.Fi=function(t){this.xi(t)},t}(),Gh=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(Oe.c)(e,t),e.prototype.qi=function(t,e,n,r){return new Promise(function(i,o){var s=new Fo;s.listenOnce(Lo.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Po.NO_ERROR:var e=s.getResponseJson();Ho("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Po.TIMEOUT:Ho("Connection",'RPC "'+t+'" timed out'),o(new us(as.DEADLINE_EXCEEDED,"Request time out"));break;case Po.HTTP_ERROR:var n=s.getStatus();if(Ho("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(as).indexOf(e)>=0?e:as.UNKNOWN}(r.status);o(new us(a,r.message))}else o(new us(as.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new us(as.UNAVAILABLE,"Connection failed."));break;default:Wo()}}finally{Ho("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Qi=function(t,e){var n=[this.Oi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new jo,i=Nr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(o.initMessageHeaders,e),Object(Le.l)()||Object(Le.n)()||Object(Le.j)()||Object(Le.k)()||Object(Le.o)()||Object(Le.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Ho("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new zh({vi:function(t){c?Ho("Connection","Not sending because WebChannel is closed:",t):(u||(Ho("Connection","Opening WebChannel transport."),a.open(),u=!0),Ho("Connection","WebChannel sending:",t),a.send(t))},Pi:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Vo.EventType.OPEN,function(){c||Ho("Connection","WebChannel transport opened.")}),h(a,Vo.EventType.CLOSE,function(){c||(c=!0,Ho("Connection","WebChannel transport closed"),l.$i())}),h(a,Vo.EventType.ERROR,function(t){c||(c=!0,Go("Connection","WebChannel transport errored:",t),l.$i(new us(as.UNAVAILABLE,"The operation could not be completed")))}),h(a,Vo.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];$o(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Ho("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=ou[t];if(void 0!==e)return hu(e)}(i),s=r.message;void 0===o&&(o=as.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.$i(new us(o,s)),a.close()}else Ho("Connection","WebChannel received:",n),l.Fi(n)}}),h(i,Mo.STAT_EVENT,function(t){10===t.stat?Ho("Connection","Detected buffering proxy"):11===t.stat&&Ho("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ni()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Oi=(t.ssl?"https":"http")+"://"+t.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Mi=function(t,e,n,r){var i=this.Li(t,e);Ho("RestConnection","Sending: ",i,n);var o={};return this.Bi(o,r),this.qi(t,i,o,n).then(function(t){return Ho("RestConnection","Received: ",t),t},function(e){throw Go("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Ui=function(t,e,n,r){return this.Mi(t,e,n,r)},t.prototype.Bi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.Li=function(t,e){return this.Oi+"/v1/"+e+":"+Hh[t]},t}());function Kh(){return"undefined"!=typeof window?window:null}function Wh(){return"undefined"!=typeof document?document:null}function $h(t){return new Fu(t,!0)}var Qh=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=t,this.timerId=e,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return t.prototype.reset=function(){this.Gi=0},t.prototype.Ji=function(){this.Gi=this.ji},t.prototype.Yi=function(t){var e=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&Ho("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,function(){return e.Hi=Date.now(),t()}),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},t.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},t.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},t.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},t}(),Yh=function(){function t(t,e,n,r,i,o){this.Fe=t,this.tr=n,this.er=r,this.nr=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Qh(t,e)}return t.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ar=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ur()},t.prototype.stop=function(){return Object(Oe.b)(this,void 0,void 0,function(){return Object(Oe.d)(this,function(t){switch(t.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.hr=function(){this.state=0,this.rr.reset()},t.prototype.lr=function(){var t=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,function(){return t.dr()}))},t.prototype.wr=function(t){this._r(),this.stream.send(t)},t.prototype.dr=function(){return Object(Oe.b)(this,void 0,void 0,function(){return Object(Oe.d)(this,function(t){return this.ar()?[2,this.close(0)]:[2]})})},t.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},t.prototype.close=function(t,e){return Object(Oe.b)(this,void 0,void 0,function(){return Object(Oe.d)(this,function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():e&&e.code===as.RESOURCE_EXHAUSTED?(zo(e.toString()),zo("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):e&&e.code===as.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Di(e)];case 1:return n.sent(),[2]}})})},t.prototype.mr=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.yr(this.sr),n=this.sr;this.nr.getToken().then(function(e){t.sr===n&&t.gr(e)},function(n){e(function(){var e=new us(as.UNKNOWN,"Fetching auth token failed: "+n.message);return t.pr(e)})})},t.prototype.gr=function(t){var e=this,n=this.yr(this.sr);this.stream=this.Er(t),this.stream.Vi(function(){n(function(){return e.state=2,e.listener.Vi()})}),this.stream.Di(function(t){n(function(){return e.pr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.ur=function(){var t=this;this.state=4,this.rr.Yi(function(){return Object(Oe.b)(t,void 0,void 0,function(){return Object(Oe.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.pr=function(t){return Ho("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.yr=function(t){var e=this;return function(n){e.Fe.enqueueAndForget(function(){return e.sr===t?n():(Ho("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Jh=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).D=i,s}return Object(Oe.c)(e,t),e.prototype.Er=function(t){return this.er.Qi("Listen",t)},e.prototype.onMessage=function(t){this.rr.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Wo()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.V?($o(void 0===e||"string"==typeof e),ps.fromBase64String(e||"")):($o(void 0===e||e instanceof Uint8Array),ps.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?as.UNKNOWN:hu(t.code);return new us(e,t.message||"")}(a);n=new Nu(r,i,o,s||null)}else if("documentChange"in e){i=Wu(t,(r=e.documentChange).document.name),o=Hu(r.document.updateTime);var a=new Ta({mapValue:{fields:r.document.fields}}),u=(s=new Ms(i,o,a,{}),r.targetIds||[]);n=new ju(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Wu(t,(r=e.documentDelete).document),o=r.readTime?Hu(r.readTime):Oa.min(),a=new Vs(i,o),n=new ju([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Wu(t,(r=e.documentRemove).document),n=new ju([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Wo();var c=e.filter;i=new cu(r=c.count||0),n=new ku(o=c.targetId,i)}return n}(this.D,t),n=function(t){if(!("targetChange"in t))return Oa.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Oa.min():e.readTime?Hu(e.readTime):Oa.min()}(t);return this.listener.Tr(e,n)},e.prototype.Ir=function(t){var e={};e.database=Yu(this.D),e.addTarget=function(t,e){var n,r=e.target;return(n=zs(r)?{documents:nc(t,r)}:{query:rc(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=qu(t,e.resumeToken):e.snapshotVersion.compareTo(Oa.min())>0&&(n.readTime=Uu(t,e.snapshotVersion.toTimestamp())),n}(this.D,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Wo()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.wr(e)},e.prototype.Ar=function(t){var e={};e.database=Yu(this.D),e.removeTarget=t,this.wr(e)},e}(Yh),Zh=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).D=i,s.Rr=!1,s}return Object(Oe.c)(e,t),Object.defineProperty(e.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mr=function(){this.Rr&&this.vr([])},e.prototype.Er=function(t){return this.er.Qi("Write",t)},e.prototype.onMessage=function(t){if($o(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();var e=function(t,e){return t&&t.length>0?($o(void 0!==e),t.map(function(t){return function(t,e){var n=Hu(t.updateTime?t.updateTime:e);return n.isEqual(Oa.min())&&(n=Hu(e)),new za(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Hu(t.commitTime);return this.listener.Pr(n,e)}return $o(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()},e.prototype.Sr=function(){var t={};t.database=Yu(this.D),this.wr(t)},e.prototype.vr=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return tc(e.D,t)})};this.wr(n)},e}(Yh),Xh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.er=n,i.D=r,i.Dr=!1,i}return Object(Oe.c)(e,t),e.prototype.Cr=function(){if(this.Dr)throw new us(as.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mi=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Mi(t,e,n,i)}).catch(function(t){throw t.code===as.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Ui=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Ui(t,e,n,i)}).catch(function(t){throw t.code===as.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Dr=!1},e}(function(){}),tf=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return t.prototype.Or=function(){var t=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.$r=null,t.Mr("Backend didn't respond within 10 seconds."),t.kr("Offline"),Promise.resolve()}))},t.prototype.Lr=function(t){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+t.toString()),this.kr("Offline")))},t.prototype.set=function(t){this.Br(),this.Nr=0,"Online"===t&&(this.Fr=!1),this.kr(t)},t.prototype.kr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Mr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(zo(e),this.Fr=!1):Ho("OnlineStateTracker",e)},t.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},t}(),ef=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi(function(t){n.enqueueAndForget(function(){return Object(Oe.b)(o,void 0,void 0,function(){return Object(Oe.d)(this,function(t){switch(t.label){case 0:return hf(this)?(Ho("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Oe.b)(this,void 0,void 0,function(){var e;return Object(Oe.d)(this,function(n){switch(n.label){case 0:return(e=Qo(t)).Qr.add(4),[4,rf(e)];case 1:return n.sent(),e.jr.set("Unknown"),e.Qr.delete(4),[4,nf(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.jr=new tf(n,r)};function nf(t){return Object(Oe.b)(this,void 0,void 0,function(){var e,n;return Object(Oe.d)(this,function(r){switch(r.label){case 0:if(!hf(t))return[3,4];e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function rf(t){return Object(Oe.b)(this,void 0,void 0,function(){var e,n;return Object(Oe.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function of(t,e){var n=Qo(t);n.Ur.has(e.targetId)||(n.Ur.set(e.targetId,e),lf(n)?cf(n):Cf(n).ar()&&af(n,e))}function sf(t,e){var n=Qo(t),r=Cf(n);n.Ur.delete(e),r.ar()&&uf(n,e),0===n.Ur.size&&(r.ar()?r.lr():hf(n)&&n.jr.set("Unknown"))}function af(t,e){t.Gr.H(e.targetId),Cf(t).Ir(e)}function uf(t,e){t.Gr.H(e),Cf(t).Ar(e)}function cf(t){t.Gr=new Ru({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},yt:function(e){return t.Ur.get(e)||null}}),Cf(t).start(),t.jr.Or()}function lf(t){return hf(t)&&!Cf(t).cr()&&t.Ur.size>0}function hf(t){return 0===Qo(t).Qr.size}function ff(t){t.Gr=void 0}function df(t){return Object(Oe.b)(this,void 0,void 0,function(){return Object(Oe.d)(this,function(e){return t.Ur.forEach(function(e,n){af(t,e)}),[2]})})}function pf(t,e){return Object(Oe.b)(this,void 0,void 0,function(){return Object(Oe.d)(this,function(n){return ff(t),lf(t)?(t.jr.Lr(e),cf(t)):t.jr.set("Unknown"),[2]})})}function gf(t,e,n){return Object(Oe.b)(this,void 0,void 0,function(){var r,i,o;return Object(Oe.d)(this,function(s){switch(s.label){case 0:if(t.jr.set("Online"),!(e instanceof Nu&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Oe.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Oe.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Ur.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Ur.delete(o),t.Gr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Ho("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,mf(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ju?t.Gr.st(e):e instanceof ku?t.Gr.ht(e):t.Gr.ot(e),n.isEqual(Oa.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,uh(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.Gr.dt(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Ur.get(r);i&&t.Ur.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Ur.get(e);if(n){t.Ur.set(e,n.withResumeToken(ps.EMPTY_BYTE_STRING,n.snapshotVersion)),uf(t,e);var r=new tl(n.target,e,1,n.sequenceNumber);af(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Ho("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,mf(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function mf(t,e,n){return Object(Oe.b)(this,void 0,void 0,function(){var r=this;return Object(Oe.d)(this,function(i){switch(i.label){case 0:if(!Gc(e))throw e;return t.Qr.add(1),[4,rf(t)];case 1:return i.sent(),t.jr.set("Offline"),n||(n=function(){return uh(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Oe.b)(r,void 0,void 0,function(){return Object(Oe.d)(this,function(e){switch(e.label){case 0:return Ho("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Qr.delete(1),[4,nf(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function yf(t,e){return e().catch(function(n){return mf(t,n,e)})}function vf(t){return Object(Oe.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Oe.d)(this,function(s){switch(s.label){case 0:e=Qo(t),n=If(e),r=e.qr.length>0?e.qr[e.qr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return hf(t)&&t.qr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,hh(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(t,e){t.qr.push(e);var n=If(t);n.ar()&&n.br&&n.vr(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,mf(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return bf(e)&&wf(e),[2]}})})}function bf(t){return hf(t)&&!If(t).cr()&&t.qr.length>0}function wf(t){If(t).start()}function _f(t){return Object(Oe.b)(this,void 0,void 0,function(){return Object(Oe.d)(this,function(e){return If(t).Sr(),[2]})})}function Ef(t){return Object(Oe.b)(this,void 0,void 0,function(){var e,n,r;return Object(Oe.d)(this,function(i){for(e=If(t),n=0,r=t.qr;n<r.length;n++)e.vr(r[n].mutations);return[2]})})}function Of(t,e,n){return Object(Oe.b)(this,void 0,void 0,function(){var r,i;return Object(Oe.d)(this,function(o){switch(o.label){case 0:return r=t.qr.shift(),i=Xc.from(r,e,n),[4,yf(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,vf(t)];case 2:return o.sent(),[2]}})})}function Sf(t,e){return Object(Oe.b)(this,void 0,void 0,function(){return Object(Oe.d)(this,function(n){switch(n.label){case 0:return e&&If(t).br?[4,function(t,e){return Object(Oe.b)(this,void 0,void 0,function(){var n,r;return Object(Oe.d)(this,function(i){switch(i.label){case 0:return lu(r=e.code)&&r!==as.ABORTED?(n=t.qr.shift(),If(t).hr(),[4,yf(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,vf(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return bf(t)&&wf(t),[2]}})})}function Tf(t,e){return Object(Oe.b)(this,void 0,void 0,function(){var n;return Object(Oe.d)(this,function(r){switch(r.label){case 0:return n=Qo(t),e?(n.Qr.delete(2),[4,nf(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Qr.add(2),[4,rf(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Cf(t){var e=this;return t.zr||(t.zr=function(t,e,n){var r=Qo(t);return r.Cr(),new Jh(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:df.bind(null,t),Di:pf.bind(null,t),Tr:gf.bind(null,t)}),t.Kr.push(function(n){return Object(Oe.b)(e,void 0,void 0,function(){return Object(Oe.d)(this,function(e){switch(e.label){case 0:return n?(t.zr.hr(),lf(t)?cf(t):t.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.zr.stop()];case 2:e.sent(),ff(t),e.label=3;case 3:return[2]}})})})),t.zr}function If(t){var e=this;return t.Hr||(t.Hr=function(t,e,n){var r=Qo(t);return r.Cr(),new Zh(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:_f.bind(null,t),Di:Sf.bind(null,t),Vr:Ef.bind(null,t),Pr:Of.bind(null,t)}),t.Kr.push(function(n){return Object(Oe.b)(e,void 0,void 0,function(){return Object(Oe.d)(this,function(e){switch(e.label){case 0:return n?(t.Hr.hr(),[4,vf(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Hr.stop()];case 3:e.sent(),t.qr.length>0&&(Ho("RemoteStore","Stopping write stream with "+t.qr.length+" pending writes"),t.qr=[]),e.label=4;case 4:return[2]}})})})),t.Hr}var Af=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Fc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new us(as.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function xf(t,e){if(zo("AsyncQueue",e+": "+t),Gc(t))return new us(as.UNAVAILABLE,e+": "+t);throw t}var jf=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ds.comparator(e.key,n.key)}:function(t,e){return ds.comparator(t.key,e.key)},this.keyedMap=_u(),this.sortedSet=new fu(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),kf=function(){function t(){this.Jr=new fu(ds.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):Wo():this.Jr=this.Jr.insert(e,t)},t.prototype.Yr=function(){var t=[];return this.Jr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Nf=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,jf.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ya(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Df=function(){this.Xr=void 0,this.listeners=[]},Rf=function(){this.queries=new Ul(function(t){return va(t)},ya),this.onlineState="Unknown",this.Zr=new Set};function Pf(t,e){return Object(Oe.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Oe.d)(this,function(c){switch(c.label){case 0:if(n=Qo(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Df),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Xr=c.sent(),[3,4];case 3:return a=c.sent(),u=xf(a,"Initialization of query '"+ba(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.eo(n.onlineState),o.Xr&&e.no(o.Xr)&&Ff(n),[2]}})})}function Lf(t,e){return Object(Oe.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Oe.d)(this,function(a){return n=Qo(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Mf(t,e){for(var n=Qo(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].no(s)&&(r=!0);a.Xr=s}}r&&Ff(n)}function Vf(t,e,n){var r=Qo(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Ff(t){t.Zr.forEach(function(t){t.next()})}var Uf=function(){function t(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.no=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Nf(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.io?this.oo(t)&&(this.so.next(t),o=!0):this.co(t,this.onlineState)&&(this.ao(t),o=!0),this.ro=t,o},t.prototype.onError=function(t){this.so.error(t)},t.prototype.eo=function(t){this.onlineState=t;var e=!1;return this.ro&&!this.io&&this.co(this.ro,t)&&(this.ao(this.ro),e=!0),e},t.prototype.co=function(t,e){return!t.fromCache||!(this.options.uo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.oo=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ao=function(t){t=Nf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)},t}(),qf=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.ho=function(){return"metadata"in this.payload},t}(),Bf=function(){function t(t){this.D=t}return t.prototype.Gn=function(t){return Wu(this.D,t)},t.prototype.zn=function(t){return t.metadata.exists?Xu(this.D,t.document,!1):new Vs(this.Gn(t.metadata.name),this.Hn(t.metadata.readTime))},t.prototype.Hn=function(t){return Hu(t)},t}();!function(){function t(t,e,n){this.lo=t,this.localStore=e,this.D=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.fo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.wo=function(t){for(var e=new Map,n=new Bf(this.D),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Gn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Tu()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Oe.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Oe.d)(this,function(o){switch(o.label){case 0:return[4,vh(this.localStore,new Bf(this.D),this.documents,this.lo.id)];case 1:t=o.sent(),e=this.wo(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,bh(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new th(Object.assign({},this.progress),t))]}})})}}();var Hf=function(t){this.key=t},zf=function(t){this.key=t},Gf=function(){function t(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=Tu(),this.mutatedKeys=Tu(),this.po=_a(t),this.Eo=new jf(this.po)}return Object.defineProperty(t.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),t.prototype.Io=function(t,e){var n=this,r=e?e.Ao:new kf,i=e?e.Eo:this.Eo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=ca(this.query)&&i.size===this.query.limit?i.last():null,c=la(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=e instanceof Ms?e:null;h&&(h=wa(n.query,h)?h:null);var f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Ro(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.po(h,u)>0||c&&n.po(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),ca(this.query)||la(this.query))for(;s.size>this.query.limit;){var l=ca(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Eo:s,Ao:r,Mn:a,mutatedKeys:o}},t.prototype.Ro=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;var o=t.Ao.Yr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wo()}};return n(t)-n(e)}(t.type,e.type)||r.po(t.doc,e.doc)}),this.bo(n);var s=e?this.vo():[],a=0===this.yo.size&&this.current?1:0,u=a!==this.mo;return this.mo=a,0!==o.length||u?{snapshot:new Nf(this.query,t.Eo,i,o,t.mutatedKeys,0===a,u,!1),Po:s}:{Po:s}},t.prototype.eo=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new kf,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},t.prototype.Vo=function(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations},t.prototype.bo=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._o=e._o.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e._o=e._o.delete(t)}),this.current=t.current)},t.prototype.vo=function(){var t=this;if(!this.current)return[];var e=this.yo;this.yo=Tu(),this.Eo.forEach(function(e){t.Vo(e.key)&&(t.yo=t.yo.add(e.key))});var n=[];return e.forEach(function(e){t.yo.has(e)||n.push(new zf(e))}),this.yo.forEach(function(t){e.has(t)||n.push(new Hf(t))}),n},t.prototype.So=function(t){this._o=t.jn,this.yo=Tu();var e=this.Io(t.documents);return this.applyChanges(e,!0)},t.prototype.Do=function(){return Nf.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},t}(),Kf=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Wf=function(t){this.key=t,this.Co=!1},$f=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.xo={},this.No=new Ul(function(t){return va(t)},ya),this.$o=new Map,this.Fo=new Set,this.Oo=new fu(ds.comparator),this.ko=new Map,this.Mo=new _h,this.Lo={},this.Bo=new Map,this.qo=Al.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),t}();function Qf(t,e){return Object(Oe.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Oe.d)(this,function(a){switch(a.label){case 0:return n=Sd(t),(i=n.No.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Do(),[3,4]):[3,1];case 1:return[4,fh(n.localStore,ga(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Yf(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&of(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function Yf(t,e,n,r){return Object(Oe.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(Oe.d)(this,function(l){switch(l.label){case 0:return t.Qo=function(e,n,r){return function(t,e,n,r){return Object(Oe.b)(this,void 0,void 0,function(){var i,o,s;return Object(Oe.d)(this,function(a){switch(a.label){case 0:return(i=e.view.Io(n)).Mn?[4,ph(t.localStore,e.query,!1).then(function(t){return e.view.Io(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(cd(t,e.targetId,s.Po),s.snapshot)]}})})}(t,e,n,r)},[4,ph(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Gf(e,i.jn),s=o.Io(i.documents),a=xu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),cd(t,n,u.Po),c=new Kf(e,n,o),[2,(t.No.set(e,c),t.$o.has(n)?t.$o.get(n).push(e):t.$o.set(n,[e]),u.snapshot)]}})})}function Jf(t,e){return Object(Oe.b)(this,void 0,void 0,function(){var n,r,i;return Object(Oe.d)(this,function(o){switch(o.label){case 0:return n=Qo(t),r=n.No.get(e),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter(function(t){return!ya(t,e)})),void n.No.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,dh(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),sf(n.remoteStore,r.targetId),ad(n,r.targetId)}).catch(Dl)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return ad(n,r.targetId),[4,dh(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Zf(t,e,n){return Object(Oe.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Oe.d)(this,function(a){switch(a.label){case 0:r=Td(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Qo(t),i=bs.now(),o=e.reduce(function(t,e){return t.add(e.key)},Tu());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Kn.bn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Ya(c,n.get(c.key));null!=l&&s.push(new tu(c.key,l,Ia(l.proto.mapValue),Ga.exists(!0)))}return r.Tn.addMutationBatch(t,i,s,e)})}).then(function(t){var e=t.applyToLocalDocumentSet(n);return{batchId:t.batchId,changes:e}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.Lo[t.currentUser.toKey()];r||(r=new fu(Zo)),r=r.insert(e,n),t.Lo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,fd(r,i.changes)];case 3:return a.sent(),[4,vf(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=xf(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Xf(t,e){return Object(Oe.b)(this,void 0,void 0,function(){var n,r;return Object(Oe.d)(this,function(i){switch(i.label){case 0:n=Qo(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ch(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.ko.get(e);r&&($o(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Co=!0:t.modifiedDocuments.size>0?$o(r.Co):t.removedDocuments.size>0&&($o(r.Co),r.Co=!1))}),[4,fd(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Dl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function td(t,e,n){var r=Qo(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach(function(t,n){var r=n.view.eo(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Qo(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].eo(e)&&(r=!0)}),r&&Ff(n)}(r.eventManager,e),i.length&&r.xo.Tr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ed(t,e,n){return Object(Oe.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(Oe.d)(this,function(c){switch(c.label){case 0:return(r=Qo(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.ko.get(e),(o=i&&i.key)?(s=(s=new fu(ds.comparator)).insert(o,new Vs(o,Oa.min())),a=Tu().add(o),u=new Au(Oa.min(),new Map,new gu(Zo),s,a),[4,Xf(r,u)]):[3,2];case 1:return c.sent(),r.Oo=r.Oo.remove(o),r.ko.delete(e),hd(r),[3,4];case 2:return[4,dh(r.localStore,e,!1).then(function(){return ad(r,e,n)}).catch(Dl)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function nd(t,e){return Object(Oe.b)(this,void 0,void 0,function(){var n,r,i;return Object(Oe.d)(this,function(o){switch(o.label){case 0:n=Qo(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,ah(n.localStore,e)];case 2:return i=o.sent(),sd(n,r,null),od(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,fd(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Dl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function rd(t,e,n){return Object(Oe.b)(this,void 0,void 0,function(){var r,i;return Object(Oe.d)(this,function(o){switch(o.label){case 0:r=Qo(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Qo(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Tn.lookupMutationBatch(t,e).next(function(e){return $o(null!==e),r=e.keys(),n.Tn.removeMutationBatch(t,e)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),sd(r,e,n),od(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,fd(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Dl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function id(t,e){return Object(Oe.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Oe.d)(this,function(a){switch(a.label){case 0:hf((n=Qo(t)).remoteStore)||Ho("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Qo(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Tn.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Bo.get(r)||[]).push(e),n.Bo.set(r,i),[3,4]);case 3:return o=a.sent(),s=xf(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function od(t,e){(t.Bo.get(e)||[]).forEach(function(t){t.resolve()}),t.Bo.delete(e)}function sd(t,e,n){var r=Qo(t),i=r.Lo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Lo[r.currentUser.toKey()]=i}}function ad(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.$o.get(e);r<i.length;r++){var o=i[r];t.No.delete(o),n&&t.xo.Ko(o,n)}t.$o.delete(e),t.isPrimaryClient&&t.Mo.os(e).forEach(function(e){t.Mo.containsKey(e)||ud(t,e)})}function ud(t,e){t.Fo.delete(e.path.canonicalString());var n=t.Oo.get(e);null!==n&&(sf(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.ko.delete(n),hd(t))}function cd(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Hf?(t.Mo.addReference(o.key,e),ld(t,o)):o instanceof zf?(Ho("SyncEngine","Document no longer in limbo: "+o.key),t.Mo.removeReference(o.key,e),t.Mo.containsKey(o.key)||ud(t,o.key)):Wo()}}function ld(t,e){var n=e.key,r=n.path.canonicalString();t.Oo.get(n)||t.Fo.has(r)||(Ho("SyncEngine","New document in limbo: "+n),t.Fo.add(r),hd(t))}function hd(t){for(;t.Fo.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){var e=t.Fo.values().next().value;t.Fo.delete(e);var n=new ds(ls.fromString(e)),r=t.qo.next();t.ko.set(r,new Wf(n)),t.Oo=t.Oo.insert(n,r),of(t.remoteStore,new tl(ga(ua(n.path)),r,2,Uo.o))}}function fd(t,e,n){return Object(Oe.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Oe.d)(this,function(a){switch(a.label){case 0:return r=Qo(t),i=[],o=[],s=[],r.No.isEmpty()?[3,3]:(r.No.forEach(function(t,a){s.push(r.Qo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=nh.Nn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.xo.Tr(i),[4,function(t,e){return Object(Oe.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(Oe.d)(this,function(l){switch(l.label){case 0:n=Qo(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Uc.forEach(e,function(e){return Uc.forEach(e.Cn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Uc.forEach(e.xn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Gc(r=l.sent()))throw r;return Ho("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Bn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Bn=n.Bn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function dd(t,e){return Object(Oe.b)(this,void 0,void 0,function(){var n,r;return Object(Oe.d)(this,function(i){switch(i.label){case 0:return(n=Qo(t)).currentUser.isEqual(e)?[3,3]:(Ho("SyncEngine","User change. New user:",e.toKey()),[4,sh(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Bo.forEach(function(t){t.forEach(function(t){t.reject(new us(as.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,fd(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function pd(t,e){var n=Qo(t),r=n.ko.get(e);if(r&&r.Co)return Tu().add(r.key);var i=Tu(),o=n.$o.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.No.get(a[s]);i=i.unionWith(u.view.To)}return i}function gd(t,e){return Object(Oe.b)(this,void 0,void 0,function(){var n,r,i;return Object(Oe.d)(this,function(o){switch(o.label){case 0:return[4,ph((n=Qo(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.So(r),[2,(n.isPrimaryClient&&cd(n,e.targetId,i.Po),i)]}})})}function md(t){return Object(Oe.b)(this,void 0,void 0,function(){var e;return Object(Oe.d)(this,function(n){return[2,mh((e=Qo(t)).localStore).then(function(t){return fd(e,t)})]})})}function yd(t,e,n,r){return Object(Oe.b)(this,void 0,void 0,function(){var i,o;return Object(Oe.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Qo(t),r=Qo(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Jt(t,e).next(function(e){return e?n.Kn.bn(t,e):Uc.resolve(null)})})}((i=Qo(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,vf(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(sd(i,e,r||null),od(i,e),function(t,e){Qo(Qo(t).Tn).Xt(e)}(i.localStore,e)):Wo(),s.label=4;case 4:return[4,fd(i,o)];case 5:return s.sent(),[3,7];case 6:Ho("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function vd(t,e){return Object(Oe.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Oe.d)(this,function(c){switch(c.label){case 0:return Sd(n=Qo(t)),Td(n),!0!==e||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,bd(n,r.toArray())]);case 1:return i=c.sent(),n.Uo=!0,[4,Tf(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)of(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Uo?[3,7]:(a=[],u=Promise.resolve(),n.$o.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return ad(n,e),dh(n.localStore,e,!0)}),sf(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,bd(n,a)];case 5:return c.sent(),function(t){var e=Qo(t);e.ko.forEach(function(t,n){sf(e.remoteStore,n)}),e.Mo.cs(),e.ko=new Map,e.Oo=new fu(ds.comparator)}(n),n.Uo=!1,[4,Tf(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function bd(t,e,n){return Object(Oe.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(Oe.d)(this,function(g){switch(g.label){case 0:n=Qo(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.$o.get(a=s[o]))&&0!==c.length?[4,fh(n.localStore,ga(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.No.get(h[l]),[4,gd(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,gh(n.localStore,a)];case 8:return p=g.sent(),[4,fh(n.localStore,p)];case 9:return u=g.sent(),[4,Yf(n,wd(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}})})}function wd(t){return aa(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function _d(t){var e=Qo(t);return Qo(Qo(e.localStore).persistence).gn()}function Ed(t,e,n,r){return Object(Oe.b)(this,void 0,void 0,function(){var i,o,s;return Object(Oe.d)(this,function(a){switch(a.label){case 0:return(i=Qo(t)).Uo?(Ho("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,mh(i.localStore)];case 3:return o=a.sent(),s=Au.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,fd(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,dh(i.localStore,e,!0)];case 6:return a.sent(),ad(i,e,r),[3,8];case 7:Wo(),a.label=8;case 8:return[2]}})})}function Od(t,e,n){return Object(Oe.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(Oe.d)(this,function(f){switch(f.label){case 0:if(!(r=Sd(t)).Uo)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.$o.has(s=o[i])?(Ho("SyncEngine","Adding an already active target "+s),[3,5]):[4,gh(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,fh(r.localStore,a)];case 3:return u=f.sent(),[4,Yf(r,wd(a),u.targetId,!1)];case 4:f.sent(),of(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Oe.d)(this,function(e){switch(e.label){case 0:return r.$o.has(t)?[4,dh(r.localStore,t,!1).then(function(){sf(r.remoteStore,t),ad(r,t)}).catch(Dl)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Sd(t){var e=Qo(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ed.bind(null,e),e.xo.Tr=Mf.bind(null,e.eventManager),e.xo.Ko=Vf.bind(null,e.eventManager),e}function Td(t){var e=Qo(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nd.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rd.bind(null,e),e}var Cd=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Oe.b)(this,void 0,void 0,function(){return Object(Oe.d)(this,function(e){switch(e.label){case 0:return this.D=$h(t.databaseInfo.databaseId),this.sharedClientState=this.jo(t),this.persistence=this.Go(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t),[2]}})})},t.prototype.zo=function(t){return null},t.prototype.Ho=function(t){return oh(this.persistence,new rh,t.initialUser,this.D)},t.prototype.Go=function(t){return new Ih(xh.Cs,this.D)},t.prototype.jo=function(t){return new Uh},t.prototype.terminate=function(){return Object(Oe.b)(this,void 0,void 0,function(){return Object(Oe.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Id=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Jo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Oe.c)(e,t),e.prototype.initialize=function(e){return Object(Oe.b)(this,void 0,void 0,function(){return Object(Oe.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,yh(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,e)];case 3:return n.sent(),[4,Td(this.Jo.syncEngine)];case 4:return n.sent(),[4,vf(this.Jo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ho=function(t){return oh(this.persistence,new rh,t.initialUser,this.D)},e.prototype.zo=function(t){return new Ll(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.Go=function(t){var e=Xl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?wl.withCacheSize(this.cacheSizeBytes):wl.DEFAULT;return new Yl(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Kh(),Wh(),this.D,this.sharedClientState,!!this.forceOwnership)},e.prototype.jo=function(t){return new Uh},e}(Cd),Ad=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Jo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Oe.c)(e,t),e.prototype.initialize=function(e){return Object(Oe.b)(this,void 0,void 0,function(){var n,r=this;return Object(Oe.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof Fh?(this.sharedClientState.syncEngine={wi:yd.bind(null,n),_i:Ed.bind(null,n),mi:Od.bind(null,n),gn:_d.bind(null,n),di:md.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en(function(t){return Object(Oe.b)(r,void 0,void 0,function(){return Object(Oe.d)(this,function(e){switch(e.label){case 0:return[4,vd(this.Jo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jo=function(t){var e=Kh();if(!Fh.At(e))throw new us(as.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Xl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Fh(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Id),xd=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Oe.b)(this,void 0,void 0,function(){var n=this;return Object(Oe.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return td(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=dd.bind(null,this.syncEngine),[4,Tf(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Rf},t.prototype.createDatastore=function(t){var e=$h(t.databaseInfo.databaseId),n=new Gh(t.databaseInfo);return function(t,e,n){return new Xh(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return td(s.syncEngine,t,0)},o=Bh.At()?new Bh:new qh,new ef(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new $f(t,e,n,r,i,o);return s&&(a.Uo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Oe.b)(this,void 0,void 0,function(){var e;return Object(Oe.d)(this,function(n){switch(n.label){case 0:return e=Qo(t),Ho("RemoteStore","RemoteStore shutting down."),e.Qr.add(5),[4,rf(e)];case 1:return n.sent(),e.Wr.shutdown(),e.jr.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),jd=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xo=function(){this.muted=!0},t.prototype.Yo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),kd=(function(){function t(t,e){var n=this;this.Zo=t,this.D=e,this.metadata=new Fc,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then(function(t){t&&t.ho()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Zo.cancel()},t.prototype.getMetadata=function(){return Object(Oe.b)(this,void 0,void 0,function(){return Object(Oe.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Wo=function(){return Object(Oe.b)(this,void 0,void 0,function(){return Object(Oe.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.ec())]}})})},t.prototype.ec=function(){return Object(Oe.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Oe.d)(this,function(i){switch(i.label){case 0:return[4,this.nc()];case 1:return null===(t=i.sent())?[2,null]:(e=this.tc.decode(t),n=Number(e),isNaN(n)&&this.sc("length string ("+e+") is not valid number"),[4,this.ic(n)]);case 2:return r=i.sent(),[2,new qf(JSON.parse(r),t.length+n)]}})})},t.prototype.rc=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.nc=function(){return Object(Oe.b)(this,void 0,void 0,function(){var t,e;return Object(Oe.d)(this,function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.ic=function(t){return Object(Oe.b)(this,void 0,void 0,function(){var e;return Object(Oe.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.tc.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.sc=function(t){throw this.Zo.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.oc=function(){return Object(Oe.b)(this,void 0,void 0,function(){var t,e;return Object(Oe.d)(this,function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Oe.b)(this,void 0,void 0,function(){var e,n=this;return Object(Oe.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new us(as.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Oe.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(Oe.d)(this,function(u){switch(u.label){case 0:return n=Qo(t),r=Yu(n.D)+"/documents",i={documents:e.map(function(t){return Ku(n.D,t)})},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){$o(!!e.found);var n=Wu(t,e.found.name),r=Hu(e.found.updateTime),i=new Ta({mapValue:{fields:e.found.fields}});return new Ms(n,r,i,{})}(t,e):"missing"in e?function(t,e){$o(!!e.missing),$o(!!e.readTime);var n=Wu(t,e.missing),r=Hu(e.readTime);return new Vs(n,r)}(t,e):Wo()}(n.D,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());$o(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Vs||t instanceof Ms?n.recordVersion(t):Wo()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new au(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Oe.b)(this,void 0,void 0,function(){var t,e=this;return Object(Oe.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=ds.fromPath(n);e.mutations.push(new uu(r,e.precondition(r)))}),[4,function(t,e){return Object(Oe.b)(this,void 0,void 0,function(){var n,r,i;return Object(Oe.d)(this,function(o){switch(o.label){case 0:return n=Qo(t),r=Yu(n.D)+"/documents",i={writes:e.map(function(t){return tc(n.D,t)})},[4,n.Mi("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t instanceof Ms)e=t.version;else{if(!(t instanceof Vs))throw Wo();e=Oa.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new us(as.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ga.updateTime(e):Ga.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Oa.min()))throw new us(as.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ga.updateTime(e)}return Ga.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Nd=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new Qh(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ac()},t.prototype.ac=function(){var t=this;this.rr.Yi(function(){return Object(Oe.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Oe.d)(this,function(r){return t=new kd(this.datastore),(e=this.uc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.hc(t)})})}).catch(function(t){n.hc(t)}),[2]})})})},t.prototype.uc=function(t){try{var e=this.updateFunction(t);return!is(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.hc=function(t){var e=this;this.cc>0&&this.lc(t)?(this.cc-=1,this.asyncQueue.enqueueAndForget(function(){return e.ac(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.lc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!lu(e)}return!1},t}(),Dd=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=jh.UNAUTHENTICATED,this.clientId=Jo.u(),this.credentialListener=function(){},this.receivedInitialUser=new Fc,this.credentials.setChangeListener(function(t){Ho("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(Oe.b)(this,void 0,void 0,function(){return Object(Oe.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new us(as.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Fc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Oe.b)(t,void 0,void 0,function(){var t,n;return Object(Oe.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=xf(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Rd(t,e){return Object(Oe.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Oe.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Ho("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(Oe.b)(i,void 0,void 0,function(){return Object(Oe.d)(this,function(t){switch(t.label){case 0:return[4,sh(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Pd(t,e){return Object(Oe.b)(this,void 0,void 0,function(){var n,r;return Object(Oe.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Ld(t)];case 1:return n=i.sent(),Ho("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(Oe.b)(this,void 0,void 0,function(){var n,r;return Object(Oe.d)(this,function(i){switch(i.label){case 0:return(n=Qo(t)).asyncQueue.verifyOperationInProgress(),Ho("RemoteStore","RemoteStore received new credentials"),r=hf(n),n.Qr.add(3),[4,rf(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Qr.delete(3),[4,nf(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function Ld(t){return Object(Oe.b)(this,void 0,void 0,function(){return Object(Oe.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Ho("FirestoreClient","Using default OfflineComponentProvider"),[4,Rd(t,new Cd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Md(t){return Object(Oe.b)(this,void 0,void 0,function(){return Object(Oe.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Ho("FirestoreClient","Using default OnlineComponentProvider"),[4,Pd(t,new xd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Vd(t){return Ld(t).then(function(t){return t.persistence})}function Fd(t){return Ld(t).then(function(t){return t.localStore})}function Ud(t){return Md(t).then(function(t){return t.remoteStore})}function qd(t){return Md(t).then(function(t){return t.syncEngine})}function Bd(t){return Object(Oe.b)(this,void 0,void 0,function(){var e,n;return Object(Oe.d)(this,function(r){switch(r.label){case 0:return[4,Md(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Qf.bind(null,e.syncEngine),n.onUnlisten=Jf.bind(null,e.syncEngine),n)]}})})}function Hd(t,e,n){var r=this;void 0===n&&(n={});var i=new Fc;return t.asyncQueue.enqueueAndForget(function(){return Object(Oe.b)(r,void 0,void 0,function(){var r;return Object(Oe.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new jd({next:function(o){e.enqueueAndForget(function(){return Lf(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new us(as.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new us(as.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Uf(ua(n.path),o,{includeMetadataChanges:!0,uo:!0});return Pf(t,s)},[4,Bd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function zd(t,e,n){var r=this;void 0===n&&(n={});var i=new Fc;return t.asyncQueue.enqueueAndForget(function(){return Object(Oe.b)(r,void 0,void 0,function(){var r;return Object(Oe.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new jd({next:function(n){e.enqueueAndForget(function(){return Lf(t,s)}),n.fromCache&&"server"===r.source?i.reject(new us(as.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Uf(n,o,{includeMetadataChanges:!0,uo:!0});return Pf(t,s)},[4,Bd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Gd=function(t,e,n,r,i,o){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=o},Kd=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Wd=new Map,$d=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Qd=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(jh.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Yd=function(){function t(t){var e=this;this.fc=null,this.currentUser=jh.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){e.dc++,e.currentUser=e.wc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.dc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),t.get().then(function(t){e.auth=t,e.fc&&e.auth.addAuthTokenListener(e.fc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.dc!==e?(Ho("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?($o("string"==typeof n.accessToken),new $d(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},t.prototype.wc=function(){var t=this.auth&&this.auth.getUid();return $o(null===t||"string"==typeof t),new jh(t)},t}(),Jd=function(){function t(t,e){this._c=t,this.mc=e,this.type="FirstParty",this.user=jh.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.mc},e=this._c.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Zd=function(){function t(t,e){this._c=t,this.mc=e}return t.prototype.getToken=function(){return Promise.resolve(new Jd(this._c,this.mc))},t.prototype.setChangeListener=function(t){t(jh.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Xd(t,e,n){if(!n)throw new us(as.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function tp(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new us(as.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ep(t,e,n,r){if(!0===e&&!0===r)throw new us(as.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function np(t){if(!ds.isDocumentKey(t))throw new us(as.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function rp(t){if(ds.isDocumentKey(t))throw new us(as.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function ip(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Wo()}function op(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new us(as.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ip(t);throw new us(as.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function sp(t,e){if(e<=0)throw new us(as.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var ap=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new us(as.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new us(as.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,ep("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),up=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new ap({}),this._settingsFrozen=!1,t instanceof Kd?(this._databaseId=t,this._credentials=new Qd):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new us(as.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kd(t.options.projectId)}(t),this._credentials=new Yd(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new us(as.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new us(as.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ap(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Qd;switch(t.type){case"gapi":var e=t.client;return $o(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Zd(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new us(as.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Wd.get(this))&&(Ho("ComponentProvider","Removing Datastore"),Wd.delete(this),t.terminate()),Promise.resolve();var t},t}(),cp=function(t){this._delegate=t},lp=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new fp(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),hp=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),fp=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ua(r))||this).firestore=e,i._path=r,i.type="collection",i}return Object(Oe.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new lp(this.firestore,null,new ds(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(hp);function dp(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof cp&&(t=t._delegate),Xd("collection","path",e),t instanceof up)return rp(n=ls.fromString.apply(ls,Object(Oe.f)([e],r))),new fp(t,null,n);if(!(t instanceof lp||t instanceof fp))throw new us(as.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return rp(n=ls.fromString.apply(ls,Object(Oe.f)([t.path],r)).child(ls.fromString(e))),new fp(t.firestore,null,n)}function pp(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof cp&&(t=t._delegate),1===arguments.length&&(e=Jo.u()),Xd("doc","path",e),t instanceof up)return np(n=ls.fromString.apply(ls,Object(Oe.f)([e],r))),new lp(t,null,new ds(n));if(!(t instanceof lp||t instanceof fp))throw new us(as.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return np(n=t._path.child(ls.fromString.apply(ls,Object(Oe.f)([e],r)))),new lp(t.firestore,t instanceof fp?t._converter:null,new ds(n))}function gp(t,e){return t instanceof cp&&(t=t._delegate),e instanceof cp&&(e=e._delegate),(t instanceof lp||t instanceof fp)&&(e instanceof lp||e instanceof fp)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function mp(t,e){return t instanceof cp&&(t=t._delegate),e instanceof cp&&(e=e._delegate),t instanceof hp&&e instanceof hp&&t.firestore===e.firestore&&ya(t._query,e._query)&&t._converter===e._converter}var yp=function(){function t(){var t=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new Qh(this,"async_queue_retry"),this.bc=function(){var e=Wh();e&&Ho("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.Zi()};var e=Wh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.vc(),this.Pc(t)},t.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var t=Wh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}},t.prototype.enqueue=function(t){return this.vc(),this.Ec?new Promise(function(t){}):this.Pc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.gc.push(t),e.Vc()})},t.prototype.Vc=function(){return Object(Oe.b)(this,void 0,void 0,function(){var t,e=this;return Object(Oe.d)(this,function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!Gc(t=n.sent()))throw t;return Ho("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gc.length>0&&this.rr.Yi(function(){return e.Vc()}),n.label=5;case 5:return[2]}})})},t.prototype.Pc=function(t){var e=this,n=this.yc.then(function(){return e.Ac=!0,t().catch(function(t){throw e.Ic=t,e.Ac=!1,zo("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Ac=!1,t})});return this.yc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.vc(),this.Rc.indexOf(t)>-1&&(e=0);var i=Af.createAndSchedule(this,t,e,n,function(t){return r.Sc(t)});return this.Tc.push(i),i},t.prototype.vc=function(){this.Ic&&Wo()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Dc=function(){return Object(Oe.b)(this,void 0,void 0,function(){var t;return Object(Oe.d)(this,function(e){switch(e.label){case 0:return[4,t=this.yc];case 1:e.sent(),e.label=2;case 2:if(t!==this.yc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Cc=function(t){for(var e=0,n=this.Tc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.xc=function(t){var e=this;return this.Dc().then(function(){e.Tc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Dc()})},t.prototype.Nc=function(t){this.Rc.push(t)},t.prototype.Sc=function(t){var e=this.Tc.indexOf(t);this.Tc.splice(e,1)},t}();function vp(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Fc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var bp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new yp,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Oe.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||_p(this),this._firestoreClient.terminate()},e}(up);function wp(t){return t._firestoreClient||_p(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function _p(t){var e=t._freezeSettings(),n=function(t,e,n){return new Gd(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t._databaseId,t._persistenceKey,e);t._firestoreClient=new Dd(t._credentials,t._queue,n)}function Ep(t,e,n){var r=this,i=new Fc;return t.asyncQueue.enqueue(function(){return Object(Oe.b)(r,void 0,void 0,function(){var r;return Object(Oe.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Rd(t,n)];case 1:return o.sent(),[4,Pd(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===as.FAILED_PRECONDITION||t.code===as.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Op(t){if(t._initialized||t._terminated)throw new us(as.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Sp=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new us(as.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fs(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Tp=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(ps.fromBase64String(e))}catch(e){throw new us(as.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ps.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Cp=function(t){this._methodName=t},Ip=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new us(as.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new us(as.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Zo(this._lat,t._lat)||Zo(this._long,t._long)},t}(),Ap=/^__.*__$/,xp=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new tu(t,this.data,this.fieldMask,e,this.fieldTransforms):new Xa(t,this.data,e,this.fieldTransforms)},t}(),jp=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new tu(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function kp(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wo()}}var Np=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),t.prototype.Oc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.Lc(t),r},t.prototype.Bc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.$c(),r},t.prototype.qc=function(t){return this.Oc({path:void 0,Mc:!0})},t.prototype.Uc=function(t){return Zp(t,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.$c=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Lc(this.path.get(t))},t.prototype.Lc=function(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(kp(this.Fc)&&Ap.test(t))throw this.Uc('Document fields cannot begin and end with "__"')},t}(),Dp=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.D=n||$h(t)}return t.prototype.Wc=function(t,e,n,r){return void 0===r&&(r=!1),new Np({Fc:t,methodName:e,Kc:n,path:fs.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},t}();function Rp(t){var e=t._freezeSettings(),n=$h(t._databaseId);return new Dp(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Pp(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Wc(o.merge||o.mergeFields?2:0,e,n,i);$p("Data must be an object, but it was:",s,r);var a,u,c=Kp(r,s);if(o.merge)a=new Sa(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Qp(e,f[h],n);if(!s.contains(d))throw new us(as.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Xp(l,d)||l.push(d)}a=new Sa(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new xp(new Ta(c),a,u)}var Lp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Oe.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Fc)throw t.Uc(1===t.Fc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Cp);function Mp(t,e,n){return new Np({Fc:3,Kc:e.settings.Kc,methodName:t._methodName,Mc:n},e.databaseId,e.D,e.ignoreUndefinedProperties)}var Vp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Oe.c)(e,t),e.prototype._toFieldTransform=function(t){return new Ha(t.path,new Pa)},e.prototype.isEqual=function(t){return t instanceof e},e}(Cp),Fp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(Oe.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Mp(this,t,!0),n=this.jc.map(function(t){return Gp(t,e)}),r=new La(n);return new Ha(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Cp),Up=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(Oe.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Mp(this,t,!0),n=this.jc.map(function(t){return Gp(t,e)}),r=new Va(n);return new Ha(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Cp),qp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Gc=n,r}return Object(Oe.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Ua(t.D,ja(t.D,this.Gc));return new Ha(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Cp);function Bp(t,e,n,r){var i=t.Wc(1,e,n);$p("Data must be an object, but it was:",i,r);var o=[],s=new Ca;ns(r,function(t,r){var a=Jp(e,t,n);r instanceof cp&&(r=r._delegate);var u=i.Bc(a);if(r instanceof Lp)o.push(a);else{var c=Gp(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new Sa(o);return new jp(s.v(),a,i.fieldTransforms)}function Hp(t,e,n,r,i,o){var s=t.Wc(1,e,n),a=[Qp(e,r,n)],u=[i];if(o.length%2!=0)throw new us(as.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Qp(e,o[c])),u.push(o[c+1]);for(var l=[],h=new Ca,f=a.length-1;f>=0;--f)if(!Xp(l,a[f])){var d=a[f],p=u[f];p instanceof cp&&(p=p._delegate);var g=s.Bc(d);if(p instanceof Lp)l.push(d);else{var m=Gp(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new Sa(l);return new jp(h.v(),y,s.fieldTransforms)}function zp(t,e,n,r){return void 0===r&&(r=!1),Gp(n,t.Wc(r?4:3,e))}function Gp(t,e){if(t instanceof cp&&(t=t._delegate),Wp(t))return $p("Unsupported field value:",e,t),Kp(t,e);if(t instanceof Cp)return function(t,e){if(!kp(e.Fc))throw e.Uc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Uc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Mc&&4!==e.Fc)throw e.Uc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Gp(o[i],e.qc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof cp&&(t=t._delegate),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ja(e.D,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=bs.fromDate(t);return{timestampValue:Uu(e.D,n)}}if(t instanceof bs)return n=new bs(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Uu(e.D,n)};if(t instanceof Ip)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Tp)return{bytesValue:qu(e.D,t._byteString)};if(t instanceof lp){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:zu(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc("Unsupported field value: "+ip(t))}(t,e)}function Kp(t,e){var n={};return rs(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ns(t,function(t,r){var i=Gp(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Wp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof bs||t instanceof Ip||t instanceof Tp||t instanceof lp||t instanceof Cp)}function $p(t,e,n){if(!Wp(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=ip(n);throw e.Uc("an object"===r?t+" a custom object":t+" "+r)}}function Qp(t,e,n){if(e instanceof cp&&(e=e._delegate),e instanceof Sp)return e._internalPath;if("string"==typeof e)return Jp(t,e);throw Zp("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Yp=new RegExp("[~\\*/\\[\\]]");function Jp(t,e,n){if(e.search(Yp)>=0)throw Zp("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Sp.bind.apply(Sp,Object(Oe.f)([void 0],e.split(".")))))._internalPath}catch(r){throw Zp("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Zp(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new us(as.INVALID_ARGUMENT,(a+=". ")+t+u)}function Xp(t,e){return t.some(function(t){return t.isEqual(e)})}var tg=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new lp(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new eg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data().field(ng("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),eg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Oe.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(tg);function ng(t,e){return"string"==typeof e?Jp(t,e):e instanceof cp?e._delegate._internalPath:e._internalPath}var rg=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),ig=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(Oe.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new og(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data().field(ng("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(tg),og=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Oe.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(ig),sg=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new rg(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new og(n._firestore,n._userDataWriter,r.key,r,new rg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new us(as.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new og(t._firestore,t._userDataWriter,e.doc.key,e.doc,new rg(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new og(t._firestore,t._userDataWriter,e.doc.key,e.doc,new rg(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:ag(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function ag(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wo()}}function ug(t,e){return t instanceof ig&&e instanceof ig?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof sg&&e instanceof sg&&t._firestore===e._firestore&&mp(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function cg(t){if(la(t)&&0===t.explicitOrderBy.length)throw new us(as.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lg=function(){};function hg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var fg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).zc=e,i.Hc=n,i.Jc=r,i.type="where",i}return Object(Oe.c)(e,t),e.prototype._apply=function(t){var e=Rp(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new us(as.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){bg(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(vg(r,t,l[c]));a={arrayValue:{values:u}}}else a=vg(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||bg(s,o),a=zp(n,"where",s,"in"===o||"not-in"===o);var h=Gs.create(i,o,a);return function(t,e){if(e.g()){var n=fa(t);if(null!==n&&!n.isEqual(e.field))throw new us(as.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ha(t);null!==r&&wg(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new us(as.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new hp(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(lg),dg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zc=e,r.Yc=n,r.type="orderBy",r}return Object(Oe.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new us(as.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new us(as.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new na(e,n);return function(t,e){if(null===ha(t)){var n=fa(t);null!==n&&wg(0,n,e.field)}}(t,r),r}(t._query,this.zc,this.Yc);return new hp(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new sa(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(lg),pg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(Oe.c)(e,t),e.prototype._apply=function(t){return new hp(t.firestore,t._converter,ma(t._query,this.Xc,this.Zc))},e}(lg),gg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(Oe.c)(e,t),e.prototype._apply=function(t){var e=yg(t,this.type,this.ta,this.ea);return new hp(t.firestore,t._converter,function(t,e){return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(lg),mg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(Oe.c)(e,t),e.prototype._apply=function(t){var e=yg(t,this.type,this.ta,this.ea);return new hp(t.firestore,t._converter,function(t,e){return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(lg);function yg(t,e,n,r){if(n[0]instanceof cp&&(n[0]=n[0]._delegate),n[0]instanceof tg)return function(t,e,n,r,i){if(!r)throw new us(as.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=pa(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(js(e,r.key));else{var c=r.field(u.field);if(ws(c))throw new us(as.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new us(as.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ta(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Rp(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new us(as.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new us(as.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!da(t)&&-1!==c.indexOf("/"))throw new us(as.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(ls.fromString(c));if(!ds.isDocumentKey(l))throw new us(as.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ds(l);a.push(js(e,h))}else{var f=zp(n,r,c);a.push(f)}}return new ta(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function vg(t,e,n){if(n instanceof cp&&(n=n._delegate),"string"==typeof n){if(""===n)throw new us(as.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!da(e)&&-1!==n.indexOf("/"))throw new us(as.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ls.fromString(n));if(!ds.isDocumentKey(r))throw new us(as.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return js(t,new ds(r))}if(n instanceof lp)return js(t,n._key);throw new us(as.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ip(n)+".")}function bg(t,e){if(!Array.isArray(t)||0===t.length)throw new us(as.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new us(as.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function wg(t,e,n){if(!n.isEqual(e))throw new us(as.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var _g=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Os(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ys(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(vs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Wo()}},t.prototype.convertObject=function(t,e){var n=this,r={};return ns(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Ip(ys(t.latitude),ys(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=_s(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Es(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=ms(t);return new bs(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=ls.fromString(t);$o(gc(n));var r=new Kd(n.get(1),n.get(3)),i=new ds(n.popFirst(5));return r.isEqual(e)||zo("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Eg(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Og=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Oe.c)(e,t),e.prototype.convertBytes=function(t){return new Tp(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new lp(this.firestore,null,e)},e}(_g),Sg=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Rp(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Tg(t,this._firestore),i=Eg(r._converter,e,n),o=Pp(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,Ga.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=Tg(t,this._firestore);return e instanceof cp&&(e=e._delegate),o="string"==typeof e||e instanceof Sp?Hp(this._dataReader,"WriteBatch.update",s._key,e,n,r):Bp(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Ga.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Tg(t,this._firestore);return this._mutations=this._mutations.concat(new au(e._key,Ga.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new us(as.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Tg(t,e){if(t instanceof cp&&(t=t._delegate),t.firestore!==e)throw new us(as.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Cg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Oe.c)(e,t),e.prototype.convertBytes=function(t){return new Tp(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new lp(this.firestore,null,e)},e}(_g);function Ig(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=op(t,lp);var o=op(t.firestore,bp),s=Rp(o);return e instanceof cp&&(e=e._delegate),xg(o,[("string"==typeof e||e instanceof Sp?Hp(s,"updateDoc",t._key,e,n,r):Bp(s,"updateDoc",t._key,e)).toMutation(t._key,Ga.exists(!0))])}function Ag(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof cp&&(t=t._delegate);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||vp(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(vp(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof lp)c=op(t.firestore,bp),l=ua(t._key.path),u={next:function(e){i[a]&&i[a](jg(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=op(t,hp);c=op(d.firestore,bp),l=d._query;var p=new Cg(c);u={next:function(t){i[a]&&i[a](new sg(c,p,d,t))},error:i[a+1],complete:i[a+2]},cg(t._query)}return function(t,e,n,r){var i=this,o=new jd(r),s=new Uf(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Oe.b)(i,void 0,void 0,function(){var e;return Object(Oe.d)(this,function(n){switch(n.label){case 0:return e=Pf,[4,Bd(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(Oe.b)(i,void 0,void 0,function(){var e;return Object(Oe.d)(this,function(n){switch(n.label){case 0:return e=Lf,[4,Bd(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(wp(c),l,h,u)}function xg(t,e){return function(t,e){var n=this,r=new Fc;return t.asyncQueue.enqueueAndForget(function(){return Object(Oe.b)(n,void 0,void 0,function(){var n;return Object(Oe.d)(this,function(i){switch(i.label){case 0:return n=Zf,[4,qd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(wp(t),e)}function jg(t,e,n){var r=n.docs.get(e._key),i=new Cg(t);return new ig(t,i,e._key,r,new rg(n.hasPendingWrites,n.fromCache),e._converter)}var kg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Oe.c)(e,t),e.prototype.get=function(e){var n=this,r=Tg(e,this._firestore),i=new Cg(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new ig(n._firestore,i,r._key,t._document,new rg(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Rp(t)}return t.prototype.get=function(t){var e=this,n=Tg(t,this._firestore),r=new Og(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Wo();var i=t[0];if(i instanceof Vs)return new tg(e._firestore,r,n._key,null,n._converter);if(i instanceof Ms)return new tg(e._firestore,r,i.key,i,n._converter);throw Wo()})},t.prototype.set=function(t,e,n){var r=Tg(t,this._firestore),i=Eg(r._converter,e,n),o=Pp(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Tg(t,this._firestore);return e instanceof cp&&(e=e._delegate),o="string"==typeof e||e instanceof Sp?Hp(this._dataReader,"Transaction.update",s._key,e,n,r):Bp(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Tg(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Ng(){if("undefined"==typeof Uint8Array)throw new us(as.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Dg(){if("undefined"==typeof atob)throw new us(as.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Rg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Oe.c)(e,t),e.fromBase64String=function(t){return Dg(),new e(Tp.fromBase64String(t))},e.fromUint8Array=function(t){return Ng(),new e(Tp.fromUint8Array(t))},e.prototype.toBase64=function(){return Dg(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Ng(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(cp),Pg=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Op(t=op(t,bp));var n=wp(t),r=t._freezeSettings(),i=new xd;return Ep(n,i,new Id(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Op(t=op(t,bp));var e=wp(t),n=t._freezeSettings(),r=new xd;return Ep(e,r,new Ad(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new us(as.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Fc;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Oe.b)(e,void 0,void 0,function(){var e;return Object(Oe.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Oe.b)(this,void 0,void 0,function(){return Object(Oe.d)(this,function(e){switch(e.label){case 0:return Bc.At()?[4,Bc.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Xl(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Lg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Kd||(i.sa=e),i}return Object(Oe.c)(e,t),Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=op(t,up))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&Go("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Oe.b)(e,void 0,void 0,function(){var e,n;return Object(Oe.d)(this,function(r){switch(r.label){case 0:return[4,Vd(t)];case 1:return e=r.sent(),[4,Ud(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Qo(t);return e.Qr.delete(0),nf(e)}(n))]}})})})}(wp(op(this._delegate,bp)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Oe.b)(e,void 0,void 0,function(){var e,n;return Object(Oe.d)(this,function(r){switch(r.label){case 0:return[4,Vd(t)];case 1:return e=r.sent(),[4,Ud(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Oe.b)(this,void 0,void 0,function(){var e;return Object(Oe.d)(this,function(n){switch(n.label){case 0:return(e=Qo(t)).Qr.add(0),[4,rf(e)];case 1:return n.sent(),e.jr.set("Offline"),[2]}})})}(n))]}})})})}(wp(op(this._delegate,bp)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ep("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Fc;return t.asyncQueue.enqueueAndForget(function(){return Object(Oe.b)(e,void 0,void 0,function(){var e;return Object(Oe.d)(this,function(r){switch(r.label){case 0:return e=id,[4,qd(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(wp(op(this._delegate,bp)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new jd(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Oe.b)(n,void 0,void 0,function(){var e;return Object(Oe.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Qo(t).Zr.add(e),e.next()},[4,Bd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(Oe.b)(n,void 0,void 0,function(){var e;return Object(Oe.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Qo(t).Zr.delete(e)},[4,Bd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(wp(t=op(t,bp)),vp(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.sa)throw new us(as.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Yg(this,dp(this._delegate,t))}catch(t){throw Bg(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new qg(this,pp(this._delegate,t))}catch(t){throw Bg(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Wg(this,function(t,e){if(t=op(t,up),Xd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new us(as.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new hp(t,null,function(t){return new sa(ls.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Bg(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Fc;return t.asyncQueue.enqueueAndForget(function(){return Object(Oe.b)(n,void 0,void 0,function(){var n;return Object(Oe.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Md(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Nd(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(wp(t),function(n){return e(new kg(t,n))})}(this._delegate,function(n){return t(new Vg(e,n))})},e.prototype.batch=function(){var t=this;return wp(this._delegate),new Fg(new Sg(this._delegate,function(e){return xg(t._delegate,e)}))},e.prototype.loadBundle=function(t){throw new us(as.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new us(as.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(cp),Mg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Oe.c)(e,t),e.prototype.convertBytes=function(t){return new Rg(new Tp(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return qg.ia(e,this.firestore,null)},e}(_g),Vg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r._userDataWriter=new Mg(e),r}return Object(Oe.c)(e,t),e.prototype.get=function(t){var e=this,n=Jg(t);return this._delegate.get(n).then(function(t){return new Gg(e._firestore,new ig(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},e.prototype.set=function(t,e,n){var r=Jg(t);return n?(tp("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Jg(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Oe.f)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Jg(t);return this._delegate.delete(e),this},e}(cp),Fg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Oe.c)(e,t),e.prototype.set=function(t,e,n){var r=Jg(t);return n?(tp("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Jg(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Oe.f)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Jg(t);return this._delegate.delete(e),this},e.prototype.commit=function(){return this._delegate.commit()},e}(cp),Ug=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this)._firestore=e,i._userDataWriter=n,i}return Object(Oe.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new og(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Kg(this._firestore,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},e.ra=function(t,n){var r=e.oa,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Mg(t),n),i.set(n,o)),o},e}(cp);Ug.oa=new WeakMap;var qg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new Mg(e),r}return Object(Oe.c)(e,t),e.ca=function(t,n,r){if(t.length%2!=0)throw new us(as.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new lp(n._delegate,r,new ds(t)))},e.ia=function(t,n,r){return new e(n,new lp(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Yg(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Yg(this.firestore,dp(this._delegate,t))}catch(t){throw Bg(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof cp&&(t=t._delegate),t instanceof lp&&gp(this._delegate,t)},e.prototype.set=function(t,e){e=tp("DocumentReference.set",e);try{return function(t,e,n){t=op(t,lp);var r=op(t.firestore,bp),i=Eg(t._converter,e,n);return xg(r,[Pp(Rp(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Ga.none())])}(this._delegate,t,e)}catch(t){throw Bg(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Ig(this._delegate,t):Ig.apply(void 0,Object(Oe.f)([this._delegate,t,e],n))}catch(t){throw Bg(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return xg(op((t=this._delegate).firestore,bp),[new au(t._key,Ga.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Hg(e),i=zg(e,function(e){return new Gg(t.firestore,new ig(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return Ag(this._delegate,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=op(t,lp);var e=op(t.firestore,bp),n=wp(e),r=new Cg(e);return function(t,e){var n=this,r=new Fc;return t.asyncQueue.enqueueAndForget(function(){return Object(Oe.b)(n,void 0,void 0,function(){var n;return Object(Oe.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Oe.b)(this,void 0,void 0,function(){var r,i;return Object(Oe.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Qo(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Kn.In(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof Ms?n.resolve(i):i instanceof Vs?n.resolve(null):n.reject(new us(as.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=xf(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Fd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new ig(e,r,t._key,n,new rg(n instanceof Ms&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=op(t,lp);var e=op(t.firestore,bp);return Hd(wp(e),t._key,{source:"server"}).then(function(n){return jg(e,t,n)})}(this._delegate):function(t){t=op(t,lp);var e=op(t.firestore,bp);return Hd(wp(e),t._key).then(function(n){return jg(e,t,n)})}(this._delegate)).then(function(t){return new Gg(e.firestore,new ig(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Ug.ra(this.firestore,t):null))},e}(cp);function Bg(t,e,n){return t.message=t.message.replace(e,n),t}function Hg(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!vp(r))return r}return{}}function zg(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=vp(t[0])?t[0]:vp(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Gg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Oe.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new qg(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,e){return this._delegate.get(t,e)},e.prototype.isEqual=function(t){return ug(this._delegate,t._delegate)},e}(cp),Kg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Oe.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Gg),Wg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new Mg(e),r}return Object(Oe.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,hg(this._delegate,function(t,e,n){var r=e,i=ng("where",t);return new fg(i,r,n)}(t,n,r)))}catch(t){throw Bg(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,hg(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=ng("orderBy",t);return new dg(r,n)}(t,n)))}catch(t){throw Bg(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,hg(this._delegate,function(t){return sp("limit",t),new pg("limit",t,"F")}(t)))}catch(t){throw Bg(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,hg(this._delegate,function(t){return sp("limitToLast",t),new pg("limitToLast",t,"L")}(t)))}catch(t){throw Bg(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,hg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gg("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Bg(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,hg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gg("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Bg(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,hg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mg("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Bg(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,hg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mg("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Bg(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return mp(this._delegate,t._delegate)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=op(t,hp);var e=op(t.firestore,bp),n=wp(e),r=new Cg(e);return function(t,e){var n=this,r=new Fc;return t.asyncQueue.enqueueAndForget(function(){return Object(Oe.b)(n,void 0,void 0,function(){var n;return Object(Oe.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Oe.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(Oe.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,ph(t,e,!0)];case 1:return a=u.sent(),r=new Gf(e,a.jn),i=r.Io(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=xf(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Fd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new sg(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=op(t,hp);var e=op(t.firestore,bp),n=wp(e),r=new Cg(e);return zd(n,t._query,{source:"server"}).then(function(n){return new sg(e,r,t,n)})}(this._delegate):function(t){t=op(t,hp);var e=op(t.firestore,bp),n=wp(e),r=new Cg(e);return cg(t._query),zd(n,t._query).then(function(n){return new sg(e,r,t,n)})}(this._delegate)).then(function(t){return new Qg(e.firestore,new sg(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Hg(e),i=zg(e,function(e){return new Qg(t.firestore,new sg(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Ag(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Ug.ra(this.firestore,t):null))},e}(cp),$g=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Oe.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Kg(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(cp),Qg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Oe.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Wg(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Kg(t._firestore,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new $g(e._firestore,t)})},e.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Kg(n._firestore,r))})},e.prototype.isEqual=function(t){return ug(this._delegate,t._delegate)},e}(cp),Yg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Oe.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new qg(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new qg(this.firestore,void 0===t?pp(this._delegate):pp(this._delegate,t))}catch(t){throw Bg(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=op(t.firestore,bp),r=pp(t),i=Eg(t._converter,e);return xg(n,[Pp(Rp(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Ga.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new qg(e.firestore,t)})},e.prototype.isEqual=function(t){return gp(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Ug.ra(this.firestore,t):null))},e}(Wg);function Jg(t){return t instanceof cp&&(t=t._delegate),op(t,lp)}var Zg,Xg=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Sp.bind.apply(Sp,Object(Oe.f)([void 0],e))))||this}return Object(Oe.c)(e,t),e.documentId=function(){return new e(fs.keyField().canonicalString())},e.prototype.isEqual=function(t){return t instanceof cp&&(t=t._delegate),t instanceof Sp&&this._delegate._internalPath.isEqual(t._internalPath)},e}(cp),tm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Oe.c)(e,t),e.serverTimestamp=function(){var t=new Vp("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Lp("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fp("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Up("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new qp("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(cp),em=n("/6Yf"),nm={Firestore:Lg,GeoPoint:Ip,Timestamp:bs,Blob:Rg,Transaction:Vg,WriteBatch:Fg,DocumentReference:qg,DocumentSnapshot:Gg,Query:Wg,QueryDocumentSnapshot:Kg,QuerySnapshot:Qg,CollectionReference:Yg,FieldPath:Xg,FieldValue:tm,setLogLevel:function(t){qo.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new em.a("firestore",function(t){return function(t,e){return new Lg(t,new bp(t,e),new Pg)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},nm)))})(Zg=Re.a),Zg.registerVersion("@firebase/firestore","2.2.1");var rm=n("Jgta"),im=n("XNiG"),om=n("VRyK"),sm=n("zx2A");function am(t,e){return"function"==typeof e?n=>n.pipe(am((n,r)=>Object(ct.a)(t(n,r)).pipe(Object(ft.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new um(t))}class um{constructor(t){this.project=t}call(t,e){return e.subscribe(new cm(t,this.project))}}class cm extends sm.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new sm.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(sm.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var lm=n("qgXg"),hm=n("quSY"),fm=n("9ppp"),dm=n("Ylt2");class pm extends im.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new gm(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new fm.a;if(this.isStopped||this.hasError?o=hm.a.EMPTY:(this.observers.push(t),o=new dm.a(this,t)),r&&t.add(t=new De.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||lm.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class gm{constructor(t,e){this.time=t,this.value=e}}function mm(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new pm(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}const ym=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),vm=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var bm=n("EY2u");function wm(t){return e=>0===t?Object(bm.b)():e.lift(new _m(t))}class _m{constructor(t){if(this.total=t,this.total<0)throw new vm}call(t,e){return e.subscribe(new Em(t,this.total))}}class Em extends Ce.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Om(t=null){return e=>e.lift(new Sm(t))}class Sm{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Tm(t,this.defaultValue))}}class Tm extends Ce.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Cm(t=xm){return e=>e.lift(new Im(t))}class Im{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Am(t,this.errorFactory))}}class Am extends Ce.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Zg){t=Zg}this.destination.error(t)}}}function xm(){return new ym}var jm=n("SpAZ");function km(t,e){const n=arguments.length>=2;return r=>r.pipe(t?je((e,n)=>t(e,n,r)):jm.a,wm(1),n?Om(e):Cm(()=>new ym))}const Nm=new r.r("angularfire2.auth.use-emulator"),Dm=new r.r("angularfire2.auth.settings"),Rm=new r.r("angularfire2.auth.tenant-id"),Pm=new r.r("angularfire2.auth.langugage-code"),Lm=new r.r("angularfire2.auth.use-device-language"),Mm=new r.r("angularfire.auth.persistence");let Vm=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new Ee.d(i),f=Object(Ee.h)(h),d=new im.a,p=Object(Te.a)(void 0).pipe(Object(De.b)(h.outsideAngular),am(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(ft.a)(()=>Object(Ee.g)(t,i,e)),Object(ft.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Ee.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),mm({bufferSize:1,refCount:!1}));return x(r)?this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Te.a)(null):(p.pipe(km()).subscribe(),this.authState=p.pipe(am(t=>t.getRedirectResult().then(()=>t,()=>t)),am(t=>i.runOutsideAngular(()=>new lt.a(t.onAuthStateChanged.bind(t)))),f,mm(1)),this.user=p.pipe(am(t=>t.getRedirectResult().then(()=>t,()=>t)),am(t=>i.runOutsideAngular(()=>new lt.a(t.onIdTokenChanged.bind(t)))),f,mm(1)),this.idToken=this.user.pipe(am(t=>t?Object(ct.a)(t.getIdToken()):Object(Te.a)(null))),this.idTokenResult=this.user.pipe(am(t=>t?Object(ct.a)(t.getIdTokenResult()):Object(Te.a)(null))),this.credential=p.pipe(am(t=>Object(om.a)(t.getRedirectResult().then(t=>t,()=>null),d,this.authState.pipe(je(t=>!t)))),Object(ft.a)(t=>(null==t?void 0:t.user)?t:null),f,mm(1))),Object(Ee.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ee.c),r.Rb(Ee.b,8),r.Rb(r.C),r.Rb(r.A),r.Rb(Nm,8),r.Rb(Dm,8),r.Rb(Rm,8),r.Rb(Pm,8),r.Rb(Lm,8),r.Rb(Mm,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Rb)(Ee.c),Object(r.Rb)(Ee.b,8),Object(r.Rb)(r.C),Object(r.Rb)(r.A),Object(r.Rb)(Nm,8),Object(r.Rb)(Dm,8),Object(r.Rb)(Rm,8),Object(r.Rb)(Pm,8),Object(r.Rb)(Lm,8),Object(r.Rb)(Mm,8))},token:t,providedIn:"any"}),t})();function Fm(t,e){return function(t,e=Se.a){return new lt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Um(t,e){return Fm(t,e).pipe(Object(ft.a)(t=>({payload:t,type:"query"})))}function qm(t,e){return Um(t,e).pipe(Object(ft.a)(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function Bm(t,e,n){return Um(t,n).pipe(Object(ft.a)(t=>t.payload.docChanges()),Ie((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),Object(ft.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Hm(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Ee.e)(Vm,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class zm{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?qm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ft.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),je(t=>t.length>0),this.afs.keepUnstableUntilFirst):qm(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ie((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Hm(t);return Bm(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Um(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ft.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ct.a)(this.query.get(t)).pipe(Object(De.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Gm(this.ref.doc(t),this.afs)}}class Gm{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Jm(n,e);return new zm(r,i,this.afs)}snapshotChanges(){return Fm(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(ft.a)(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(ft.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(ct.a)(this.ref.get(t)).pipe(Object(De.b)(this.afs.schedulers.insideAngular))}}class Km{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?qm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ft.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),je(t=>t.length>0),this.afs.keepUnstableUntilFirst):qm(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ie((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Hm(t);return Bm(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Um(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ft.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ct.a)(this.query.get(t)).pipe(Object(De.b)(this.afs.schedulers.insideAngular))}}const Wm=new r.r("angularfire2.enableFirestorePersistence"),$m=new r.r("angularfire2.firestore.persistenceSettings"),Qm=new r.r("angularfire2.firestore.settings"),Ym=new r.r("angularfire2.firestore.use-emulator");function Jm(t,e=(t=>t)){return{query:e(t),ref:t}}let Zm=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new Ee.d(o),this.keepUnstableUntilFirst=Object(Ee.h)(this.schedulers);const c=Object(Ee.g)(t,o,e);!rm.a.auth&&u&&Object(Ee.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Ee.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!x(i)){const e=()=>{try{return Object(ct.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Zg){return"undefined"!=typeof console&&console.warn(Zg),Object(Te.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Te.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Jm(n,e),o=this.schedulers.ngZone.run(()=>r);return new zm(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Km(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Gm(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ee.c),r.Rb(Ee.b,8),r.Rb(Wm,8),r.Rb(Qm,8),r.Rb(r.C),r.Rb(r.A),r.Rb($m,8),r.Rb(Ym,8),r.Rb(Nm,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Rb)(Ee.c),Object(r.Rb)(Ee.b,8),Object(r.Rb)(Wm,8),Object(r.Rb)(Qm,8),Object(r.Rb)(r.C),Object(r.Rb)(r.A),Object(r.Rb)($m,8),Object(r.Rb)(Ym,8),Object(r.Rb)(Nm,8))},token:t,providedIn:"any"}),t})();class Xm extends im.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new fm.a;return this._value}next(t){super.next(this._value=t)}}var ty=n("z+Ro");class ey extends Ce.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class ny extends Ce.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ry=n("SeVD");function iy(t,e,n,r,i=new ny(t,n,r)){if(!i.closed)return e instanceof lt.a?e.subscribe(i):Object(ry.a)(e)(i)}var oy=n("yCtX");const sy={};class ay{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new uy(t,this.resultSelector))}}class uy extends ey{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(sy),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(iy(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===sy?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var cy=n("bHdf");function ly(...t){return Object(cy.a)(1)(Object(Te.a)(...t))}function hy(t){return new lt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(ct.a)(n):Object(bm.b)()).subscribe(e)})}var fy=n("EQ5u");function dy(t){return function(e){const n=new py(t),r=e.lift(n);return n.caught=r}}class py{constructor(t){this.selector=t}call(t,e){return e.subscribe(new gy(t,this.selector,this.caught))}}class gy extends sm.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new sm.a(this);this.add(r);const i=Object(sm.c)(n,r);i!==r&&this.add(i)}}}var my=n("5+tZ");function yy(t,e){return Object(my.a)(t,e,1)}function vy(t){return function(e){return 0===t?Object(bm.b)():e.lift(new by(t))}}class by{constructor(t){if(this.total=t,this.total<0)throw new vm}call(t,e){return e.subscribe(new wy(t,this.total))}}class wy extends Ce.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var _y=n("vkgz"),Ey=n("x+ZX");class Oy{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Sy(t,this.callback))}}class Sy extends Ce.a{constructor(t,e){super(t),this.add(new hm.a(e))}}class Ty{constructor(t,e){this.id=t,this.url=e}}class Cy extends Ty{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Iy extends Ty{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ay extends Ty{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xy extends Ty{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jy extends Ty{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ky extends Ty{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ny extends Ty{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dy extends Ty{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ry extends Ty{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Py{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ly{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class My{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vy{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fy{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uy{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qy{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const By="primary";class Hy{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function zy(t){return new Hy(t)}function Gy(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ky(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Wy(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!$y(t[i],e[i]))return!1;return!0}function $y(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Qy(t){return Array.prototype.concat.apply([],t)}function Yy(t){return t.length>0?t[t.length-1]:null}function Jy(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Zy(t){return Object(r.rb)(t)?t:Object(r.sb)(t)?Object(ct.a)(Promise.resolve(t)):Object(Te.a)(t)}function Xy(t,e,n){return n?function(t,e){return Wy(t,e)}(t.queryParams,e.queryParams)&&tv(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>$y(t[n],e[n]))}(t.queryParams,e.queryParams)&&ev(t.root,e.root)}function tv(t,e){if(!sv(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!tv(t.children[n],e.children[n]))return!1}return!0}function ev(t,e){return nv(t,e,e.segments)}function nv(t,e,n){if(t.segments.length>n.length)return!!sv(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!sv(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!ev(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!sv(t.segments,r)&&!!t.children.primary&&nv(t.children.primary,e,i)}}class rv{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zy(this.queryParams)),this._queryParamMap}toString(){return cv.serialize(this)}}class iv{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Jy(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lv(this)}}class ov{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=zy(this.parameters)),this._parameterMap}toString(){return yv(this)}}function sv(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class av{}class uv{parse(t){const e=new Ev(t);return new rv(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${hv(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${dv(e)}=${dv(t)}`).join("&"):`${dv(e)}=${dv(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const cv=new uv;function lv(t){return t.segments.map(t=>yv(t)).join("/")}function hv(t,e){if(!t.hasChildren())return lv(t);if(e){const e=t.children.primary?hv(t.children.primary,!1):"",n=[];return Jy(t.children,(t,e)=>{e!==By&&n.push(`${e}:${hv(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Jy(t.children,(t,r)=>{r===By&&(n=n.concat(e(t,r)))}),Jy(t.children,(t,r)=>{r!==By&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===By?[hv(t.children.primary,!1)]:[`${n}:${hv(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${lv(t)}/${e[0]}`:`${lv(t)}/(${e.join("//")})`}}function fv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dv(t){return fv(t).replace(/%3B/gi,";")}function pv(t){return fv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gv(t){return decodeURIComponent(t)}function mv(t){return gv(t.replace(/\+/g,"%20"))}function yv(t){return`${pv(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${pv(t)}=${pv(e[t])}`).join("")}`;var e}const vv=/^[^\/()?;=#]+/;function bv(t){const e=t.match(vv);return e?e[0]:""}const wv=/^[^=?&#]+/,_v=/^[^?&#]+/;class Ev{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new iv([],{}):new iv([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new iv(t,e)),n}parseSegment(){const t=bv(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ov(gv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=bv(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=bv(this.remaining);t&&(n=t,this.capture(n))}t[gv(e)]=gv(n)}parseQueryParam(t){const e=function(t){const e=t.match(wv);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(_v);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=mv(e),i=mv(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=bv(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=By);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new iv([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Ov{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Sv(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Sv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Tv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Tv(t,this._root).map(t=>t.value)}}function Sv(t,e){if(t===e.value)return e;for(const n of e.children){const e=Sv(t,n);if(e)return e}return null}function Tv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Tv(t,n);if(r.length)return r.unshift(e),r}return[]}class Cv{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Iv(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Av extends Ov{constructor(t,e){super(t),this.snapshot=e,Rv(this,t)}toString(){return this.snapshot.toString()}}function xv(t,e){const n=function(t,e){const n=new Nv([],{},{},"",{},By,e,null,t.root,-1,{});return new Dv("",new Cv(n,[]))}(t,e),r=new Xm([new ov("",{})]),i=new Xm({}),o=new Xm({}),s=new Xm({}),a=new Xm(""),u=new jv(r,i,s,a,o,By,e,n.root);return u.snapshot=n.root,new Av(new Cv(u,[]),n)}class jv{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(ft.a)(t=>zy(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(ft.a)(t=>zy(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kv(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Nv{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zy(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zy(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Dv extends Ov{constructor(t,e){super(e),this.url=t,Rv(this,e)}toString(){return Pv(this._root)}}function Rv(t,e){e.value._routerState=t,e.children.forEach(e=>Rv(t,e))}function Pv(t){const e=t.children.length>0?` { ${t.children.map(Pv).join(", ")} } `:"";return`${t.value}${e}`}function Lv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Wy(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Wy(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Wy(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Wy(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Mv(t,e){return Wy(t.params,e.params)&&function(t,e){return sv(t,e)&&t.every((t,n)=>Wy(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Mv(t.parent,e.parent))}function Vv(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Vv(t,e,r);return Vv(t,e)})}(t,e,n);return new Cv(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Fv(e,t),t}}const n=new jv(new Xm((r=e.value).url),new Xm(r.params),new Xm(r.queryParams),new Xm(r.fragment),new Xm(r.data),r.outlet,r.component,r),i=e.children.map(e=>Vv(t,e));return new Cv(n,i)}var r}function Fv(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Fv(t.children[n],e.children[n])}function Uv(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function qv(t){return"object"==typeof t&&null!=t&&t.outlets}function Bv(t,e,n,r,i){let o={};return r&&Jy(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new rv(n.root===t?e:Hv(n.root,t,e),o,i)}function Hv(t,e,n){const r={};return Jy(t.children,(t,i)=>{r[i]=t===e?n:Hv(t,e,n)}),new iv(t.segments,r)}class zv{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Uv(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(qv);if(r&&r!==Yy(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gv{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Kv(t,e,n){if(t||(t=new iv([],{})),0===t.segments.length&&t.hasChildren())return Wv(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(qv(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Jv(a,u,e))return o;r+=2}else{if(!Jv(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new iv(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new iv(t.segments.slice(r.pathIndex),t.children),Wv(e,0,i)}return r.match&&0===i.length?new iv(t.segments,{}):r.match&&!t.hasChildren()?$v(t,e,n):r.match?Wv(t,0,i):$v(t,e,n)}function Wv(t,e,n){if(0===n.length)return new iv(t.segments,{});{const r=function(t){return qv(t[0])?t[0].outlets:{[By]:t}}(n),i={};return Jy(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Kv(t.children[r],e,n))}),Jy(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new iv(t.segments,i)}}function $v(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(qv(o)){const t=Qv(o.outlets);return new iv(r,t)}if(0===i&&Uv(n[0])){r.push(new ov(t.segments[e].path,Yv(n[0]))),i++;continue}const s=qv(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Uv(a)?(r.push(new ov(s,Yv(a))),i+=2):(r.push(new ov(s,{})),i++)}return new iv(r,{})}function Qv(t){const e={};return Jy(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=$v(new iv([],{}),0,t))}),e}function Yv(t){const e={};return Jy(t,(t,n)=>e[n]=`${t}`),e}function Jv(t,e,n){return t==n.path&&Wy(e,n.parameters)}class Zv{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Lv(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Iv(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Jy(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Iv(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Iv(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Uy(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Vy(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Lv(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Xv(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Xv(t){Lv(t.value),t.children.forEach(Xv)}class tb{constructor(t,e){this.routes=t,this.module=e}}function eb(t){return"function"==typeof t}function nb(t){return t instanceof rv}const rb=Symbol("INITIAL_VALUE");function ib(){return am(t=>function(...t){let e,n;return Object(ty.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(ht.a)(t[0])&&(t=t[0]),Object(oy.a)(t,n).lift(new ay(e))}(t.map(t=>t.pipe(wm(1),function(...t){const e=t[t.length-1];return Object(ty.a)(e)?(t.pop(),n=>ly(t,n,e)):e=>ly(t,e)}(rb)))).pipe(Ie((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==rb)return t;if(r===rb&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||nb(r))return r}return t},t)},rb),je(t=>t!==rb),Object(ft.a)(t=>nb(t)?t:!0===t),wm(1)))}let ob=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Mb(0,"router-outlet")},directives:function(){return[Jb]},encapsulation:2}),t})();function sb(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];ab(r,ub(e,r))}}function ab(t,e){t.children&&sb(t.children,e)}function ub(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function cb(t){const e=t.children&&t.children.map(cb),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==By&&(n.component=ob),n}function lb(t){return t.outlet||By}function hb(t,e){const n=t.filter(t=>lb(t)===e);return n.push(...t.filter(t=>lb(t)!==e)),n}const fb={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function db(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},fb):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ky)(n,t,e);if(!i)return Object.assign({},fb);const o={};Jy(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function pb(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>gb(t,e,n)&&lb(n)!==By)}(t,n,r)){const i=new iv(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&lb(o)!==By){const n=new iv([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[lb(o)]=n}return i}(t,e,r,new iv(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>gb(t,e,n))}(t,n,r)){const o=new iv(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(gb(t,n,a)&&!i[lb(a)]){const n=new iv([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[lb(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new iv(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function gb(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function mb(t,e,n,r){return!!(lb(t)===r||r!==By&&gb(e,n,t))&&("**"===t.path||db(e,t,n).matched)}function yb(t,e,n){return 0===e.length&&!t.children[n]}class vb{constructor(t){this.segmentGroup=t||null}}class bb{constructor(t){this.urlTree=t}}function wb(t){return new lt.a(e=>e.error(new vb(t)))}function _b(t){return new lt.a(e=>e.error(new bb(t)))}function Eb(t){return new lt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ob{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=pb(this.urlTree.root,[],[],this.config).segmentGroup,e=new iv(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,By).pipe(Object(ft.a)(t=>this.createUrlTree(Sb(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(dy(t=>{if(t instanceof bb)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof vb)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,By).pipe(Object(ft.a)(e=>this.createUrlTree(Sb(e),t.queryParams,t.fragment))).pipe(dy(t=>{if(t instanceof vb)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new iv([],{[By]:t}):t;return new rv(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(ft.a)(t=>new iv([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(ct.a)(r).pipe(yy(r=>{const i=n.children[r],o=hb(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(ft.a)(t=>({segment:t,outlet:r})))}),Ie((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?je((e,n)=>t(e,n,r)):jm.a,vy(1),n?Om(e):Cm(()=>new ym))}())}expandSegment(t,e,n,r,i,o){return Object(ct.a)(n).pipe(yy(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(dy(t=>{if(t instanceof vb)return Object(Te.a)(null);throw t}))),km(t=>!!t),dy((t,n)=>{if(t instanceof ym||"EmptyError"===t.name){if(yb(e,r,i))return Object(Te.a)(new iv([],{}));throw new vb(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return mb(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):wb(e):wb(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?_b(i):this.lineralizeSegments(n,i).pipe(Object(my.a)(n=>{const i=new iv(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=db(e,r,i);if(!s)return wb(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?_b(l):this.lineralizeSegments(r,l).pipe(Object(my.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(Te.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(ft.a)(t=>(n._loadedConfig=t,new iv(r,{})))):Object(Te.a)(new iv(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=db(e,n,r);if(!o)return wb(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(my.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=pb(e,s,u,o),l=new iv(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(ft.a)(t=>new iv(s,t)));if(0===o.length&&0===c.length)return Object(Te.a)(new iv(s,{}));const h=lb(n)===i;return this.expandSegment(r,l,o,c,h?By:i,!0).pipe(Object(ft.a)(t=>new iv(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Te.a)(new tb(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Te.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(my.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(ft.a)(t=>(e._loadedConfig=t,t))):function(t){return new lt.a(e=>e.error(Gy(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Te.a)(new tb([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Te.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&eb(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!eb(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Zy(o)});return Object(Te.a)(i).pipe(ib(),Object(_y.a)(t=>{if(!nb(t))return;const e=Gy(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(ft.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Te.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Eb(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new rv(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Jy(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Jy(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new iv(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Sb(t){const e={};for(const n of Object.keys(t.children)){const r=Sb(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new iv(t.segments.concat(e.segments),e.children)}return t}(new iv(t.segments,e))}class Tb{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Cb{constructor(t,e){this.component=t,this.route=e}}function Ib(t,e,n){const r=t._root;return xb(r,e?e._root:null,n,[r.value])}function Ab(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function xb(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Iv(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!sv(t.url,e.url);case"pathParamsOrQueryParamsChange":return!sv(t.url,e.url)||!Wy(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mv(t,e)||!Wy(t.queryParams,e.queryParams);case"paramsChange":default:return!Mv(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Tb(r)):(o.data=s.data,o._resolvedData=s._resolvedData),xb(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Cb(a.outlet.component,s))}else s&&jb(e,a,i),i.canActivateChecks.push(new Tb(r)),xb(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Jy(o,(t,e)=>jb(t,n.getContext(e),i)),i}function jb(t,e,n){const r=Iv(t),i=t.value;Jy(r,(t,r)=>{jb(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Cb(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class kb{}function Nb(t){return new lt.a(e=>e.error(t))}class Db{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=pb(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,By);if(null===e)return null;const n=new Nv([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},By,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Cv(n,e),i=new Dv(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=kv(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=hb(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=Pb(n);return r.sort((t,e)=>t.value.outlet===By?-1:e.value.outlet===By?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return yb(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!mb(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Yy(n).parameters:{};i=new Nv(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vb(t),lb(t),t.component,t,Lb(e),Mb(e)+n.length,Fb(t))}else{const r=db(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Nv(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vb(t),lb(t),t.component,t,Lb(e),Mb(e)+o.length,Fb(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=pb(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Cv(i,t)]}if(0===a.length&&0===c.length)return[new Cv(i,[])];const l=lb(t)===r,h=this.processSegment(a,u,c,l?By:r);return null===h?null:[new Cv(i,h)]}}function Rb(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Pb(t){const e=[],n=new Set;for(const r of t){if(!Rb(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Pb(r.children);e.push(new Cv(r.value,t))}return e.filter(t=>!n.has(t))}function Lb(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Mb(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Vb(t){return t.data||{}}function Fb(t){return t.resolve||{}}function Ub(t){return am(e=>{const n=t(e);return n?Object(ct.a)(n).pipe(Object(ft.a)(()=>e)):Object(Te.a)(e)})}class qb extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Bb=new r.r("ROUTES");class Hb{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(ft.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new tb(Qy(i.injector.get(Bb,void 0,r.q.Self|r.q.Optional)).map(cb),i)}),dy(t=>{throw e._loader$=void 0,t}));return e._loader$=new fy.a(n,()=>new im.a).pipe(Object(Ey.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(ct.a)(this.loader.load(t)):Zy(t()).pipe(Object(my.a)(t=>t instanceof r.w?Object(Te.a)(t):Object(ct.a)(this.compiler.compileModuleAsync(t))))}}class zb{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Gb,this.attachRef=null}}class Gb{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new zb,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Kb{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Wb(t){throw t}function $b(t,e,n){return e.parse("/")}function Qb(t,e){return Object(Te.a)(null)}let Yb=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new im.a,this.errorHandler=Wb,this.malformedUriErrorHandler=$b,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Qb,afterPreactivation:Qb},this.urlHandlingStrategy=new Kb,this.routeReuseStrategy=new qb,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.y),this.console=o.get(r.Y);const c=o.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new rv(new iv([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Hb(s,a,t=>this.triggerEvent(new Py(t)),t=>this.triggerEvent(new Ly(t))),this.routerState=xv(this.currentUrlTree,this.rootComponentType),this.transitions=new Xm({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(je(t=>0!==t.id),Object(ft.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),am(t=>{let n=!1,r=!1;return Object(Te.a)(t).pipe(Object(_y.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),am(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Te.a)(t).pipe(am(t=>{const n=this.transitions.getValue();return e.next(new Cy(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?bm.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,am(t=>function(t,e,n,r,i){return new Ob(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(ft.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(_y.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(my.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Db(t,e,n,r,i,o).recognize();return null===s?Nb(new kb):Object(Te.a)(s)}catch(Zg){return Nb(Zg)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(ft.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(_y.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new jy(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Cy(n,this.serializeUrl(r),i,o);e.next(a);const u=xv(r,this.rootComponentType).snapshot;return Object(Te.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),bm.a}),Ub(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(_y.a)(t=>{const e=new ky(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(ft.a)(t=>Object.assign(Object.assign({},t),{guards:Ib(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(my.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Te.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(ct.a)(t).pipe(Object(my.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Te.a)(!0);const s=o.map(o=>{const s=Ab(o,e,i);let a;if(function(t){return t&&eb(t.canDeactivate)}(s))a=Zy(s.canDeactivate(t,e,n,r));else{if(!eb(s))throw new Error("Invalid CanDeactivate guard");a=Zy(s(t,e,n,r))}return a.pipe(km())});return Object(Te.a)(s).pipe(ib())}(t.component,t.route,n,e,r)),km(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(my.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(ct.a)(e).pipe(yy(e=>ly(function(t,e){return null!==t&&e&&e(new My(t)),Object(Te.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Fy(t)),Object(Te.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>hy(()=>{const i=e.guards.map(i=>{const o=Ab(i,e.node,n);let s;if(function(t){return t&&eb(t.canActivateChild)}(o))s=Zy(o.canActivateChild(r,t));else{if(!eb(o))throw new Error("Invalid CanActivateChild guard");s=Zy(o(r,t))}return s.pipe(km())});return Object(Te.a)(i).pipe(ib())}));return Object(Te.a)(i).pipe(ib())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Te.a)(!0);const i=r.map(r=>hy(()=>{const i=Ab(r,e,n);let o;if(function(t){return t&&eb(t.canActivate)}(i))o=Zy(i.canActivate(e,t));else{if(!eb(i))throw new Error("Invalid CanActivate guard");o=Zy(i(e,t))}return o.pipe(km())}));return Object(Te.a)(i).pipe(ib())}(t,e.route,n))),km(t=>!0!==t,!0))}(r,o,t,e):Object(Te.a)(n)),Object(ft.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(_y.a)(t=>{if(nb(t.guardsResult)){const e=Gy(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Ny(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),je(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ay(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Ub(t=>{if(t.guards.canActivateChecks.length)return Object(Te.a)(t).pipe(Object(_y.a)(t=>{const e=new Dy(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),am(t=>{let n=!1;return Object(Te.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(my.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Te.a)(t);let o=0;return Object(ct.a)(n).pipe(yy(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Te.a)({});const o={};return Object(ct.a)(i).pipe(Object(my.a)(i=>function(t,e,n,r){const i=Ab(t,e,r);return Zy(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(_y.a)(t=>{o[i]=t}))),vy(1),Object(my.a)(()=>Object.keys(o).length===i.length?Object(Te.a)(o):bm.a))}(t._resolve,t,e,r).pipe(Object(ft.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),kv(t,n).resolve),null)))}(t.route,e,r,i)),Object(_y.a)(()=>o++),vy(1),Object(my.a)(e=>o===n.length?Object(Te.a)(t):bm.a))})),Object(_y.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Ay(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(_y.a)(t=>{const e=new Ry(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Ub(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(ft.a)(t=>{const e=function(t,e,n){const r=Vv(t,e._root,n?n._root:void 0);return new Av(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(_y.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(ft.a)(t=>(new Zv(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(_y.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Ay(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Oy(i))),dy(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=nb(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ay(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new xy(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(wa){t.reject(wa)}}var i;return bm.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){sb(t),this.config=t.map(cb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Bv(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new zv(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Jy(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new zv(n,e,r)}(n);if(o.toRoot())return Bv(e.root,new iv([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Gv(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Gv(t,t===e.root,0)}const r=Uv(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Gv(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Wv(s.segmentGroup,s.index,o.commands):Kv(s.segmentGroup,s.index,o.commands);return Bv(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=nb(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Zg){e=this.malformedUriErrorHandler(Zg,this.urlSerializer,t)}return e}isActive(t,e){if(nb(t))return Xy(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Xy(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Iy(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.N),r.Rb(av),r.Rb(Gb),r.Rb(_),r.Rb(r.s),r.Rb(r.x),r.Rb(r.i),r.Rb(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Jb=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||By,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Zb(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Gb),r.Lb(r.Q),r.Lb(r.j),r.Sb("name"),r.Lb(r.h))},t.\u0275dir=r.Gb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Zb{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===jv?this.route:t===Gb?this.childContexts:this.parent.get(t,e)}}class Xb{}class tw{preload(t,e){return Object(Te.a)(null)}}let ew=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Hb(e,n,e=>t.triggerEvent(new Py(e)),e=>t.triggerEvent(new Ly(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(je(t=>t instanceof Iy),yy(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(ct.a)(n).pipe(Object(cy.a)(),Object(ft.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(Te.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(my.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Yb),r.Rb(r.x),r.Rb(r.i),r.Rb(r.s),r.Rb(Xb))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),nw=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Cy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Iy&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof qy&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new qy(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Yb),r.Rb(j),r.Rb(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const rw=new r.r("ROUTER_CONFIGURATION"),iw=new r.r("ROUTER_FORROOT_GUARD"),ow=[_,{provide:av,useClass:uv},{provide:Yb,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new Yb(null,t,e,n,r,i,s,Qy(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[av,Gb,_,r.s,r.x,r.i,Bb,rw,[class{},new r.B],[class{},new r.B]]},Gb,{provide:jv,useFactory:function(t){return t.routerState.root},deps:[Yb]},{provide:r.x,useClass:r.K},ew,tw,class{preload(t,e){return e().pipe(dy(()=>Object(Te.a)(null)))}},{provide:rw,useValue:{enableTracing:!1}}];function sw(){return new r.z("Router",Yb)}let aw=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ow,hw(e),{provide:iw,useFactory:lw,deps:[[Yb,new r.B,new r.J]]},{provide:rw,useValue:n||{}},{provide:m,useFactory:cw,deps:[a,[new r.p(v),new r.B],rw]},{provide:nw,useFactory:uw,deps:[Yb,j,rw]},{provide:Xb,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:tw},{provide:r.z,multi:!0,useFactory:sw},[fw,{provide:r.d,multi:!0,useFactory:dw,deps:[fw]},{provide:gw,useFactory:pw,deps:[fw]},{provide:r.b,multi:!0,useExisting:gw}]]}}static forChild(e){return{ngModule:t,providers:[hw(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(iw,8),r.Rb(Yb,8))},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({}),t})();function uw(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new nw(t,e,n)}function cw(t,e,n={}){return n.useHash?new w(t,e):new b(t,e)}function lw(t){return"guarded"}function hw(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Bb,multi:!0,useValue:t}]}let fw=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new im.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Yb),r=this.injector.get(rw);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Te.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(rw),n=this.injector.get(ew),i=this.injector.get(nw),o=this.injector.get(Yb),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function dw(t){return t.appInitializer.bind(t)}function pw(t){return t.bootstrapListener.bind(t)}const gw=new r.r("Router Initializer");let mw=(()=>{class t{constructor(t,e,n,r){this.db=t,this.auth=e,this.router=n,this.ngZone=r,this.auth.authState.subscribe(t=>{t?(this.userState=t,localStorage.setItem("user",JSON.stringify(this.userState))):localStorage.setItem("user","")})}SignUp(t,e,n){return Object(Oe.b)(this,void 0,void 0,function*(){return this.auth.createUserWithEmailAndPassword(t,e).then(t=>{this.SetUserData(t.user,n)}).catch(t=>{window.alert(t.message)})})}SetUserData(t,e){return this.db.doc(`Users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:e,photoURL:t.photoURL,name:"",designation:"",aboutMe:"",skills:"",blogLinks:"",socialLinks:{twitter:"",facebook:"",linkedIn:"",gitHub:""}},{merge:!0})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Zm),r.Rb(Vm),r.Rb(Yb),r.Rb(r.A))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var yw=n("8oxB");const vw=[{path:"",component:(()=>{class t{constructor(t,e,n,r){this.auth=t,this.fb=e,this.router=n,this.fireStore=r,this.registreForm=this.fb.group({displayName:["",St.required],email:["",[St.email,St.required]],password:["",St.required],confirmPassword:["",St.required]})}ngOnInit(){}onSubmit(){this.fireStore.collection("Users",t=>t.where("displayName","==",this.registreForm.value.displayName)).valueChanges().subscribe(t=>{this.validate(t)})}validate(t){0!=t.length?(alert("this username is already taken please have another username."),Object(yw.exit)()):this.registreForm.value.password==this.registreForm.value.confirmPassword?(this.auth.SignUp(this.registreForm.value.email,this.registreForm.value.password,this.registreForm.value.displayName),this.router.navigate(["/registration-successful"]),Object(yw.exit)(1)):(alert("password and confirm password does not match please re-enter the field!!"),Object(yw.exit)())}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(mw),r.Lb(_e),r.Lb(Yb),r.Lb(Zm))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-register"]],decls:28,vars:2,consts:[[1,"vh-100"],[1,"container-fluid","h-custom"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-md-9","col-lg-6","col-xl-5"],["src","assets/content/login.PNG","alt","Sample image",1,"img-fluid","mt-5"],[1,"col-md-8","col-lg-6","col-xl-4","offset-xl-1"],[3,"formGroup","ngSubmit"],[1,"mb-5","mt-5","text-muted"],[1,"form-outline","mb-2"],["type","email","id","form3Example3","placeholder","Email","formControlName","email",1,"form-control","form-control-lg"],["for","form3Example3",1,"form-label"],["type","text","id","form3Example3","placeholder","Username","formControlName","displayName",1,"form-control","form-control-lg"],["type","password","id","form3Example4","placeholder","Enter password","formControlName","password",1,"form-control","form-control-lg"],["for","form3Example4",1,"form-label"],["type","password","id","form3Example4","placeholder","Confirm password","formControlName","confirmPassword",1,"form-control","form-control-lg"],[1,"text-center","text-lg-start","mt-4","pt-2"],[1,"btn","btn-danger","btn-lg",2,"padding-left","2.5rem","padding-right","2.5rem",3,"disabled"]],template:function(t,e){1&t&&(r.Ob(0,"section",0),r.Ob(1,"div",1),r.Ob(2,"div",2),r.Ob(3,"div",3),r.Mb(4,"img",4),r.Nb(),r.Ob(5,"div",5),r.Ob(6,"form",6),r.Ub("ngSubmit",function(){return e.onSubmit()}),r.Ob(7,"h1",7),r.ac(8,"Register "),r.Nb(),r.Ob(9,"div",8),r.Mb(10,"input",9),r.Ob(11,"label",10),r.ac(12,"Email"),r.Nb(),r.Nb(),r.Ob(13,"div",8),r.Mb(14,"input",11),r.Ob(15,"label",10),r.ac(16,"Username"),r.Nb(),r.Nb(),r.Ob(17,"div",8),r.Mb(18,"input",12),r.Ob(19,"label",13),r.ac(20,"Password"),r.Nb(),r.Nb(),r.Ob(21,"div",8),r.Mb(22,"input",14),r.Ob(23,"label",13),r.ac(24,"Confirm Password"),r.Nb(),r.Nb(),r.Ob(25,"div",15),r.Ob(26,"button",16),r.ac(27,"Register"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.Bb(6),r.Wb("formGroup",e.registreForm),r.Bb(20),r.Wb("disabled",!e.registreForm.valid))},directives:[he,zt,ge,vt,Ht,ye],styles:[""]}),t})()},{path:"registration-successful",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-registration-complete"]],decls:17,vars:0,consts:[["lang","en"],["charset","utf-8"],["http-equiv","X-UA-Compatible","content","IE=edge,chrome=1"],["name","viewport","content","width=device-width, initial-scale=1"],["href","https://fonts.googleapis.com/css?family=Lato:300,400|Montserrat:700","rel","stylesheet","type","text/css"],["rel","stylesheet","href","https://2-22-4-dot-lead-pages.appspot.com/static/lp918/min/default_thank_you.css"],["id","header",1,"site-header"],["data-lead-id","site-header-title",1,"site-header__title"],[1,"main-content"],["src","assets/content/login.PNG"],["data-lead-id","main-content-body",1,"main-content__body"],["id","footer",1,"site-footer"]],template:function(t,e){1&t&&(r.Ob(0,"html",0),r.Ob(1,"head"),r.Mb(2,"meta",1),r.Mb(3,"meta",2),r.Mb(4,"meta",3),r.Mb(5,"title"),r.Mb(6,"link",4),r.Mb(7,"link",5),r.Nb(),r.Ob(8,"body"),r.Ob(9,"header",6),r.Ob(10,"h1",7),r.ac(11,"THANKS YOU!"),r.Nb(),r.Nb(),r.Ob(12,"div",8),r.Mb(13,"img",9),r.Ob(14,"p",10),r.ac(15,"Your registration is done successfully."),r.Nb(),r.Nb(),r.Mb(16,"footer",11),r.Nb(),r.Nb())},styles:["","@import url(//cdnjs.cloudflare.com/ajax/libs/normalize/3.0.1/normalize.min.css);\n        @import url(//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css);"]}),t})()}];let bw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[[aw.forRoot(vw)],aw]}),t})(),ww=(()=>{class t{constructor(){this.title="Demo-Git-Registration"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Mb(0,"router-outlet")},directives:[Jb],styles:[""]}),t})();const _w={apiKey:"AIzaSyDNZkizoeo4E1ErdJnmEeubMucw9wp65jc",authDomain:"rxdigitalmarketing-a11bb.firebaseapp.com",projectId:"rxdigitalmarketing-a11bb",storageBucket:"rxdigitalmarketing-a11bb.appspot.com",messagingSenderId:"850240575146",appId:"1:850240575146:web:bfff0b521d0efa79c722d3",measurementId:"G-H97NY9T8QR"};let Ew=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t,bootstrap:[ww]}),t.\u0275inj=r.Ib({providers:[mw],imports:[[ut,bw,Ee.a.initializeApp(_w),be,we]]}),t})();Object(r.T)(),st().bootstrapModule(Ew).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);